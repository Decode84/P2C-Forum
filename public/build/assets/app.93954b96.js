var Vo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function DL(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Gd={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(r,e){(function(){var t,n="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,h="__lodash_placeholder__",p=1,v=2,g=4,y=1,x=2,T=1,E=2,L=4,N=8,B=16,_=32,z=64,K=128,$=256,le=512,we=30,De="...",Se=800,jt=16,Be=1,wi=2,ln=3,un=1/0,zr=9007199254740991,xc=17976931348623157e292,Ci=0/0,It=4294967295,Ye=It-1,Ds=It>>>1,Ze=[["ary",K],["bind",T],["bindKey",E],["curry",N],["curryRight",B],["flip",le],["partial",_],["partialRight",z],["rearg",$]],cn="[object Arguments]",Fn="[object Array]",wo="[object AsyncFunction]",Hn="[object Boolean]",fn="[object Date]",Ns="[object DOMException]",wr="[object Error]",Cr="[object Function]",da="[object GeneratorFunction]",Tt="[object Map]",ar="[object Number]",ha="[object Null]",or="[object Object]",xi="[object Promise]",Is="[object Proxy]",dn="[object RegExp]",st="[object Set]",sr="[object String]",xr="[object Symbol]",Rs="[object Undefined]",qn="[object WeakMap]",Ps="[object WeakSet]",hn="[object ArrayBuffer]",pn="[object DataView]",Ti="[object Float32Array]",ki="[object Float64Array]",lr="[object Int8Array]",$n="[object Int16Array]",Ei="[object Int32Array]",Vr="[object Uint8Array]",Co="[object Uint8ClampedArray]",xo="[object Uint16Array]",Wr="[object Uint32Array]",Un=/\b__p \+= '';/g,Tc=/\b(__p \+=) '' \+/g,To=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ko=/&(?:amp|lt|gt|quot|#39);/g,Eo=/[&<>"']/g,pa=RegExp(ko.source),So=RegExp(Eo.source),kc=/<%-([\s\S]+?)%>/g,Tr=/<%([\s\S]+?)%>/g,Mo=/<%=([\s\S]+?)%>/g,Bs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fs=/^\w*$/,Ec=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vn=/[\\^$.*+?()[\]{}|]/g,kr=RegExp(vn.source),va=/^\s+/,Hs=/\s/,qs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Sc=/\{\n\/\* \[wrapped with (.+)\] \*/,Z=/,? & /,A=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,U=/[()=,{}\[\]\/\s]/,X=/\\(\\)?/g,Ce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ze=/\w*$/,Qe=/^[-+]0x[0-9a-f]+$/i,et=/^0b[01]+$/i,Er=/^\[object .+?Constructor\]$/,Si=/^0o[0-7]+$/i,$s=/^(?:0|[1-9]\d*)$/,Mc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Oo=/($^)/,kk=/['\n\r\u2028\u2029\\]/g,Us="\\ud800-\\udfff",Ek="\\u0300-\\u036f",Sk="\\ufe20-\\ufe2f",Mk="\\u20d0-\\u20ff",gv=Ek+Sk+Mk,yv="\\u2700-\\u27bf",bv="a-z\\xdf-\\xf6\\xf8-\\xff",Ok="\\xac\\xb1\\xd7\\xf7",Ak="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",_k="\\u2000-\\u206f",Lk=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",wv="A-Z\\xc0-\\xd6\\xd8-\\xde",Cv="\\ufe0e\\ufe0f",xv=Ok+Ak+_k+Lk,Oc="['\u2019]",Dk="["+Us+"]",Tv="["+xv+"]",zs="["+gv+"]",kv="\\d+",Nk="["+yv+"]",Ev="["+bv+"]",Sv="[^"+Us+xv+kv+yv+bv+wv+"]",Ac="\\ud83c[\\udffb-\\udfff]",Ik="(?:"+zs+"|"+Ac+")",Mv="[^"+Us+"]",_c="(?:\\ud83c[\\udde6-\\uddff]){2}",Lc="[\\ud800-\\udbff][\\udc00-\\udfff]",ma="["+wv+"]",Ov="\\u200d",Av="(?:"+Ev+"|"+Sv+")",Rk="(?:"+ma+"|"+Sv+")",_v="(?:"+Oc+"(?:d|ll|m|re|s|t|ve))?",Lv="(?:"+Oc+"(?:D|LL|M|RE|S|T|VE))?",Dv=Ik+"?",Nv="["+Cv+"]?",Pk="(?:"+Ov+"(?:"+[Mv,_c,Lc].join("|")+")"+Nv+Dv+")*",Bk="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Fk="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Iv=Nv+Dv+Pk,Hk="(?:"+[Nk,_c,Lc].join("|")+")"+Iv,qk="(?:"+[Mv+zs+"?",zs,_c,Lc,Dk].join("|")+")",$k=RegExp(Oc,"g"),Uk=RegExp(zs,"g"),Dc=RegExp(Ac+"(?="+Ac+")|"+qk+Iv,"g"),zk=RegExp([ma+"?"+Ev+"+"+_v+"(?="+[Tv,ma,"$"].join("|")+")",Rk+"+"+Lv+"(?="+[Tv,ma+Av,"$"].join("|")+")",ma+"?"+Av+"+"+_v,ma+"+"+Lv,Fk,Bk,kv,Hk].join("|"),"g"),Vk=RegExp("["+Ov+Us+gv+Cv+"]"),Wk=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jk=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gk=-1,Oe={};Oe[Ti]=Oe[ki]=Oe[lr]=Oe[$n]=Oe[Ei]=Oe[Vr]=Oe[Co]=Oe[xo]=Oe[Wr]=!0,Oe[cn]=Oe[Fn]=Oe[hn]=Oe[Hn]=Oe[pn]=Oe[fn]=Oe[wr]=Oe[Cr]=Oe[Tt]=Oe[ar]=Oe[or]=Oe[dn]=Oe[st]=Oe[sr]=Oe[qn]=!1;var Me={};Me[cn]=Me[Fn]=Me[hn]=Me[pn]=Me[Hn]=Me[fn]=Me[Ti]=Me[ki]=Me[lr]=Me[$n]=Me[Ei]=Me[Tt]=Me[ar]=Me[or]=Me[dn]=Me[st]=Me[sr]=Me[xr]=Me[Vr]=Me[Co]=Me[xo]=Me[Wr]=!0,Me[wr]=Me[Cr]=Me[qn]=!1;var Kk={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Jk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xk={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Yk={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zk=parseFloat,Qk=parseInt,Rv=typeof Vo=="object"&&Vo&&Vo.Object===Object&&Vo,eE=typeof self=="object"&&self&&self.Object===Object&&self,lt=Rv||eE||Function("return this")(),Nc=e&&!e.nodeType&&e,Mi=Nc&&!0&&r&&!r.nodeType&&r,Pv=Mi&&Mi.exports===Nc,Ic=Pv&&Rv.process,ur=function(){try{var M=Mi&&Mi.require&&Mi.require("util").types;return M||Ic&&Ic.binding&&Ic.binding("util")}catch{}}(),Bv=ur&&ur.isArrayBuffer,Fv=ur&&ur.isDate,Hv=ur&&ur.isMap,qv=ur&&ur.isRegExp,$v=ur&&ur.isSet,Uv=ur&&ur.isTypedArray;function Gt(M,R,D){switch(D.length){case 0:return M.call(R);case 1:return M.call(R,D[0]);case 2:return M.call(R,D[0],D[1]);case 3:return M.call(R,D[0],D[1],D[2])}return M.apply(R,D)}function tE(M,R,D,j){for(var re=-1,be=M==null?0:M.length;++re<be;){var Ve=M[re];R(j,Ve,D(Ve),M)}return j}function cr(M,R){for(var D=-1,j=M==null?0:M.length;++D<j&&R(M[D],D,M)!==!1;);return M}function rE(M,R){for(var D=M==null?0:M.length;D--&&R(M[D],D,M)!==!1;);return M}function zv(M,R){for(var D=-1,j=M==null?0:M.length;++D<j;)if(!R(M[D],D,M))return!1;return!0}function zn(M,R){for(var D=-1,j=M==null?0:M.length,re=0,be=[];++D<j;){var Ve=M[D];R(Ve,D,M)&&(be[re++]=Ve)}return be}function Vs(M,R){var D=M==null?0:M.length;return!!D&&ga(M,R,0)>-1}function Rc(M,R,D){for(var j=-1,re=M==null?0:M.length;++j<re;)if(D(R,M[j]))return!0;return!1}function Ae(M,R){for(var D=-1,j=M==null?0:M.length,re=Array(j);++D<j;)re[D]=R(M[D],D,M);return re}function Vn(M,R){for(var D=-1,j=R.length,re=M.length;++D<j;)M[re+D]=R[D];return M}function Pc(M,R,D,j){var re=-1,be=M==null?0:M.length;for(j&&be&&(D=M[++re]);++re<be;)D=R(D,M[re],re,M);return D}function nE(M,R,D,j){var re=M==null?0:M.length;for(j&&re&&(D=M[--re]);re--;)D=R(D,M[re],re,M);return D}function Bc(M,R){for(var D=-1,j=M==null?0:M.length;++D<j;)if(R(M[D],D,M))return!0;return!1}var iE=Fc("length");function aE(M){return M.split("")}function oE(M){return M.match(A)||[]}function Vv(M,R,D){var j;return D(M,function(re,be,Ve){if(R(re,be,Ve))return j=be,!1}),j}function Ws(M,R,D,j){for(var re=M.length,be=D+(j?1:-1);j?be--:++be<re;)if(R(M[be],be,M))return be;return-1}function ga(M,R,D){return R===R?yE(M,R,D):Ws(M,Wv,D)}function sE(M,R,D,j){for(var re=D-1,be=M.length;++re<be;)if(j(M[re],R))return re;return-1}function Wv(M){return M!==M}function jv(M,R){var D=M==null?0:M.length;return D?qc(M,R)/D:Ci}function Fc(M){return function(R){return R==null?t:R[M]}}function Hc(M){return function(R){return M==null?t:M[R]}}function Gv(M,R,D,j,re){return re(M,function(be,Ve,Ee){D=j?(j=!1,be):R(D,be,Ve,Ee)}),D}function lE(M,R){var D=M.length;for(M.sort(R);D--;)M[D]=M[D].value;return M}function qc(M,R){for(var D,j=-1,re=M.length;++j<re;){var be=R(M[j]);be!==t&&(D=D===t?be:D+be)}return D}function $c(M,R){for(var D=-1,j=Array(M);++D<M;)j[D]=R(D);return j}function uE(M,R){return Ae(R,function(D){return[D,M[D]]})}function Kv(M){return M&&M.slice(0,Zv(M)+1).replace(va,"")}function Kt(M){return function(R){return M(R)}}function Uc(M,R){return Ae(R,function(D){return M[D]})}function Ao(M,R){return M.has(R)}function Jv(M,R){for(var D=-1,j=M.length;++D<j&&ga(R,M[D],0)>-1;);return D}function Xv(M,R){for(var D=M.length;D--&&ga(R,M[D],0)>-1;);return D}function cE(M,R){for(var D=M.length,j=0;D--;)M[D]===R&&++j;return j}var fE=Hc(Kk),dE=Hc(Jk);function hE(M){return"\\"+Yk[M]}function pE(M,R){return M==null?t:M[R]}function ya(M){return Vk.test(M)}function vE(M){return Wk.test(M)}function mE(M){for(var R,D=[];!(R=M.next()).done;)D.push(R.value);return D}function zc(M){var R=-1,D=Array(M.size);return M.forEach(function(j,re){D[++R]=[re,j]}),D}function Yv(M,R){return function(D){return M(R(D))}}function Wn(M,R){for(var D=-1,j=M.length,re=0,be=[];++D<j;){var Ve=M[D];(Ve===R||Ve===h)&&(M[D]=h,be[re++]=D)}return be}function js(M){var R=-1,D=Array(M.size);return M.forEach(function(j){D[++R]=j}),D}function gE(M){var R=-1,D=Array(M.size);return M.forEach(function(j){D[++R]=[j,j]}),D}function yE(M,R,D){for(var j=D-1,re=M.length;++j<re;)if(M[j]===R)return j;return-1}function bE(M,R,D){for(var j=D+1;j--;)if(M[j]===R)return j;return j}function ba(M){return ya(M)?CE(M):iE(M)}function Sr(M){return ya(M)?xE(M):aE(M)}function Zv(M){for(var R=M.length;R--&&Hs.test(M.charAt(R)););return R}var wE=Hc(Xk);function CE(M){for(var R=Dc.lastIndex=0;Dc.test(M);)++R;return R}function xE(M){return M.match(Dc)||[]}function TE(M){return M.match(zk)||[]}var kE=function M(R){R=R==null?lt:wa.defaults(lt.Object(),R,wa.pick(lt,jk));var D=R.Array,j=R.Date,re=R.Error,be=R.Function,Ve=R.Math,Ee=R.Object,Vc=R.RegExp,EE=R.String,fr=R.TypeError,Gs=D.prototype,SE=be.prototype,Ca=Ee.prototype,Ks=R["__core-js_shared__"],Js=SE.toString,ke=Ca.hasOwnProperty,ME=0,Qv=function(){var s=/[^.]+$/.exec(Ks&&Ks.keys&&Ks.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),Xs=Ca.toString,OE=Js.call(Ee),AE=lt._,_E=Vc("^"+Js.call(ke).replace(vn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ys=Pv?R.Buffer:t,jn=R.Symbol,Zs=R.Uint8Array,em=Ys?Ys.allocUnsafe:t,Qs=Yv(Ee.getPrototypeOf,Ee),tm=Ee.create,rm=Ca.propertyIsEnumerable,el=Gs.splice,nm=jn?jn.isConcatSpreadable:t,_o=jn?jn.iterator:t,Oi=jn?jn.toStringTag:t,tl=function(){try{var s=Ni(Ee,"defineProperty");return s({},"",{}),s}catch{}}(),LE=R.clearTimeout!==lt.clearTimeout&&R.clearTimeout,DE=j&&j.now!==lt.Date.now&&j.now,NE=R.setTimeout!==lt.setTimeout&&R.setTimeout,rl=Ve.ceil,nl=Ve.floor,Wc=Ee.getOwnPropertySymbols,IE=Ys?Ys.isBuffer:t,im=R.isFinite,RE=Gs.join,PE=Yv(Ee.keys,Ee),We=Ve.max,yt=Ve.min,BE=j.now,FE=R.parseInt,am=Ve.random,HE=Gs.reverse,jc=Ni(R,"DataView"),Lo=Ni(R,"Map"),Gc=Ni(R,"Promise"),xa=Ni(R,"Set"),Do=Ni(R,"WeakMap"),No=Ni(Ee,"create"),il=Do&&new Do,Ta={},qE=Ii(jc),$E=Ii(Lo),UE=Ii(Gc),zE=Ii(xa),VE=Ii(Do),al=jn?jn.prototype:t,Io=al?al.valueOf:t,om=al?al.toString:t;function w(s){if(Pe(s)&&!ne(s)&&!(s instanceof de)){if(s instanceof dr)return s;if(ke.call(s,"__wrapped__"))return sg(s)}return new dr(s)}var ka=function(){function s(){}return function(u){if(!Ne(u))return{};if(tm)return tm(u);s.prototype=u;var d=new s;return s.prototype=t,d}}();function ol(){}function dr(s,u){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=t}w.templateSettings={escape:kc,evaluate:Tr,interpolate:Mo,variable:"",imports:{_:w}},w.prototype=ol.prototype,w.prototype.constructor=w,dr.prototype=ka(ol.prototype),dr.prototype.constructor=dr;function de(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=It,this.__views__=[]}function WE(){var s=new de(this.__wrapped__);return s.__actions__=Rt(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Rt(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Rt(this.__views__),s}function jE(){if(this.__filtered__){var s=new de(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function GE(){var s=this.__wrapped__.value(),u=this.__dir__,d=ne(s),m=u<0,b=d?s.length:0,C=aM(0,b,this.__views__),k=C.start,S=C.end,O=S-k,P=m?S:k-1,F=this.__iteratees__,H=F.length,V=0,Y=yt(O,this.__takeCount__);if(!d||!m&&b==O&&Y==O)return _m(s,this.__actions__);var ee=[];e:for(;O--&&V<Y;){P+=u;for(var se=-1,te=s[P];++se<H;){var fe=F[se],pe=fe.iteratee,Yt=fe.type,St=pe(te);if(Yt==wi)te=St;else if(!St){if(Yt==Be)continue e;break e}}ee[V++]=te}return ee}de.prototype=ka(ol.prototype),de.prototype.constructor=de;function Ai(s){var u=-1,d=s==null?0:s.length;for(this.clear();++u<d;){var m=s[u];this.set(m[0],m[1])}}function KE(){this.__data__=No?No(null):{},this.size=0}function JE(s){var u=this.has(s)&&delete this.__data__[s];return this.size-=u?1:0,u}function XE(s){var u=this.__data__;if(No){var d=u[s];return d===c?t:d}return ke.call(u,s)?u[s]:t}function YE(s){var u=this.__data__;return No?u[s]!==t:ke.call(u,s)}function ZE(s,u){var d=this.__data__;return this.size+=this.has(s)?0:1,d[s]=No&&u===t?c:u,this}Ai.prototype.clear=KE,Ai.prototype.delete=JE,Ai.prototype.get=XE,Ai.prototype.has=YE,Ai.prototype.set=ZE;function mn(s){var u=-1,d=s==null?0:s.length;for(this.clear();++u<d;){var m=s[u];this.set(m[0],m[1])}}function QE(){this.__data__=[],this.size=0}function eS(s){var u=this.__data__,d=sl(u,s);if(d<0)return!1;var m=u.length-1;return d==m?u.pop():el.call(u,d,1),--this.size,!0}function tS(s){var u=this.__data__,d=sl(u,s);return d<0?t:u[d][1]}function rS(s){return sl(this.__data__,s)>-1}function nS(s,u){var d=this.__data__,m=sl(d,s);return m<0?(++this.size,d.push([s,u])):d[m][1]=u,this}mn.prototype.clear=QE,mn.prototype.delete=eS,mn.prototype.get=tS,mn.prototype.has=rS,mn.prototype.set=nS;function gn(s){var u=-1,d=s==null?0:s.length;for(this.clear();++u<d;){var m=s[u];this.set(m[0],m[1])}}function iS(){this.size=0,this.__data__={hash:new Ai,map:new(Lo||mn),string:new Ai}}function aS(s){var u=bl(this,s).delete(s);return this.size-=u?1:0,u}function oS(s){return bl(this,s).get(s)}function sS(s){return bl(this,s).has(s)}function lS(s,u){var d=bl(this,s),m=d.size;return d.set(s,u),this.size+=d.size==m?0:1,this}gn.prototype.clear=iS,gn.prototype.delete=aS,gn.prototype.get=oS,gn.prototype.has=sS,gn.prototype.set=lS;function _i(s){var u=-1,d=s==null?0:s.length;for(this.__data__=new gn;++u<d;)this.add(s[u])}function uS(s){return this.__data__.set(s,c),this}function cS(s){return this.__data__.has(s)}_i.prototype.add=_i.prototype.push=uS,_i.prototype.has=cS;function Mr(s){var u=this.__data__=new mn(s);this.size=u.size}function fS(){this.__data__=new mn,this.size=0}function dS(s){var u=this.__data__,d=u.delete(s);return this.size=u.size,d}function hS(s){return this.__data__.get(s)}function pS(s){return this.__data__.has(s)}function vS(s,u){var d=this.__data__;if(d instanceof mn){var m=d.__data__;if(!Lo||m.length<i-1)return m.push([s,u]),this.size=++d.size,this;d=this.__data__=new gn(m)}return d.set(s,u),this.size=d.size,this}Mr.prototype.clear=fS,Mr.prototype.delete=dS,Mr.prototype.get=hS,Mr.prototype.has=pS,Mr.prototype.set=vS;function sm(s,u){var d=ne(s),m=!d&&Ri(s),b=!d&&!m&&Yn(s),C=!d&&!m&&!b&&Oa(s),k=d||m||b||C,S=k?$c(s.length,EE):[],O=S.length;for(var P in s)(u||ke.call(s,P))&&!(k&&(P=="length"||b&&(P=="offset"||P=="parent")||C&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||Cn(P,O)))&&S.push(P);return S}function lm(s){var u=s.length;return u?s[af(0,u-1)]:t}function mS(s,u){return wl(Rt(s),Li(u,0,s.length))}function gS(s){return wl(Rt(s))}function Kc(s,u,d){(d!==t&&!Or(s[u],d)||d===t&&!(u in s))&&yn(s,u,d)}function Ro(s,u,d){var m=s[u];(!(ke.call(s,u)&&Or(m,d))||d===t&&!(u in s))&&yn(s,u,d)}function sl(s,u){for(var d=s.length;d--;)if(Or(s[d][0],u))return d;return-1}function yS(s,u,d,m){return Gn(s,function(b,C,k){u(m,b,d(b),k)}),m}function um(s,u){return s&&Gr(u,tt(u),s)}function bS(s,u){return s&&Gr(u,Bt(u),s)}function yn(s,u,d){u=="__proto__"&&tl?tl(s,u,{configurable:!0,enumerable:!0,value:d,writable:!0}):s[u]=d}function Jc(s,u){for(var d=-1,m=u.length,b=D(m),C=s==null;++d<m;)b[d]=C?t:_f(s,u[d]);return b}function Li(s,u,d){return s===s&&(d!==t&&(s=s<=d?s:d),u!==t&&(s=s>=u?s:u)),s}function hr(s,u,d,m,b,C){var k,S=u&p,O=u&v,P=u&g;if(d&&(k=b?d(s,m,b,C):d(s)),k!==t)return k;if(!Ne(s))return s;var F=ne(s);if(F){if(k=sM(s),!S)return Rt(s,k)}else{var H=bt(s),V=H==Cr||H==da;if(Yn(s))return Nm(s,S);if(H==or||H==cn||V&&!b){if(k=O||V?{}:Zm(s),!S)return O?XS(s,bS(k,s)):JS(s,um(k,s))}else{if(!Me[H])return b?s:{};k=lM(s,H,S)}}C||(C=new Mr);var Y=C.get(s);if(Y)return Y;C.set(s,k),Mg(s)?s.forEach(function(te){k.add(hr(te,u,d,te,s,C))}):Eg(s)&&s.forEach(function(te,fe){k.set(fe,hr(te,u,d,fe,s,C))});var ee=P?O?mf:vf:O?Bt:tt,se=F?t:ee(s);return cr(se||s,function(te,fe){se&&(fe=te,te=s[fe]),Ro(k,fe,hr(te,u,d,fe,s,C))}),k}function wS(s){var u=tt(s);return function(d){return cm(d,s,u)}}function cm(s,u,d){var m=d.length;if(s==null)return!m;for(s=Ee(s);m--;){var b=d[m],C=u[b],k=s[b];if(k===t&&!(b in s)||!C(k))return!1}return!0}function fm(s,u,d){if(typeof s!="function")throw new fr(o);return Uo(function(){s.apply(t,d)},u)}function Po(s,u,d,m){var b=-1,C=Vs,k=!0,S=s.length,O=[],P=u.length;if(!S)return O;d&&(u=Ae(u,Kt(d))),m?(C=Rc,k=!1):u.length>=i&&(C=Ao,k=!1,u=new _i(u));e:for(;++b<S;){var F=s[b],H=d==null?F:d(F);if(F=m||F!==0?F:0,k&&H===H){for(var V=P;V--;)if(u[V]===H)continue e;O.push(F)}else C(u,H,m)||O.push(F)}return O}var Gn=Fm(jr),dm=Fm(Yc,!0);function CS(s,u){var d=!0;return Gn(s,function(m,b,C){return d=!!u(m,b,C),d}),d}function ll(s,u,d){for(var m=-1,b=s.length;++m<b;){var C=s[m],k=u(C);if(k!=null&&(S===t?k===k&&!Xt(k):d(k,S)))var S=k,O=C}return O}function xS(s,u,d,m){var b=s.length;for(d=oe(d),d<0&&(d=-d>b?0:b+d),m=m===t||m>b?b:oe(m),m<0&&(m+=b),m=d>m?0:Ag(m);d<m;)s[d++]=u;return s}function hm(s,u){var d=[];return Gn(s,function(m,b,C){u(m,b,C)&&d.push(m)}),d}function ut(s,u,d,m,b){var C=-1,k=s.length;for(d||(d=cM),b||(b=[]);++C<k;){var S=s[C];u>0&&d(S)?u>1?ut(S,u-1,d,m,b):Vn(b,S):m||(b[b.length]=S)}return b}var Xc=Hm(),pm=Hm(!0);function jr(s,u){return s&&Xc(s,u,tt)}function Yc(s,u){return s&&pm(s,u,tt)}function ul(s,u){return zn(u,function(d){return xn(s[d])})}function Di(s,u){u=Jn(u,s);for(var d=0,m=u.length;s!=null&&d<m;)s=s[Kr(u[d++])];return d&&d==m?s:t}function vm(s,u,d){var m=u(s);return ne(s)?m:Vn(m,d(s))}function kt(s){return s==null?s===t?Rs:ha:Oi&&Oi in Ee(s)?iM(s):gM(s)}function Zc(s,u){return s>u}function TS(s,u){return s!=null&&ke.call(s,u)}function kS(s,u){return s!=null&&u in Ee(s)}function ES(s,u,d){return s>=yt(u,d)&&s<We(u,d)}function Qc(s,u,d){for(var m=d?Rc:Vs,b=s[0].length,C=s.length,k=C,S=D(C),O=1/0,P=[];k--;){var F=s[k];k&&u&&(F=Ae(F,Kt(u))),O=yt(F.length,O),S[k]=!d&&(u||b>=120&&F.length>=120)?new _i(k&&F):t}F=s[0];var H=-1,V=S[0];e:for(;++H<b&&P.length<O;){var Y=F[H],ee=u?u(Y):Y;if(Y=d||Y!==0?Y:0,!(V?Ao(V,ee):m(P,ee,d))){for(k=C;--k;){var se=S[k];if(!(se?Ao(se,ee):m(s[k],ee,d)))continue e}V&&V.push(ee),P.push(Y)}}return P}function SS(s,u,d,m){return jr(s,function(b,C,k){u(m,d(b),C,k)}),m}function Bo(s,u,d){u=Jn(u,s),s=rg(s,u);var m=s==null?s:s[Kr(vr(u))];return m==null?t:Gt(m,s,d)}function mm(s){return Pe(s)&&kt(s)==cn}function MS(s){return Pe(s)&&kt(s)==hn}function OS(s){return Pe(s)&&kt(s)==fn}function Fo(s,u,d,m,b){return s===u?!0:s==null||u==null||!Pe(s)&&!Pe(u)?s!==s&&u!==u:AS(s,u,d,m,Fo,b)}function AS(s,u,d,m,b,C){var k=ne(s),S=ne(u),O=k?Fn:bt(s),P=S?Fn:bt(u);O=O==cn?or:O,P=P==cn?or:P;var F=O==or,H=P==or,V=O==P;if(V&&Yn(s)){if(!Yn(u))return!1;k=!0,F=!1}if(V&&!F)return C||(C=new Mr),k||Oa(s)?Jm(s,u,d,m,b,C):rM(s,u,O,d,m,b,C);if(!(d&y)){var Y=F&&ke.call(s,"__wrapped__"),ee=H&&ke.call(u,"__wrapped__");if(Y||ee){var se=Y?s.value():s,te=ee?u.value():u;return C||(C=new Mr),b(se,te,d,m,C)}}return V?(C||(C=new Mr),nM(s,u,d,m,b,C)):!1}function _S(s){return Pe(s)&&bt(s)==Tt}function ef(s,u,d,m){var b=d.length,C=b,k=!m;if(s==null)return!C;for(s=Ee(s);b--;){var S=d[b];if(k&&S[2]?S[1]!==s[S[0]]:!(S[0]in s))return!1}for(;++b<C;){S=d[b];var O=S[0],P=s[O],F=S[1];if(k&&S[2]){if(P===t&&!(O in s))return!1}else{var H=new Mr;if(m)var V=m(P,F,O,s,u,H);if(!(V===t?Fo(F,P,y|x,m,H):V))return!1}}return!0}function gm(s){if(!Ne(s)||dM(s))return!1;var u=xn(s)?_E:Er;return u.test(Ii(s))}function LS(s){return Pe(s)&&kt(s)==dn}function DS(s){return Pe(s)&&bt(s)==st}function NS(s){return Pe(s)&&Sl(s.length)&&!!Oe[kt(s)]}function ym(s){return typeof s=="function"?s:s==null?Ft:typeof s=="object"?ne(s)?Cm(s[0],s[1]):wm(s):qg(s)}function tf(s){if(!$o(s))return PE(s);var u=[];for(var d in Ee(s))ke.call(s,d)&&d!="constructor"&&u.push(d);return u}function IS(s){if(!Ne(s))return mM(s);var u=$o(s),d=[];for(var m in s)m=="constructor"&&(u||!ke.call(s,m))||d.push(m);return d}function rf(s,u){return s<u}function bm(s,u){var d=-1,m=Pt(s)?D(s.length):[];return Gn(s,function(b,C,k){m[++d]=u(b,C,k)}),m}function wm(s){var u=yf(s);return u.length==1&&u[0][2]?eg(u[0][0],u[0][1]):function(d){return d===s||ef(d,s,u)}}function Cm(s,u){return wf(s)&&Qm(u)?eg(Kr(s),u):function(d){var m=_f(d,s);return m===t&&m===u?Lf(d,s):Fo(u,m,y|x)}}function cl(s,u,d,m,b){s!==u&&Xc(u,function(C,k){if(b||(b=new Mr),Ne(C))RS(s,u,k,d,cl,m,b);else{var S=m?m(xf(s,k),C,k+"",s,u,b):t;S===t&&(S=C),Kc(s,k,S)}},Bt)}function RS(s,u,d,m,b,C,k){var S=xf(s,d),O=xf(u,d),P=k.get(O);if(P){Kc(s,d,P);return}var F=C?C(S,O,d+"",s,u,k):t,H=F===t;if(H){var V=ne(O),Y=!V&&Yn(O),ee=!V&&!Y&&Oa(O);F=O,V||Y||ee?ne(S)?F=S:Fe(S)?F=Rt(S):Y?(H=!1,F=Nm(O,!0)):ee?(H=!1,F=Im(O,!0)):F=[]:zo(O)||Ri(O)?(F=S,Ri(S)?F=_g(S):(!Ne(S)||xn(S))&&(F=Zm(O))):H=!1}H&&(k.set(O,F),b(F,O,m,C,k),k.delete(O)),Kc(s,d,F)}function xm(s,u){var d=s.length;if(!!d)return u+=u<0?d:0,Cn(u,d)?s[u]:t}function Tm(s,u,d){u.length?u=Ae(u,function(C){return ne(C)?function(k){return Di(k,C.length===1?C[0]:C)}:C}):u=[Ft];var m=-1;u=Ae(u,Kt(Q()));var b=bm(s,function(C,k,S){var O=Ae(u,function(P){return P(C)});return{criteria:O,index:++m,value:C}});return lE(b,function(C,k){return KS(C,k,d)})}function PS(s,u){return km(s,u,function(d,m){return Lf(s,m)})}function km(s,u,d){for(var m=-1,b=u.length,C={};++m<b;){var k=u[m],S=Di(s,k);d(S,k)&&Ho(C,Jn(k,s),S)}return C}function BS(s){return function(u){return Di(u,s)}}function nf(s,u,d,m){var b=m?sE:ga,C=-1,k=u.length,S=s;for(s===u&&(u=Rt(u)),d&&(S=Ae(s,Kt(d)));++C<k;)for(var O=0,P=u[C],F=d?d(P):P;(O=b(S,F,O,m))>-1;)S!==s&&el.call(S,O,1),el.call(s,O,1);return s}function Em(s,u){for(var d=s?u.length:0,m=d-1;d--;){var b=u[d];if(d==m||b!==C){var C=b;Cn(b)?el.call(s,b,1):lf(s,b)}}return s}function af(s,u){return s+nl(am()*(u-s+1))}function FS(s,u,d,m){for(var b=-1,C=We(rl((u-s)/(d||1)),0),k=D(C);C--;)k[m?C:++b]=s,s+=d;return k}function of(s,u){var d="";if(!s||u<1||u>zr)return d;do u%2&&(d+=s),u=nl(u/2),u&&(s+=s);while(u);return d}function ue(s,u){return Tf(tg(s,u,Ft),s+"")}function HS(s){return lm(Aa(s))}function qS(s,u){var d=Aa(s);return wl(d,Li(u,0,d.length))}function Ho(s,u,d,m){if(!Ne(s))return s;u=Jn(u,s);for(var b=-1,C=u.length,k=C-1,S=s;S!=null&&++b<C;){var O=Kr(u[b]),P=d;if(O==="__proto__"||O==="constructor"||O==="prototype")return s;if(b!=k){var F=S[O];P=m?m(F,O,S):t,P===t&&(P=Ne(F)?F:Cn(u[b+1])?[]:{})}Ro(S,O,P),S=S[O]}return s}var Sm=il?function(s,u){return il.set(s,u),s}:Ft,$S=tl?function(s,u){return tl(s,"toString",{configurable:!0,enumerable:!1,value:Nf(u),writable:!0})}:Ft;function US(s){return wl(Aa(s))}function pr(s,u,d){var m=-1,b=s.length;u<0&&(u=-u>b?0:b+u),d=d>b?b:d,d<0&&(d+=b),b=u>d?0:d-u>>>0,u>>>=0;for(var C=D(b);++m<b;)C[m]=s[m+u];return C}function zS(s,u){var d;return Gn(s,function(m,b,C){return d=u(m,b,C),!d}),!!d}function fl(s,u,d){var m=0,b=s==null?m:s.length;if(typeof u=="number"&&u===u&&b<=Ds){for(;m<b;){var C=m+b>>>1,k=s[C];k!==null&&!Xt(k)&&(d?k<=u:k<u)?m=C+1:b=C}return b}return sf(s,u,Ft,d)}function sf(s,u,d,m){var b=0,C=s==null?0:s.length;if(C===0)return 0;u=d(u);for(var k=u!==u,S=u===null,O=Xt(u),P=u===t;b<C;){var F=nl((b+C)/2),H=d(s[F]),V=H!==t,Y=H===null,ee=H===H,se=Xt(H);if(k)var te=m||ee;else P?te=ee&&(m||V):S?te=ee&&V&&(m||!Y):O?te=ee&&V&&!Y&&(m||!se):Y||se?te=!1:te=m?H<=u:H<u;te?b=F+1:C=F}return yt(C,Ye)}function Mm(s,u){for(var d=-1,m=s.length,b=0,C=[];++d<m;){var k=s[d],S=u?u(k):k;if(!d||!Or(S,O)){var O=S;C[b++]=k===0?0:k}}return C}function Om(s){return typeof s=="number"?s:Xt(s)?Ci:+s}function Jt(s){if(typeof s=="string")return s;if(ne(s))return Ae(s,Jt)+"";if(Xt(s))return om?om.call(s):"";var u=s+"";return u=="0"&&1/s==-un?"-0":u}function Kn(s,u,d){var m=-1,b=Vs,C=s.length,k=!0,S=[],O=S;if(d)k=!1,b=Rc;else if(C>=i){var P=u?null:eM(s);if(P)return js(P);k=!1,b=Ao,O=new _i}else O=u?[]:S;e:for(;++m<C;){var F=s[m],H=u?u(F):F;if(F=d||F!==0?F:0,k&&H===H){for(var V=O.length;V--;)if(O[V]===H)continue e;u&&O.push(H),S.push(F)}else b(O,H,d)||(O!==S&&O.push(H),S.push(F))}return S}function lf(s,u){return u=Jn(u,s),s=rg(s,u),s==null||delete s[Kr(vr(u))]}function Am(s,u,d,m){return Ho(s,u,d(Di(s,u)),m)}function dl(s,u,d,m){for(var b=s.length,C=m?b:-1;(m?C--:++C<b)&&u(s[C],C,s););return d?pr(s,m?0:C,m?C+1:b):pr(s,m?C+1:0,m?b:C)}function _m(s,u){var d=s;return d instanceof de&&(d=d.value()),Pc(u,function(m,b){return b.func.apply(b.thisArg,Vn([m],b.args))},d)}function uf(s,u,d){var m=s.length;if(m<2)return m?Kn(s[0]):[];for(var b=-1,C=D(m);++b<m;)for(var k=s[b],S=-1;++S<m;)S!=b&&(C[b]=Po(C[b]||k,s[S],u,d));return Kn(ut(C,1),u,d)}function Lm(s,u,d){for(var m=-1,b=s.length,C=u.length,k={};++m<b;){var S=m<C?u[m]:t;d(k,s[m],S)}return k}function cf(s){return Fe(s)?s:[]}function ff(s){return typeof s=="function"?s:Ft}function Jn(s,u){return ne(s)?s:wf(s,u)?[s]:og(xe(s))}var VS=ue;function Xn(s,u,d){var m=s.length;return d=d===t?m:d,!u&&d>=m?s:pr(s,u,d)}var Dm=LE||function(s){return lt.clearTimeout(s)};function Nm(s,u){if(u)return s.slice();var d=s.length,m=em?em(d):new s.constructor(d);return s.copy(m),m}function df(s){var u=new s.constructor(s.byteLength);return new Zs(u).set(new Zs(s)),u}function WS(s,u){var d=u?df(s.buffer):s.buffer;return new s.constructor(d,s.byteOffset,s.byteLength)}function jS(s){var u=new s.constructor(s.source,ze.exec(s));return u.lastIndex=s.lastIndex,u}function GS(s){return Io?Ee(Io.call(s)):{}}function Im(s,u){var d=u?df(s.buffer):s.buffer;return new s.constructor(d,s.byteOffset,s.length)}function Rm(s,u){if(s!==u){var d=s!==t,m=s===null,b=s===s,C=Xt(s),k=u!==t,S=u===null,O=u===u,P=Xt(u);if(!S&&!P&&!C&&s>u||C&&k&&O&&!S&&!P||m&&k&&O||!d&&O||!b)return 1;if(!m&&!C&&!P&&s<u||P&&d&&b&&!m&&!C||S&&d&&b||!k&&b||!O)return-1}return 0}function KS(s,u,d){for(var m=-1,b=s.criteria,C=u.criteria,k=b.length,S=d.length;++m<k;){var O=Rm(b[m],C[m]);if(O){if(m>=S)return O;var P=d[m];return O*(P=="desc"?-1:1)}}return s.index-u.index}function Pm(s,u,d,m){for(var b=-1,C=s.length,k=d.length,S=-1,O=u.length,P=We(C-k,0),F=D(O+P),H=!m;++S<O;)F[S]=u[S];for(;++b<k;)(H||b<C)&&(F[d[b]]=s[b]);for(;P--;)F[S++]=s[b++];return F}function Bm(s,u,d,m){for(var b=-1,C=s.length,k=-1,S=d.length,O=-1,P=u.length,F=We(C-S,0),H=D(F+P),V=!m;++b<F;)H[b]=s[b];for(var Y=b;++O<P;)H[Y+O]=u[O];for(;++k<S;)(V||b<C)&&(H[Y+d[k]]=s[b++]);return H}function Rt(s,u){var d=-1,m=s.length;for(u||(u=D(m));++d<m;)u[d]=s[d];return u}function Gr(s,u,d,m){var b=!d;d||(d={});for(var C=-1,k=u.length;++C<k;){var S=u[C],O=m?m(d[S],s[S],S,d,s):t;O===t&&(O=s[S]),b?yn(d,S,O):Ro(d,S,O)}return d}function JS(s,u){return Gr(s,bf(s),u)}function XS(s,u){return Gr(s,Xm(s),u)}function hl(s,u){return function(d,m){var b=ne(d)?tE:yS,C=u?u():{};return b(d,s,Q(m,2),C)}}function Ea(s){return ue(function(u,d){var m=-1,b=d.length,C=b>1?d[b-1]:t,k=b>2?d[2]:t;for(C=s.length>3&&typeof C=="function"?(b--,C):t,k&&Et(d[0],d[1],k)&&(C=b<3?t:C,b=1),u=Ee(u);++m<b;){var S=d[m];S&&s(u,S,m,C)}return u})}function Fm(s,u){return function(d,m){if(d==null)return d;if(!Pt(d))return s(d,m);for(var b=d.length,C=u?b:-1,k=Ee(d);(u?C--:++C<b)&&m(k[C],C,k)!==!1;);return d}}function Hm(s){return function(u,d,m){for(var b=-1,C=Ee(u),k=m(u),S=k.length;S--;){var O=k[s?S:++b];if(d(C[O],O,C)===!1)break}return u}}function YS(s,u,d){var m=u&T,b=qo(s);function C(){var k=this&&this!==lt&&this instanceof C?b:s;return k.apply(m?d:this,arguments)}return C}function qm(s){return function(u){u=xe(u);var d=ya(u)?Sr(u):t,m=d?d[0]:u.charAt(0),b=d?Xn(d,1).join(""):u.slice(1);return m[s]()+b}}function Sa(s){return function(u){return Pc(Fg(Bg(u).replace($k,"")),s,"")}}function qo(s){return function(){var u=arguments;switch(u.length){case 0:return new s;case 1:return new s(u[0]);case 2:return new s(u[0],u[1]);case 3:return new s(u[0],u[1],u[2]);case 4:return new s(u[0],u[1],u[2],u[3]);case 5:return new s(u[0],u[1],u[2],u[3],u[4]);case 6:return new s(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new s(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var d=ka(s.prototype),m=s.apply(d,u);return Ne(m)?m:d}}function ZS(s,u,d){var m=qo(s);function b(){for(var C=arguments.length,k=D(C),S=C,O=Ma(b);S--;)k[S]=arguments[S];var P=C<3&&k[0]!==O&&k[C-1]!==O?[]:Wn(k,O);if(C-=P.length,C<d)return Wm(s,u,pl,b.placeholder,t,k,P,t,t,d-C);var F=this&&this!==lt&&this instanceof b?m:s;return Gt(F,this,k)}return b}function $m(s){return function(u,d,m){var b=Ee(u);if(!Pt(u)){var C=Q(d,3);u=tt(u),d=function(S){return C(b[S],S,b)}}var k=s(u,d,m);return k>-1?b[C?u[k]:k]:t}}function Um(s){return wn(function(u){var d=u.length,m=d,b=dr.prototype.thru;for(s&&u.reverse();m--;){var C=u[m];if(typeof C!="function")throw new fr(o);if(b&&!k&&yl(C)=="wrapper")var k=new dr([],!0)}for(m=k?m:d;++m<d;){C=u[m];var S=yl(C),O=S=="wrapper"?gf(C):t;O&&Cf(O[0])&&O[1]==(K|N|_|$)&&!O[4].length&&O[9]==1?k=k[yl(O[0])].apply(k,O[3]):k=C.length==1&&Cf(C)?k[S]():k.thru(C)}return function(){var P=arguments,F=P[0];if(k&&P.length==1&&ne(F))return k.plant(F).value();for(var H=0,V=d?u[H].apply(this,P):F;++H<d;)V=u[H].call(this,V);return V}})}function pl(s,u,d,m,b,C,k,S,O,P){var F=u&K,H=u&T,V=u&E,Y=u&(N|B),ee=u&le,se=V?t:qo(s);function te(){for(var fe=arguments.length,pe=D(fe),Yt=fe;Yt--;)pe[Yt]=arguments[Yt];if(Y)var St=Ma(te),Zt=cE(pe,St);if(m&&(pe=Pm(pe,m,b,Y)),C&&(pe=Bm(pe,C,k,Y)),fe-=Zt,Y&&fe<P){var He=Wn(pe,St);return Wm(s,u,pl,te.placeholder,d,pe,He,S,O,P-fe)}var Ar=H?d:this,kn=V?Ar[s]:s;return fe=pe.length,S?pe=yM(pe,S):ee&&fe>1&&pe.reverse(),F&&O<fe&&(pe.length=O),this&&this!==lt&&this instanceof te&&(kn=se||qo(kn)),kn.apply(Ar,pe)}return te}function zm(s,u){return function(d,m){return SS(d,s,u(m),{})}}function vl(s,u){return function(d,m){var b;if(d===t&&m===t)return u;if(d!==t&&(b=d),m!==t){if(b===t)return m;typeof d=="string"||typeof m=="string"?(d=Jt(d),m=Jt(m)):(d=Om(d),m=Om(m)),b=s(d,m)}return b}}function hf(s){return wn(function(u){return u=Ae(u,Kt(Q())),ue(function(d){var m=this;return s(u,function(b){return Gt(b,m,d)})})})}function ml(s,u){u=u===t?" ":Jt(u);var d=u.length;if(d<2)return d?of(u,s):u;var m=of(u,rl(s/ba(u)));return ya(u)?Xn(Sr(m),0,s).join(""):m.slice(0,s)}function QS(s,u,d,m){var b=u&T,C=qo(s);function k(){for(var S=-1,O=arguments.length,P=-1,F=m.length,H=D(F+O),V=this&&this!==lt&&this instanceof k?C:s;++P<F;)H[P]=m[P];for(;O--;)H[P++]=arguments[++S];return Gt(V,b?d:this,H)}return k}function Vm(s){return function(u,d,m){return m&&typeof m!="number"&&Et(u,d,m)&&(d=m=t),u=Tn(u),d===t?(d=u,u=0):d=Tn(d),m=m===t?u<d?1:-1:Tn(m),FS(u,d,m,s)}}function gl(s){return function(u,d){return typeof u=="string"&&typeof d=="string"||(u=mr(u),d=mr(d)),s(u,d)}}function Wm(s,u,d,m,b,C,k,S,O,P){var F=u&N,H=F?k:t,V=F?t:k,Y=F?C:t,ee=F?t:C;u|=F?_:z,u&=~(F?z:_),u&L||(u&=~(T|E));var se=[s,u,b,Y,H,ee,V,S,O,P],te=d.apply(t,se);return Cf(s)&&ng(te,se),te.placeholder=m,ig(te,s,u)}function pf(s){var u=Ve[s];return function(d,m){if(d=mr(d),m=m==null?0:yt(oe(m),292),m&&im(d)){var b=(xe(d)+"e").split("e"),C=u(b[0]+"e"+(+b[1]+m));return b=(xe(C)+"e").split("e"),+(b[0]+"e"+(+b[1]-m))}return u(d)}}var eM=xa&&1/js(new xa([,-0]))[1]==un?function(s){return new xa(s)}:Pf;function jm(s){return function(u){var d=bt(u);return d==Tt?zc(u):d==st?gE(u):uE(u,s(u))}}function bn(s,u,d,m,b,C,k,S){var O=u&E;if(!O&&typeof s!="function")throw new fr(o);var P=m?m.length:0;if(P||(u&=~(_|z),m=b=t),k=k===t?k:We(oe(k),0),S=S===t?S:oe(S),P-=b?b.length:0,u&z){var F=m,H=b;m=b=t}var V=O?t:gf(s),Y=[s,u,d,m,b,F,H,C,k,S];if(V&&vM(Y,V),s=Y[0],u=Y[1],d=Y[2],m=Y[3],b=Y[4],S=Y[9]=Y[9]===t?O?0:s.length:We(Y[9]-P,0),!S&&u&(N|B)&&(u&=~(N|B)),!u||u==T)var ee=YS(s,u,d);else u==N||u==B?ee=ZS(s,u,S):(u==_||u==(T|_))&&!b.length?ee=QS(s,u,d,m):ee=pl.apply(t,Y);var se=V?Sm:ng;return ig(se(ee,Y),s,u)}function Gm(s,u,d,m){return s===t||Or(s,Ca[d])&&!ke.call(m,d)?u:s}function Km(s,u,d,m,b,C){return Ne(s)&&Ne(u)&&(C.set(u,s),cl(s,u,t,Km,C),C.delete(u)),s}function tM(s){return zo(s)?t:s}function Jm(s,u,d,m,b,C){var k=d&y,S=s.length,O=u.length;if(S!=O&&!(k&&O>S))return!1;var P=C.get(s),F=C.get(u);if(P&&F)return P==u&&F==s;var H=-1,V=!0,Y=d&x?new _i:t;for(C.set(s,u),C.set(u,s);++H<S;){var ee=s[H],se=u[H];if(m)var te=k?m(se,ee,H,u,s,C):m(ee,se,H,s,u,C);if(te!==t){if(te)continue;V=!1;break}if(Y){if(!Bc(u,function(fe,pe){if(!Ao(Y,pe)&&(ee===fe||b(ee,fe,d,m,C)))return Y.push(pe)})){V=!1;break}}else if(!(ee===se||b(ee,se,d,m,C))){V=!1;break}}return C.delete(s),C.delete(u),V}function rM(s,u,d,m,b,C,k){switch(d){case pn:if(s.byteLength!=u.byteLength||s.byteOffset!=u.byteOffset)return!1;s=s.buffer,u=u.buffer;case hn:return!(s.byteLength!=u.byteLength||!C(new Zs(s),new Zs(u)));case Hn:case fn:case ar:return Or(+s,+u);case wr:return s.name==u.name&&s.message==u.message;case dn:case sr:return s==u+"";case Tt:var S=zc;case st:var O=m&y;if(S||(S=js),s.size!=u.size&&!O)return!1;var P=k.get(s);if(P)return P==u;m|=x,k.set(s,u);var F=Jm(S(s),S(u),m,b,C,k);return k.delete(s),F;case xr:if(Io)return Io.call(s)==Io.call(u)}return!1}function nM(s,u,d,m,b,C){var k=d&y,S=vf(s),O=S.length,P=vf(u),F=P.length;if(O!=F&&!k)return!1;for(var H=O;H--;){var V=S[H];if(!(k?V in u:ke.call(u,V)))return!1}var Y=C.get(s),ee=C.get(u);if(Y&&ee)return Y==u&&ee==s;var se=!0;C.set(s,u),C.set(u,s);for(var te=k;++H<O;){V=S[H];var fe=s[V],pe=u[V];if(m)var Yt=k?m(pe,fe,V,u,s,C):m(fe,pe,V,s,u,C);if(!(Yt===t?fe===pe||b(fe,pe,d,m,C):Yt)){se=!1;break}te||(te=V=="constructor")}if(se&&!te){var St=s.constructor,Zt=u.constructor;St!=Zt&&"constructor"in s&&"constructor"in u&&!(typeof St=="function"&&St instanceof St&&typeof Zt=="function"&&Zt instanceof Zt)&&(se=!1)}return C.delete(s),C.delete(u),se}function wn(s){return Tf(tg(s,t,cg),s+"")}function vf(s){return vm(s,tt,bf)}function mf(s){return vm(s,Bt,Xm)}var gf=il?function(s){return il.get(s)}:Pf;function yl(s){for(var u=s.name+"",d=Ta[u],m=ke.call(Ta,u)?d.length:0;m--;){var b=d[m],C=b.func;if(C==null||C==s)return b.name}return u}function Ma(s){var u=ke.call(w,"placeholder")?w:s;return u.placeholder}function Q(){var s=w.iteratee||If;return s=s===If?ym:s,arguments.length?s(arguments[0],arguments[1]):s}function bl(s,u){var d=s.__data__;return fM(u)?d[typeof u=="string"?"string":"hash"]:d.map}function yf(s){for(var u=tt(s),d=u.length;d--;){var m=u[d],b=s[m];u[d]=[m,b,Qm(b)]}return u}function Ni(s,u){var d=pE(s,u);return gm(d)?d:t}function iM(s){var u=ke.call(s,Oi),d=s[Oi];try{s[Oi]=t;var m=!0}catch{}var b=Xs.call(s);return m&&(u?s[Oi]=d:delete s[Oi]),b}var bf=Wc?function(s){return s==null?[]:(s=Ee(s),zn(Wc(s),function(u){return rm.call(s,u)}))}:Bf,Xm=Wc?function(s){for(var u=[];s;)Vn(u,bf(s)),s=Qs(s);return u}:Bf,bt=kt;(jc&&bt(new jc(new ArrayBuffer(1)))!=pn||Lo&&bt(new Lo)!=Tt||Gc&&bt(Gc.resolve())!=xi||xa&&bt(new xa)!=st||Do&&bt(new Do)!=qn)&&(bt=function(s){var u=kt(s),d=u==or?s.constructor:t,m=d?Ii(d):"";if(m)switch(m){case qE:return pn;case $E:return Tt;case UE:return xi;case zE:return st;case VE:return qn}return u});function aM(s,u,d){for(var m=-1,b=d.length;++m<b;){var C=d[m],k=C.size;switch(C.type){case"drop":s+=k;break;case"dropRight":u-=k;break;case"take":u=yt(u,s+k);break;case"takeRight":s=We(s,u-k);break}}return{start:s,end:u}}function oM(s){var u=s.match(Sc);return u?u[1].split(Z):[]}function Ym(s,u,d){u=Jn(u,s);for(var m=-1,b=u.length,C=!1;++m<b;){var k=Kr(u[m]);if(!(C=s!=null&&d(s,k)))break;s=s[k]}return C||++m!=b?C:(b=s==null?0:s.length,!!b&&Sl(b)&&Cn(k,b)&&(ne(s)||Ri(s)))}function sM(s){var u=s.length,d=new s.constructor(u);return u&&typeof s[0]=="string"&&ke.call(s,"index")&&(d.index=s.index,d.input=s.input),d}function Zm(s){return typeof s.constructor=="function"&&!$o(s)?ka(Qs(s)):{}}function lM(s,u,d){var m=s.constructor;switch(u){case hn:return df(s);case Hn:case fn:return new m(+s);case pn:return WS(s,d);case Ti:case ki:case lr:case $n:case Ei:case Vr:case Co:case xo:case Wr:return Im(s,d);case Tt:return new m;case ar:case sr:return new m(s);case dn:return jS(s);case st:return new m;case xr:return GS(s)}}function uM(s,u){var d=u.length;if(!d)return s;var m=d-1;return u[m]=(d>1?"& ":"")+u[m],u=u.join(d>2?", ":" "),s.replace(qs,`{
/* [wrapped with `+u+`] */
`)}function cM(s){return ne(s)||Ri(s)||!!(nm&&s&&s[nm])}function Cn(s,u){var d=typeof s;return u=u==null?zr:u,!!u&&(d=="number"||d!="symbol"&&$s.test(s))&&s>-1&&s%1==0&&s<u}function Et(s,u,d){if(!Ne(d))return!1;var m=typeof u;return(m=="number"?Pt(d)&&Cn(u,d.length):m=="string"&&u in d)?Or(d[u],s):!1}function wf(s,u){if(ne(s))return!1;var d=typeof s;return d=="number"||d=="symbol"||d=="boolean"||s==null||Xt(s)?!0:Fs.test(s)||!Bs.test(s)||u!=null&&s in Ee(u)}function fM(s){var u=typeof s;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?s!=="__proto__":s===null}function Cf(s){var u=yl(s),d=w[u];if(typeof d!="function"||!(u in de.prototype))return!1;if(s===d)return!0;var m=gf(d);return!!m&&s===m[0]}function dM(s){return!!Qv&&Qv in s}var hM=Ks?xn:Ff;function $o(s){var u=s&&s.constructor,d=typeof u=="function"&&u.prototype||Ca;return s===d}function Qm(s){return s===s&&!Ne(s)}function eg(s,u){return function(d){return d==null?!1:d[s]===u&&(u!==t||s in Ee(d))}}function pM(s){var u=kl(s,function(m){return d.size===f&&d.clear(),m}),d=u.cache;return u}function vM(s,u){var d=s[1],m=u[1],b=d|m,C=b<(T|E|K),k=m==K&&d==N||m==K&&d==$&&s[7].length<=u[8]||m==(K|$)&&u[7].length<=u[8]&&d==N;if(!(C||k))return s;m&T&&(s[2]=u[2],b|=d&T?0:L);var S=u[3];if(S){var O=s[3];s[3]=O?Pm(O,S,u[4]):S,s[4]=O?Wn(s[3],h):u[4]}return S=u[5],S&&(O=s[5],s[5]=O?Bm(O,S,u[6]):S,s[6]=O?Wn(s[5],h):u[6]),S=u[7],S&&(s[7]=S),m&K&&(s[8]=s[8]==null?u[8]:yt(s[8],u[8])),s[9]==null&&(s[9]=u[9]),s[0]=u[0],s[1]=b,s}function mM(s){var u=[];if(s!=null)for(var d in Ee(s))u.push(d);return u}function gM(s){return Xs.call(s)}function tg(s,u,d){return u=We(u===t?s.length-1:u,0),function(){for(var m=arguments,b=-1,C=We(m.length-u,0),k=D(C);++b<C;)k[b]=m[u+b];b=-1;for(var S=D(u+1);++b<u;)S[b]=m[b];return S[u]=d(k),Gt(s,this,S)}}function rg(s,u){return u.length<2?s:Di(s,pr(u,0,-1))}function yM(s,u){for(var d=s.length,m=yt(u.length,d),b=Rt(s);m--;){var C=u[m];s[m]=Cn(C,d)?b[C]:t}return s}function xf(s,u){if(!(u==="constructor"&&typeof s[u]=="function")&&u!="__proto__")return s[u]}var ng=ag(Sm),Uo=NE||function(s,u){return lt.setTimeout(s,u)},Tf=ag($S);function ig(s,u,d){var m=u+"";return Tf(s,uM(m,bM(oM(m),d)))}function ag(s){var u=0,d=0;return function(){var m=BE(),b=jt-(m-d);if(d=m,b>0){if(++u>=Se)return arguments[0]}else u=0;return s.apply(t,arguments)}}function wl(s,u){var d=-1,m=s.length,b=m-1;for(u=u===t?m:u;++d<u;){var C=af(d,b),k=s[C];s[C]=s[d],s[d]=k}return s.length=u,s}var og=pM(function(s){var u=[];return s.charCodeAt(0)===46&&u.push(""),s.replace(Ec,function(d,m,b,C){u.push(b?C.replace(X,"$1"):m||d)}),u});function Kr(s){if(typeof s=="string"||Xt(s))return s;var u=s+"";return u=="0"&&1/s==-un?"-0":u}function Ii(s){if(s!=null){try{return Js.call(s)}catch{}try{return s+""}catch{}}return""}function bM(s,u){return cr(Ze,function(d){var m="_."+d[0];u&d[1]&&!Vs(s,m)&&s.push(m)}),s.sort()}function sg(s){if(s instanceof de)return s.clone();var u=new dr(s.__wrapped__,s.__chain__);return u.__actions__=Rt(s.__actions__),u.__index__=s.__index__,u.__values__=s.__values__,u}function wM(s,u,d){(d?Et(s,u,d):u===t)?u=1:u=We(oe(u),0);var m=s==null?0:s.length;if(!m||u<1)return[];for(var b=0,C=0,k=D(rl(m/u));b<m;)k[C++]=pr(s,b,b+=u);return k}function CM(s){for(var u=-1,d=s==null?0:s.length,m=0,b=[];++u<d;){var C=s[u];C&&(b[m++]=C)}return b}function xM(){var s=arguments.length;if(!s)return[];for(var u=D(s-1),d=arguments[0],m=s;m--;)u[m-1]=arguments[m];return Vn(ne(d)?Rt(d):[d],ut(u,1))}var TM=ue(function(s,u){return Fe(s)?Po(s,ut(u,1,Fe,!0)):[]}),kM=ue(function(s,u){var d=vr(u);return Fe(d)&&(d=t),Fe(s)?Po(s,ut(u,1,Fe,!0),Q(d,2)):[]}),EM=ue(function(s,u){var d=vr(u);return Fe(d)&&(d=t),Fe(s)?Po(s,ut(u,1,Fe,!0),t,d):[]});function SM(s,u,d){var m=s==null?0:s.length;return m?(u=d||u===t?1:oe(u),pr(s,u<0?0:u,m)):[]}function MM(s,u,d){var m=s==null?0:s.length;return m?(u=d||u===t?1:oe(u),u=m-u,pr(s,0,u<0?0:u)):[]}function OM(s,u){return s&&s.length?dl(s,Q(u,3),!0,!0):[]}function AM(s,u){return s&&s.length?dl(s,Q(u,3),!0):[]}function _M(s,u,d,m){var b=s==null?0:s.length;return b?(d&&typeof d!="number"&&Et(s,u,d)&&(d=0,m=b),xS(s,u,d,m)):[]}function lg(s,u,d){var m=s==null?0:s.length;if(!m)return-1;var b=d==null?0:oe(d);return b<0&&(b=We(m+b,0)),Ws(s,Q(u,3),b)}function ug(s,u,d){var m=s==null?0:s.length;if(!m)return-1;var b=m-1;return d!==t&&(b=oe(d),b=d<0?We(m+b,0):yt(b,m-1)),Ws(s,Q(u,3),b,!0)}function cg(s){var u=s==null?0:s.length;return u?ut(s,1):[]}function LM(s){var u=s==null?0:s.length;return u?ut(s,un):[]}function DM(s,u){var d=s==null?0:s.length;return d?(u=u===t?1:oe(u),ut(s,u)):[]}function NM(s){for(var u=-1,d=s==null?0:s.length,m={};++u<d;){var b=s[u];m[b[0]]=b[1]}return m}function fg(s){return s&&s.length?s[0]:t}function IM(s,u,d){var m=s==null?0:s.length;if(!m)return-1;var b=d==null?0:oe(d);return b<0&&(b=We(m+b,0)),ga(s,u,b)}function RM(s){var u=s==null?0:s.length;return u?pr(s,0,-1):[]}var PM=ue(function(s){var u=Ae(s,cf);return u.length&&u[0]===s[0]?Qc(u):[]}),BM=ue(function(s){var u=vr(s),d=Ae(s,cf);return u===vr(d)?u=t:d.pop(),d.length&&d[0]===s[0]?Qc(d,Q(u,2)):[]}),FM=ue(function(s){var u=vr(s),d=Ae(s,cf);return u=typeof u=="function"?u:t,u&&d.pop(),d.length&&d[0]===s[0]?Qc(d,t,u):[]});function HM(s,u){return s==null?"":RE.call(s,u)}function vr(s){var u=s==null?0:s.length;return u?s[u-1]:t}function qM(s,u,d){var m=s==null?0:s.length;if(!m)return-1;var b=m;return d!==t&&(b=oe(d),b=b<0?We(m+b,0):yt(b,m-1)),u===u?bE(s,u,b):Ws(s,Wv,b,!0)}function $M(s,u){return s&&s.length?xm(s,oe(u)):t}var UM=ue(dg);function dg(s,u){return s&&s.length&&u&&u.length?nf(s,u):s}function zM(s,u,d){return s&&s.length&&u&&u.length?nf(s,u,Q(d,2)):s}function VM(s,u,d){return s&&s.length&&u&&u.length?nf(s,u,t,d):s}var WM=wn(function(s,u){var d=s==null?0:s.length,m=Jc(s,u);return Em(s,Ae(u,function(b){return Cn(b,d)?+b:b}).sort(Rm)),m});function jM(s,u){var d=[];if(!(s&&s.length))return d;var m=-1,b=[],C=s.length;for(u=Q(u,3);++m<C;){var k=s[m];u(k,m,s)&&(d.push(k),b.push(m))}return Em(s,b),d}function kf(s){return s==null?s:HE.call(s)}function GM(s,u,d){var m=s==null?0:s.length;return m?(d&&typeof d!="number"&&Et(s,u,d)?(u=0,d=m):(u=u==null?0:oe(u),d=d===t?m:oe(d)),pr(s,u,d)):[]}function KM(s,u){return fl(s,u)}function JM(s,u,d){return sf(s,u,Q(d,2))}function XM(s,u){var d=s==null?0:s.length;if(d){var m=fl(s,u);if(m<d&&Or(s[m],u))return m}return-1}function YM(s,u){return fl(s,u,!0)}function ZM(s,u,d){return sf(s,u,Q(d,2),!0)}function QM(s,u){var d=s==null?0:s.length;if(d){var m=fl(s,u,!0)-1;if(Or(s[m],u))return m}return-1}function eO(s){return s&&s.length?Mm(s):[]}function tO(s,u){return s&&s.length?Mm(s,Q(u,2)):[]}function rO(s){var u=s==null?0:s.length;return u?pr(s,1,u):[]}function nO(s,u,d){return s&&s.length?(u=d||u===t?1:oe(u),pr(s,0,u<0?0:u)):[]}function iO(s,u,d){var m=s==null?0:s.length;return m?(u=d||u===t?1:oe(u),u=m-u,pr(s,u<0?0:u,m)):[]}function aO(s,u){return s&&s.length?dl(s,Q(u,3),!1,!0):[]}function oO(s,u){return s&&s.length?dl(s,Q(u,3)):[]}var sO=ue(function(s){return Kn(ut(s,1,Fe,!0))}),lO=ue(function(s){var u=vr(s);return Fe(u)&&(u=t),Kn(ut(s,1,Fe,!0),Q(u,2))}),uO=ue(function(s){var u=vr(s);return u=typeof u=="function"?u:t,Kn(ut(s,1,Fe,!0),t,u)});function cO(s){return s&&s.length?Kn(s):[]}function fO(s,u){return s&&s.length?Kn(s,Q(u,2)):[]}function dO(s,u){return u=typeof u=="function"?u:t,s&&s.length?Kn(s,t,u):[]}function Ef(s){if(!(s&&s.length))return[];var u=0;return s=zn(s,function(d){if(Fe(d))return u=We(d.length,u),!0}),$c(u,function(d){return Ae(s,Fc(d))})}function hg(s,u){if(!(s&&s.length))return[];var d=Ef(s);return u==null?d:Ae(d,function(m){return Gt(u,t,m)})}var hO=ue(function(s,u){return Fe(s)?Po(s,u):[]}),pO=ue(function(s){return uf(zn(s,Fe))}),vO=ue(function(s){var u=vr(s);return Fe(u)&&(u=t),uf(zn(s,Fe),Q(u,2))}),mO=ue(function(s){var u=vr(s);return u=typeof u=="function"?u:t,uf(zn(s,Fe),t,u)}),gO=ue(Ef);function yO(s,u){return Lm(s||[],u||[],Ro)}function bO(s,u){return Lm(s||[],u||[],Ho)}var wO=ue(function(s){var u=s.length,d=u>1?s[u-1]:t;return d=typeof d=="function"?(s.pop(),d):t,hg(s,d)});function pg(s){var u=w(s);return u.__chain__=!0,u}function CO(s,u){return u(s),s}function Cl(s,u){return u(s)}var xO=wn(function(s){var u=s.length,d=u?s[0]:0,m=this.__wrapped__,b=function(C){return Jc(C,s)};return u>1||this.__actions__.length||!(m instanceof de)||!Cn(d)?this.thru(b):(m=m.slice(d,+d+(u?1:0)),m.__actions__.push({func:Cl,args:[b],thisArg:t}),new dr(m,this.__chain__).thru(function(C){return u&&!C.length&&C.push(t),C}))});function TO(){return pg(this)}function kO(){return new dr(this.value(),this.__chain__)}function EO(){this.__values__===t&&(this.__values__=Og(this.value()));var s=this.__index__>=this.__values__.length,u=s?t:this.__values__[this.__index__++];return{done:s,value:u}}function SO(){return this}function MO(s){for(var u,d=this;d instanceof ol;){var m=sg(d);m.__index__=0,m.__values__=t,u?b.__wrapped__=m:u=m;var b=m;d=d.__wrapped__}return b.__wrapped__=s,u}function OO(){var s=this.__wrapped__;if(s instanceof de){var u=s;return this.__actions__.length&&(u=new de(this)),u=u.reverse(),u.__actions__.push({func:Cl,args:[kf],thisArg:t}),new dr(u,this.__chain__)}return this.thru(kf)}function AO(){return _m(this.__wrapped__,this.__actions__)}var _O=hl(function(s,u,d){ke.call(s,d)?++s[d]:yn(s,d,1)});function LO(s,u,d){var m=ne(s)?zv:CS;return d&&Et(s,u,d)&&(u=t),m(s,Q(u,3))}function DO(s,u){var d=ne(s)?zn:hm;return d(s,Q(u,3))}var NO=$m(lg),IO=$m(ug);function RO(s,u){return ut(xl(s,u),1)}function PO(s,u){return ut(xl(s,u),un)}function BO(s,u,d){return d=d===t?1:oe(d),ut(xl(s,u),d)}function vg(s,u){var d=ne(s)?cr:Gn;return d(s,Q(u,3))}function mg(s,u){var d=ne(s)?rE:dm;return d(s,Q(u,3))}var FO=hl(function(s,u,d){ke.call(s,d)?s[d].push(u):yn(s,d,[u])});function HO(s,u,d,m){s=Pt(s)?s:Aa(s),d=d&&!m?oe(d):0;var b=s.length;return d<0&&(d=We(b+d,0)),Ml(s)?d<=b&&s.indexOf(u,d)>-1:!!b&&ga(s,u,d)>-1}var qO=ue(function(s,u,d){var m=-1,b=typeof u=="function",C=Pt(s)?D(s.length):[];return Gn(s,function(k){C[++m]=b?Gt(u,k,d):Bo(k,u,d)}),C}),$O=hl(function(s,u,d){yn(s,d,u)});function xl(s,u){var d=ne(s)?Ae:bm;return d(s,Q(u,3))}function UO(s,u,d,m){return s==null?[]:(ne(u)||(u=u==null?[]:[u]),d=m?t:d,ne(d)||(d=d==null?[]:[d]),Tm(s,u,d))}var zO=hl(function(s,u,d){s[d?0:1].push(u)},function(){return[[],[]]});function VO(s,u,d){var m=ne(s)?Pc:Gv,b=arguments.length<3;return m(s,Q(u,4),d,b,Gn)}function WO(s,u,d){var m=ne(s)?nE:Gv,b=arguments.length<3;return m(s,Q(u,4),d,b,dm)}function jO(s,u){var d=ne(s)?zn:hm;return d(s,El(Q(u,3)))}function GO(s){var u=ne(s)?lm:HS;return u(s)}function KO(s,u,d){(d?Et(s,u,d):u===t)?u=1:u=oe(u);var m=ne(s)?mS:qS;return m(s,u)}function JO(s){var u=ne(s)?gS:US;return u(s)}function XO(s){if(s==null)return 0;if(Pt(s))return Ml(s)?ba(s):s.length;var u=bt(s);return u==Tt||u==st?s.size:tf(s).length}function YO(s,u,d){var m=ne(s)?Bc:zS;return d&&Et(s,u,d)&&(u=t),m(s,Q(u,3))}var ZO=ue(function(s,u){if(s==null)return[];var d=u.length;return d>1&&Et(s,u[0],u[1])?u=[]:d>2&&Et(u[0],u[1],u[2])&&(u=[u[0]]),Tm(s,ut(u,1),[])}),Tl=DE||function(){return lt.Date.now()};function QO(s,u){if(typeof u!="function")throw new fr(o);return s=oe(s),function(){if(--s<1)return u.apply(this,arguments)}}function gg(s,u,d){return u=d?t:u,u=s&&u==null?s.length:u,bn(s,K,t,t,t,t,u)}function yg(s,u){var d;if(typeof u!="function")throw new fr(o);return s=oe(s),function(){return--s>0&&(d=u.apply(this,arguments)),s<=1&&(u=t),d}}var Sf=ue(function(s,u,d){var m=T;if(d.length){var b=Wn(d,Ma(Sf));m|=_}return bn(s,m,u,d,b)}),bg=ue(function(s,u,d){var m=T|E;if(d.length){var b=Wn(d,Ma(bg));m|=_}return bn(u,m,s,d,b)});function wg(s,u,d){u=d?t:u;var m=bn(s,N,t,t,t,t,t,u);return m.placeholder=wg.placeholder,m}function Cg(s,u,d){u=d?t:u;var m=bn(s,B,t,t,t,t,t,u);return m.placeholder=Cg.placeholder,m}function xg(s,u,d){var m,b,C,k,S,O,P=0,F=!1,H=!1,V=!0;if(typeof s!="function")throw new fr(o);u=mr(u)||0,Ne(d)&&(F=!!d.leading,H="maxWait"in d,C=H?We(mr(d.maxWait)||0,u):C,V="trailing"in d?!!d.trailing:V);function Y(He){var Ar=m,kn=b;return m=b=t,P=He,k=s.apply(kn,Ar),k}function ee(He){return P=He,S=Uo(fe,u),F?Y(He):k}function se(He){var Ar=He-O,kn=He-P,$g=u-Ar;return H?yt($g,C-kn):$g}function te(He){var Ar=He-O,kn=He-P;return O===t||Ar>=u||Ar<0||H&&kn>=C}function fe(){var He=Tl();if(te(He))return pe(He);S=Uo(fe,se(He))}function pe(He){return S=t,V&&m?Y(He):(m=b=t,k)}function Yt(){S!==t&&Dm(S),P=0,m=O=b=S=t}function St(){return S===t?k:pe(Tl())}function Zt(){var He=Tl(),Ar=te(He);if(m=arguments,b=this,O=He,Ar){if(S===t)return ee(O);if(H)return Dm(S),S=Uo(fe,u),Y(O)}return S===t&&(S=Uo(fe,u)),k}return Zt.cancel=Yt,Zt.flush=St,Zt}var eA=ue(function(s,u){return fm(s,1,u)}),tA=ue(function(s,u,d){return fm(s,mr(u)||0,d)});function rA(s){return bn(s,le)}function kl(s,u){if(typeof s!="function"||u!=null&&typeof u!="function")throw new fr(o);var d=function(){var m=arguments,b=u?u.apply(this,m):m[0],C=d.cache;if(C.has(b))return C.get(b);var k=s.apply(this,m);return d.cache=C.set(b,k)||C,k};return d.cache=new(kl.Cache||gn),d}kl.Cache=gn;function El(s){if(typeof s!="function")throw new fr(o);return function(){var u=arguments;switch(u.length){case 0:return!s.call(this);case 1:return!s.call(this,u[0]);case 2:return!s.call(this,u[0],u[1]);case 3:return!s.call(this,u[0],u[1],u[2])}return!s.apply(this,u)}}function nA(s){return yg(2,s)}var iA=VS(function(s,u){u=u.length==1&&ne(u[0])?Ae(u[0],Kt(Q())):Ae(ut(u,1),Kt(Q()));var d=u.length;return ue(function(m){for(var b=-1,C=yt(m.length,d);++b<C;)m[b]=u[b].call(this,m[b]);return Gt(s,this,m)})}),Mf=ue(function(s,u){var d=Wn(u,Ma(Mf));return bn(s,_,t,u,d)}),Tg=ue(function(s,u){var d=Wn(u,Ma(Tg));return bn(s,z,t,u,d)}),aA=wn(function(s,u){return bn(s,$,t,t,t,u)});function oA(s,u){if(typeof s!="function")throw new fr(o);return u=u===t?u:oe(u),ue(s,u)}function sA(s,u){if(typeof s!="function")throw new fr(o);return u=u==null?0:We(oe(u),0),ue(function(d){var m=d[u],b=Xn(d,0,u);return m&&Vn(b,m),Gt(s,this,b)})}function lA(s,u,d){var m=!0,b=!0;if(typeof s!="function")throw new fr(o);return Ne(d)&&(m="leading"in d?!!d.leading:m,b="trailing"in d?!!d.trailing:b),xg(s,u,{leading:m,maxWait:u,trailing:b})}function uA(s){return gg(s,1)}function cA(s,u){return Mf(ff(u),s)}function fA(){if(!arguments.length)return[];var s=arguments[0];return ne(s)?s:[s]}function dA(s){return hr(s,g)}function hA(s,u){return u=typeof u=="function"?u:t,hr(s,g,u)}function pA(s){return hr(s,p|g)}function vA(s,u){return u=typeof u=="function"?u:t,hr(s,p|g,u)}function mA(s,u){return u==null||cm(s,u,tt(u))}function Or(s,u){return s===u||s!==s&&u!==u}var gA=gl(Zc),yA=gl(function(s,u){return s>=u}),Ri=mm(function(){return arguments}())?mm:function(s){return Pe(s)&&ke.call(s,"callee")&&!rm.call(s,"callee")},ne=D.isArray,bA=Bv?Kt(Bv):MS;function Pt(s){return s!=null&&Sl(s.length)&&!xn(s)}function Fe(s){return Pe(s)&&Pt(s)}function wA(s){return s===!0||s===!1||Pe(s)&&kt(s)==Hn}var Yn=IE||Ff,CA=Fv?Kt(Fv):OS;function xA(s){return Pe(s)&&s.nodeType===1&&!zo(s)}function TA(s){if(s==null)return!0;if(Pt(s)&&(ne(s)||typeof s=="string"||typeof s.splice=="function"||Yn(s)||Oa(s)||Ri(s)))return!s.length;var u=bt(s);if(u==Tt||u==st)return!s.size;if($o(s))return!tf(s).length;for(var d in s)if(ke.call(s,d))return!1;return!0}function kA(s,u){return Fo(s,u)}function EA(s,u,d){d=typeof d=="function"?d:t;var m=d?d(s,u):t;return m===t?Fo(s,u,t,d):!!m}function Of(s){if(!Pe(s))return!1;var u=kt(s);return u==wr||u==Ns||typeof s.message=="string"&&typeof s.name=="string"&&!zo(s)}function SA(s){return typeof s=="number"&&im(s)}function xn(s){if(!Ne(s))return!1;var u=kt(s);return u==Cr||u==da||u==wo||u==Is}function kg(s){return typeof s=="number"&&s==oe(s)}function Sl(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=zr}function Ne(s){var u=typeof s;return s!=null&&(u=="object"||u=="function")}function Pe(s){return s!=null&&typeof s=="object"}var Eg=Hv?Kt(Hv):_S;function MA(s,u){return s===u||ef(s,u,yf(u))}function OA(s,u,d){return d=typeof d=="function"?d:t,ef(s,u,yf(u),d)}function AA(s){return Sg(s)&&s!=+s}function _A(s){if(hM(s))throw new re(a);return gm(s)}function LA(s){return s===null}function DA(s){return s==null}function Sg(s){return typeof s=="number"||Pe(s)&&kt(s)==ar}function zo(s){if(!Pe(s)||kt(s)!=or)return!1;var u=Qs(s);if(u===null)return!0;var d=ke.call(u,"constructor")&&u.constructor;return typeof d=="function"&&d instanceof d&&Js.call(d)==OE}var Af=qv?Kt(qv):LS;function NA(s){return kg(s)&&s>=-zr&&s<=zr}var Mg=$v?Kt($v):DS;function Ml(s){return typeof s=="string"||!ne(s)&&Pe(s)&&kt(s)==sr}function Xt(s){return typeof s=="symbol"||Pe(s)&&kt(s)==xr}var Oa=Uv?Kt(Uv):NS;function IA(s){return s===t}function RA(s){return Pe(s)&&bt(s)==qn}function PA(s){return Pe(s)&&kt(s)==Ps}var BA=gl(rf),FA=gl(function(s,u){return s<=u});function Og(s){if(!s)return[];if(Pt(s))return Ml(s)?Sr(s):Rt(s);if(_o&&s[_o])return mE(s[_o]());var u=bt(s),d=u==Tt?zc:u==st?js:Aa;return d(s)}function Tn(s){if(!s)return s===0?s:0;if(s=mr(s),s===un||s===-un){var u=s<0?-1:1;return u*xc}return s===s?s:0}function oe(s){var u=Tn(s),d=u%1;return u===u?d?u-d:u:0}function Ag(s){return s?Li(oe(s),0,It):0}function mr(s){if(typeof s=="number")return s;if(Xt(s))return Ci;if(Ne(s)){var u=typeof s.valueOf=="function"?s.valueOf():s;s=Ne(u)?u+"":u}if(typeof s!="string")return s===0?s:+s;s=Kv(s);var d=et.test(s);return d||Si.test(s)?Qk(s.slice(2),d?2:8):Qe.test(s)?Ci:+s}function _g(s){return Gr(s,Bt(s))}function HA(s){return s?Li(oe(s),-zr,zr):s===0?s:0}function xe(s){return s==null?"":Jt(s)}var qA=Ea(function(s,u){if($o(u)||Pt(u)){Gr(u,tt(u),s);return}for(var d in u)ke.call(u,d)&&Ro(s,d,u[d])}),Lg=Ea(function(s,u){Gr(u,Bt(u),s)}),Ol=Ea(function(s,u,d,m){Gr(u,Bt(u),s,m)}),$A=Ea(function(s,u,d,m){Gr(u,tt(u),s,m)}),UA=wn(Jc);function zA(s,u){var d=ka(s);return u==null?d:um(d,u)}var VA=ue(function(s,u){s=Ee(s);var d=-1,m=u.length,b=m>2?u[2]:t;for(b&&Et(u[0],u[1],b)&&(m=1);++d<m;)for(var C=u[d],k=Bt(C),S=-1,O=k.length;++S<O;){var P=k[S],F=s[P];(F===t||Or(F,Ca[P])&&!ke.call(s,P))&&(s[P]=C[P])}return s}),WA=ue(function(s){return s.push(t,Km),Gt(Dg,t,s)});function jA(s,u){return Vv(s,Q(u,3),jr)}function GA(s,u){return Vv(s,Q(u,3),Yc)}function KA(s,u){return s==null?s:Xc(s,Q(u,3),Bt)}function JA(s,u){return s==null?s:pm(s,Q(u,3),Bt)}function XA(s,u){return s&&jr(s,Q(u,3))}function YA(s,u){return s&&Yc(s,Q(u,3))}function ZA(s){return s==null?[]:ul(s,tt(s))}function QA(s){return s==null?[]:ul(s,Bt(s))}function _f(s,u,d){var m=s==null?t:Di(s,u);return m===t?d:m}function e_(s,u){return s!=null&&Ym(s,u,TS)}function Lf(s,u){return s!=null&&Ym(s,u,kS)}var t_=zm(function(s,u,d){u!=null&&typeof u.toString!="function"&&(u=Xs.call(u)),s[u]=d},Nf(Ft)),r_=zm(function(s,u,d){u!=null&&typeof u.toString!="function"&&(u=Xs.call(u)),ke.call(s,u)?s[u].push(d):s[u]=[d]},Q),n_=ue(Bo);function tt(s){return Pt(s)?sm(s):tf(s)}function Bt(s){return Pt(s)?sm(s,!0):IS(s)}function i_(s,u){var d={};return u=Q(u,3),jr(s,function(m,b,C){yn(d,u(m,b,C),m)}),d}function a_(s,u){var d={};return u=Q(u,3),jr(s,function(m,b,C){yn(d,b,u(m,b,C))}),d}var o_=Ea(function(s,u,d){cl(s,u,d)}),Dg=Ea(function(s,u,d,m){cl(s,u,d,m)}),s_=wn(function(s,u){var d={};if(s==null)return d;var m=!1;u=Ae(u,function(C){return C=Jn(C,s),m||(m=C.length>1),C}),Gr(s,mf(s),d),m&&(d=hr(d,p|v|g,tM));for(var b=u.length;b--;)lf(d,u[b]);return d});function l_(s,u){return Ng(s,El(Q(u)))}var u_=wn(function(s,u){return s==null?{}:PS(s,u)});function Ng(s,u){if(s==null)return{};var d=Ae(mf(s),function(m){return[m]});return u=Q(u),km(s,d,function(m,b){return u(m,b[0])})}function c_(s,u,d){u=Jn(u,s);var m=-1,b=u.length;for(b||(b=1,s=t);++m<b;){var C=s==null?t:s[Kr(u[m])];C===t&&(m=b,C=d),s=xn(C)?C.call(s):C}return s}function f_(s,u,d){return s==null?s:Ho(s,u,d)}function d_(s,u,d,m){return m=typeof m=="function"?m:t,s==null?s:Ho(s,u,d,m)}var Ig=jm(tt),Rg=jm(Bt);function h_(s,u,d){var m=ne(s),b=m||Yn(s)||Oa(s);if(u=Q(u,4),d==null){var C=s&&s.constructor;b?d=m?new C:[]:Ne(s)?d=xn(C)?ka(Qs(s)):{}:d={}}return(b?cr:jr)(s,function(k,S,O){return u(d,k,S,O)}),d}function p_(s,u){return s==null?!0:lf(s,u)}function v_(s,u,d){return s==null?s:Am(s,u,ff(d))}function m_(s,u,d,m){return m=typeof m=="function"?m:t,s==null?s:Am(s,u,ff(d),m)}function Aa(s){return s==null?[]:Uc(s,tt(s))}function g_(s){return s==null?[]:Uc(s,Bt(s))}function y_(s,u,d){return d===t&&(d=u,u=t),d!==t&&(d=mr(d),d=d===d?d:0),u!==t&&(u=mr(u),u=u===u?u:0),Li(mr(s),u,d)}function b_(s,u,d){return u=Tn(u),d===t?(d=u,u=0):d=Tn(d),s=mr(s),ES(s,u,d)}function w_(s,u,d){if(d&&typeof d!="boolean"&&Et(s,u,d)&&(u=d=t),d===t&&(typeof u=="boolean"?(d=u,u=t):typeof s=="boolean"&&(d=s,s=t)),s===t&&u===t?(s=0,u=1):(s=Tn(s),u===t?(u=s,s=0):u=Tn(u)),s>u){var m=s;s=u,u=m}if(d||s%1||u%1){var b=am();return yt(s+b*(u-s+Zk("1e-"+((b+"").length-1))),u)}return af(s,u)}var C_=Sa(function(s,u,d){return u=u.toLowerCase(),s+(d?Pg(u):u)});function Pg(s){return Df(xe(s).toLowerCase())}function Bg(s){return s=xe(s),s&&s.replace(Mc,fE).replace(Uk,"")}function x_(s,u,d){s=xe(s),u=Jt(u);var m=s.length;d=d===t?m:Li(oe(d),0,m);var b=d;return d-=u.length,d>=0&&s.slice(d,b)==u}function T_(s){return s=xe(s),s&&So.test(s)?s.replace(Eo,dE):s}function k_(s){return s=xe(s),s&&kr.test(s)?s.replace(vn,"\\$&"):s}var E_=Sa(function(s,u,d){return s+(d?"-":"")+u.toLowerCase()}),S_=Sa(function(s,u,d){return s+(d?" ":"")+u.toLowerCase()}),M_=qm("toLowerCase");function O_(s,u,d){s=xe(s),u=oe(u);var m=u?ba(s):0;if(!u||m>=u)return s;var b=(u-m)/2;return ml(nl(b),d)+s+ml(rl(b),d)}function A_(s,u,d){s=xe(s),u=oe(u);var m=u?ba(s):0;return u&&m<u?s+ml(u-m,d):s}function __(s,u,d){s=xe(s),u=oe(u);var m=u?ba(s):0;return u&&m<u?ml(u-m,d)+s:s}function L_(s,u,d){return d||u==null?u=0:u&&(u=+u),FE(xe(s).replace(va,""),u||0)}function D_(s,u,d){return(d?Et(s,u,d):u===t)?u=1:u=oe(u),of(xe(s),u)}function N_(){var s=arguments,u=xe(s[0]);return s.length<3?u:u.replace(s[1],s[2])}var I_=Sa(function(s,u,d){return s+(d?"_":"")+u.toLowerCase()});function R_(s,u,d){return d&&typeof d!="number"&&Et(s,u,d)&&(u=d=t),d=d===t?It:d>>>0,d?(s=xe(s),s&&(typeof u=="string"||u!=null&&!Af(u))&&(u=Jt(u),!u&&ya(s))?Xn(Sr(s),0,d):s.split(u,d)):[]}var P_=Sa(function(s,u,d){return s+(d?" ":"")+Df(u)});function B_(s,u,d){return s=xe(s),d=d==null?0:Li(oe(d),0,s.length),u=Jt(u),s.slice(d,d+u.length)==u}function F_(s,u,d){var m=w.templateSettings;d&&Et(s,u,d)&&(u=t),s=xe(s),u=Ol({},u,m,Gm);var b=Ol({},u.imports,m.imports,Gm),C=tt(b),k=Uc(b,C),S,O,P=0,F=u.interpolate||Oo,H="__p += '",V=Vc((u.escape||Oo).source+"|"+F.source+"|"+(F===Mo?Ce:Oo).source+"|"+(u.evaluate||Oo).source+"|$","g"),Y="//# sourceURL="+(ke.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Gk+"]")+`
`;s.replace(V,function(te,fe,pe,Yt,St,Zt){return pe||(pe=Yt),H+=s.slice(P,Zt).replace(kk,hE),fe&&(S=!0,H+=`' +
__e(`+fe+`) +
'`),St&&(O=!0,H+=`';
`+St+`;
__p += '`),pe&&(H+=`' +
((__t = (`+pe+`)) == null ? '' : __t) +
'`),P=Zt+te.length,te}),H+=`';
`;var ee=ke.call(u,"variable")&&u.variable;if(!ee)H=`with (obj) {
`+H+`
}
`;else if(U.test(ee))throw new re(l);H=(O?H.replace(Un,""):H).replace(Tc,"$1").replace(To,"$1;"),H="function("+(ee||"obj")+`) {
`+(ee?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(S?", __e = _.escape":"")+(O?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+H+`return __p
}`;var se=Hg(function(){return be(C,Y+"return "+H).apply(t,k)});if(se.source=H,Of(se))throw se;return se}function H_(s){return xe(s).toLowerCase()}function q_(s){return xe(s).toUpperCase()}function $_(s,u,d){if(s=xe(s),s&&(d||u===t))return Kv(s);if(!s||!(u=Jt(u)))return s;var m=Sr(s),b=Sr(u),C=Jv(m,b),k=Xv(m,b)+1;return Xn(m,C,k).join("")}function U_(s,u,d){if(s=xe(s),s&&(d||u===t))return s.slice(0,Zv(s)+1);if(!s||!(u=Jt(u)))return s;var m=Sr(s),b=Xv(m,Sr(u))+1;return Xn(m,0,b).join("")}function z_(s,u,d){if(s=xe(s),s&&(d||u===t))return s.replace(va,"");if(!s||!(u=Jt(u)))return s;var m=Sr(s),b=Jv(m,Sr(u));return Xn(m,b).join("")}function V_(s,u){var d=we,m=De;if(Ne(u)){var b="separator"in u?u.separator:b;d="length"in u?oe(u.length):d,m="omission"in u?Jt(u.omission):m}s=xe(s);var C=s.length;if(ya(s)){var k=Sr(s);C=k.length}if(d>=C)return s;var S=d-ba(m);if(S<1)return m;var O=k?Xn(k,0,S).join(""):s.slice(0,S);if(b===t)return O+m;if(k&&(S+=O.length-S),Af(b)){if(s.slice(S).search(b)){var P,F=O;for(b.global||(b=Vc(b.source,xe(ze.exec(b))+"g")),b.lastIndex=0;P=b.exec(F);)var H=P.index;O=O.slice(0,H===t?S:H)}}else if(s.indexOf(Jt(b),S)!=S){var V=O.lastIndexOf(b);V>-1&&(O=O.slice(0,V))}return O+m}function W_(s){return s=xe(s),s&&pa.test(s)?s.replace(ko,wE):s}var j_=Sa(function(s,u,d){return s+(d?" ":"")+u.toUpperCase()}),Df=qm("toUpperCase");function Fg(s,u,d){return s=xe(s),u=d?t:u,u===t?vE(s)?TE(s):oE(s):s.match(u)||[]}var Hg=ue(function(s,u){try{return Gt(s,t,u)}catch(d){return Of(d)?d:new re(d)}}),G_=wn(function(s,u){return cr(u,function(d){d=Kr(d),yn(s,d,Sf(s[d],s))}),s});function K_(s){var u=s==null?0:s.length,d=Q();return s=u?Ae(s,function(m){if(typeof m[1]!="function")throw new fr(o);return[d(m[0]),m[1]]}):[],ue(function(m){for(var b=-1;++b<u;){var C=s[b];if(Gt(C[0],this,m))return Gt(C[1],this,m)}})}function J_(s){return wS(hr(s,p))}function Nf(s){return function(){return s}}function X_(s,u){return s==null||s!==s?u:s}var Y_=Um(),Z_=Um(!0);function Ft(s){return s}function If(s){return ym(typeof s=="function"?s:hr(s,p))}function Q_(s){return wm(hr(s,p))}function eL(s,u){return Cm(s,hr(u,p))}var tL=ue(function(s,u){return function(d){return Bo(d,s,u)}}),rL=ue(function(s,u){return function(d){return Bo(s,d,u)}});function Rf(s,u,d){var m=tt(u),b=ul(u,m);d==null&&!(Ne(u)&&(b.length||!m.length))&&(d=u,u=s,s=this,b=ul(u,tt(u)));var C=!(Ne(d)&&"chain"in d)||!!d.chain,k=xn(s);return cr(b,function(S){var O=u[S];s[S]=O,k&&(s.prototype[S]=function(){var P=this.__chain__;if(C||P){var F=s(this.__wrapped__),H=F.__actions__=Rt(this.__actions__);return H.push({func:O,args:arguments,thisArg:s}),F.__chain__=P,F}return O.apply(s,Vn([this.value()],arguments))})}),s}function nL(){return lt._===this&&(lt._=AE),this}function Pf(){}function iL(s){return s=oe(s),ue(function(u){return xm(u,s)})}var aL=hf(Ae),oL=hf(zv),sL=hf(Bc);function qg(s){return wf(s)?Fc(Kr(s)):BS(s)}function lL(s){return function(u){return s==null?t:Di(s,u)}}var uL=Vm(),cL=Vm(!0);function Bf(){return[]}function Ff(){return!1}function fL(){return{}}function dL(){return""}function hL(){return!0}function pL(s,u){if(s=oe(s),s<1||s>zr)return[];var d=It,m=yt(s,It);u=Q(u),s-=It;for(var b=$c(m,u);++d<s;)u(d);return b}function vL(s){return ne(s)?Ae(s,Kr):Xt(s)?[s]:Rt(og(xe(s)))}function mL(s){var u=++ME;return xe(s)+u}var gL=vl(function(s,u){return s+u},0),yL=pf("ceil"),bL=vl(function(s,u){return s/u},1),wL=pf("floor");function CL(s){return s&&s.length?ll(s,Ft,Zc):t}function xL(s,u){return s&&s.length?ll(s,Q(u,2),Zc):t}function TL(s){return jv(s,Ft)}function kL(s,u){return jv(s,Q(u,2))}function EL(s){return s&&s.length?ll(s,Ft,rf):t}function SL(s,u){return s&&s.length?ll(s,Q(u,2),rf):t}var ML=vl(function(s,u){return s*u},1),OL=pf("round"),AL=vl(function(s,u){return s-u},0);function _L(s){return s&&s.length?qc(s,Ft):0}function LL(s,u){return s&&s.length?qc(s,Q(u,2)):0}return w.after=QO,w.ary=gg,w.assign=qA,w.assignIn=Lg,w.assignInWith=Ol,w.assignWith=$A,w.at=UA,w.before=yg,w.bind=Sf,w.bindAll=G_,w.bindKey=bg,w.castArray=fA,w.chain=pg,w.chunk=wM,w.compact=CM,w.concat=xM,w.cond=K_,w.conforms=J_,w.constant=Nf,w.countBy=_O,w.create=zA,w.curry=wg,w.curryRight=Cg,w.debounce=xg,w.defaults=VA,w.defaultsDeep=WA,w.defer=eA,w.delay=tA,w.difference=TM,w.differenceBy=kM,w.differenceWith=EM,w.drop=SM,w.dropRight=MM,w.dropRightWhile=OM,w.dropWhile=AM,w.fill=_M,w.filter=DO,w.flatMap=RO,w.flatMapDeep=PO,w.flatMapDepth=BO,w.flatten=cg,w.flattenDeep=LM,w.flattenDepth=DM,w.flip=rA,w.flow=Y_,w.flowRight=Z_,w.fromPairs=NM,w.functions=ZA,w.functionsIn=QA,w.groupBy=FO,w.initial=RM,w.intersection=PM,w.intersectionBy=BM,w.intersectionWith=FM,w.invert=t_,w.invertBy=r_,w.invokeMap=qO,w.iteratee=If,w.keyBy=$O,w.keys=tt,w.keysIn=Bt,w.map=xl,w.mapKeys=i_,w.mapValues=a_,w.matches=Q_,w.matchesProperty=eL,w.memoize=kl,w.merge=o_,w.mergeWith=Dg,w.method=tL,w.methodOf=rL,w.mixin=Rf,w.negate=El,w.nthArg=iL,w.omit=s_,w.omitBy=l_,w.once=nA,w.orderBy=UO,w.over=aL,w.overArgs=iA,w.overEvery=oL,w.overSome=sL,w.partial=Mf,w.partialRight=Tg,w.partition=zO,w.pick=u_,w.pickBy=Ng,w.property=qg,w.propertyOf=lL,w.pull=UM,w.pullAll=dg,w.pullAllBy=zM,w.pullAllWith=VM,w.pullAt=WM,w.range=uL,w.rangeRight=cL,w.rearg=aA,w.reject=jO,w.remove=jM,w.rest=oA,w.reverse=kf,w.sampleSize=KO,w.set=f_,w.setWith=d_,w.shuffle=JO,w.slice=GM,w.sortBy=ZO,w.sortedUniq=eO,w.sortedUniqBy=tO,w.split=R_,w.spread=sA,w.tail=rO,w.take=nO,w.takeRight=iO,w.takeRightWhile=aO,w.takeWhile=oO,w.tap=CO,w.throttle=lA,w.thru=Cl,w.toArray=Og,w.toPairs=Ig,w.toPairsIn=Rg,w.toPath=vL,w.toPlainObject=_g,w.transform=h_,w.unary=uA,w.union=sO,w.unionBy=lO,w.unionWith=uO,w.uniq=cO,w.uniqBy=fO,w.uniqWith=dO,w.unset=p_,w.unzip=Ef,w.unzipWith=hg,w.update=v_,w.updateWith=m_,w.values=Aa,w.valuesIn=g_,w.without=hO,w.words=Fg,w.wrap=cA,w.xor=pO,w.xorBy=vO,w.xorWith=mO,w.zip=gO,w.zipObject=yO,w.zipObjectDeep=bO,w.zipWith=wO,w.entries=Ig,w.entriesIn=Rg,w.extend=Lg,w.extendWith=Ol,Rf(w,w),w.add=gL,w.attempt=Hg,w.camelCase=C_,w.capitalize=Pg,w.ceil=yL,w.clamp=y_,w.clone=dA,w.cloneDeep=pA,w.cloneDeepWith=vA,w.cloneWith=hA,w.conformsTo=mA,w.deburr=Bg,w.defaultTo=X_,w.divide=bL,w.endsWith=x_,w.eq=Or,w.escape=T_,w.escapeRegExp=k_,w.every=LO,w.find=NO,w.findIndex=lg,w.findKey=jA,w.findLast=IO,w.findLastIndex=ug,w.findLastKey=GA,w.floor=wL,w.forEach=vg,w.forEachRight=mg,w.forIn=KA,w.forInRight=JA,w.forOwn=XA,w.forOwnRight=YA,w.get=_f,w.gt=gA,w.gte=yA,w.has=e_,w.hasIn=Lf,w.head=fg,w.identity=Ft,w.includes=HO,w.indexOf=IM,w.inRange=b_,w.invoke=n_,w.isArguments=Ri,w.isArray=ne,w.isArrayBuffer=bA,w.isArrayLike=Pt,w.isArrayLikeObject=Fe,w.isBoolean=wA,w.isBuffer=Yn,w.isDate=CA,w.isElement=xA,w.isEmpty=TA,w.isEqual=kA,w.isEqualWith=EA,w.isError=Of,w.isFinite=SA,w.isFunction=xn,w.isInteger=kg,w.isLength=Sl,w.isMap=Eg,w.isMatch=MA,w.isMatchWith=OA,w.isNaN=AA,w.isNative=_A,w.isNil=DA,w.isNull=LA,w.isNumber=Sg,w.isObject=Ne,w.isObjectLike=Pe,w.isPlainObject=zo,w.isRegExp=Af,w.isSafeInteger=NA,w.isSet=Mg,w.isString=Ml,w.isSymbol=Xt,w.isTypedArray=Oa,w.isUndefined=IA,w.isWeakMap=RA,w.isWeakSet=PA,w.join=HM,w.kebabCase=E_,w.last=vr,w.lastIndexOf=qM,w.lowerCase=S_,w.lowerFirst=M_,w.lt=BA,w.lte=FA,w.max=CL,w.maxBy=xL,w.mean=TL,w.meanBy=kL,w.min=EL,w.minBy=SL,w.stubArray=Bf,w.stubFalse=Ff,w.stubObject=fL,w.stubString=dL,w.stubTrue=hL,w.multiply=ML,w.nth=$M,w.noConflict=nL,w.noop=Pf,w.now=Tl,w.pad=O_,w.padEnd=A_,w.padStart=__,w.parseInt=L_,w.random=w_,w.reduce=VO,w.reduceRight=WO,w.repeat=D_,w.replace=N_,w.result=c_,w.round=OL,w.runInContext=M,w.sample=GO,w.size=XO,w.snakeCase=I_,w.some=YO,w.sortedIndex=KM,w.sortedIndexBy=JM,w.sortedIndexOf=XM,w.sortedLastIndex=YM,w.sortedLastIndexBy=ZM,w.sortedLastIndexOf=QM,w.startCase=P_,w.startsWith=B_,w.subtract=AL,w.sum=_L,w.sumBy=LL,w.template=F_,w.times=pL,w.toFinite=Tn,w.toInteger=oe,w.toLength=Ag,w.toLower=H_,w.toNumber=mr,w.toSafeInteger=HA,w.toString=xe,w.toUpper=q_,w.trim=$_,w.trimEnd=U_,w.trimStart=z_,w.truncate=V_,w.unescape=W_,w.uniqueId=mL,w.upperCase=j_,w.upperFirst=Df,w.each=vg,w.eachRight=mg,w.first=fg,Rf(w,function(){var s={};return jr(w,function(u,d){ke.call(w.prototype,d)||(s[d]=u)}),s}(),{chain:!1}),w.VERSION=n,cr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){w[s].placeholder=w}),cr(["drop","take"],function(s,u){de.prototype[s]=function(d){d=d===t?1:We(oe(d),0);var m=this.__filtered__&&!u?new de(this):this.clone();return m.__filtered__?m.__takeCount__=yt(d,m.__takeCount__):m.__views__.push({size:yt(d,It),type:s+(m.__dir__<0?"Right":"")}),m},de.prototype[s+"Right"]=function(d){return this.reverse()[s](d).reverse()}}),cr(["filter","map","takeWhile"],function(s,u){var d=u+1,m=d==Be||d==ln;de.prototype[s]=function(b){var C=this.clone();return C.__iteratees__.push({iteratee:Q(b,3),type:d}),C.__filtered__=C.__filtered__||m,C}}),cr(["head","last"],function(s,u){var d="take"+(u?"Right":"");de.prototype[s]=function(){return this[d](1).value()[0]}}),cr(["initial","tail"],function(s,u){var d="drop"+(u?"":"Right");de.prototype[s]=function(){return this.__filtered__?new de(this):this[d](1)}}),de.prototype.compact=function(){return this.filter(Ft)},de.prototype.find=function(s){return this.filter(s).head()},de.prototype.findLast=function(s){return this.reverse().find(s)},de.prototype.invokeMap=ue(function(s,u){return typeof s=="function"?new de(this):this.map(function(d){return Bo(d,s,u)})}),de.prototype.reject=function(s){return this.filter(El(Q(s)))},de.prototype.slice=function(s,u){s=oe(s);var d=this;return d.__filtered__&&(s>0||u<0)?new de(d):(s<0?d=d.takeRight(-s):s&&(d=d.drop(s)),u!==t&&(u=oe(u),d=u<0?d.dropRight(-u):d.take(u-s)),d)},de.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},de.prototype.toArray=function(){return this.take(It)},jr(de.prototype,function(s,u){var d=/^(?:filter|find|map|reject)|While$/.test(u),m=/^(?:head|last)$/.test(u),b=w[m?"take"+(u=="last"?"Right":""):u],C=m||/^find/.test(u);!b||(w.prototype[u]=function(){var k=this.__wrapped__,S=m?[1]:arguments,O=k instanceof de,P=S[0],F=O||ne(k),H=function(fe){var pe=b.apply(w,Vn([fe],S));return m&&V?pe[0]:pe};F&&d&&typeof P=="function"&&P.length!=1&&(O=F=!1);var V=this.__chain__,Y=!!this.__actions__.length,ee=C&&!V,se=O&&!Y;if(!C&&F){k=se?k:new de(this);var te=s.apply(k,S);return te.__actions__.push({func:Cl,args:[H],thisArg:t}),new dr(te,V)}return ee&&se?s.apply(this,S):(te=this.thru(H),ee?m?te.value()[0]:te.value():te)})}),cr(["pop","push","shift","sort","splice","unshift"],function(s){var u=Gs[s],d=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",m=/^(?:pop|shift)$/.test(s);w.prototype[s]=function(){var b=arguments;if(m&&!this.__chain__){var C=this.value();return u.apply(ne(C)?C:[],b)}return this[d](function(k){return u.apply(ne(k)?k:[],b)})}}),jr(de.prototype,function(s,u){var d=w[u];if(d){var m=d.name+"";ke.call(Ta,m)||(Ta[m]=[]),Ta[m].push({name:u,func:d})}}),Ta[pl(t,E).name]=[{name:"wrapper",func:t}],de.prototype.clone=WE,de.prototype.reverse=jE,de.prototype.value=GE,w.prototype.at=xO,w.prototype.chain=TO,w.prototype.commit=kO,w.prototype.next=EO,w.prototype.plant=MO,w.prototype.reverse=OO,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=AO,w.prototype.first=w.prototype.head,_o&&(w.prototype[_o]=SO),w},wa=kE();Mi?((Mi.exports=wa)._=wa,Nc._=wa):lt._=wa}).call(Vo)})(Gd,Gd.exports);const NL=Gd.exports;var A0={exports:{}},Yh={exports:{}},_0=function(e,t){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return e.apply(t,i)}},IL=_0,Zh=Object.prototype.toString,Qh=function(r){return function(e){var t=Zh.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())}}(Object.create(null));function fa(r){return r=r.toLowerCase(),function(t){return Qh(t)===r}}function ep(r){return Array.isArray(r)}function nu(r){return typeof r>"u"}function RL(r){return r!==null&&!nu(r)&&r.constructor!==null&&!nu(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}var L0=fa("ArrayBuffer");function PL(r){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&L0(r.buffer),e}function BL(r){return typeof r=="string"}function FL(r){return typeof r=="number"}function D0(r){return r!==null&&typeof r=="object"}function Wl(r){if(Qh(r)!=="object")return!1;var e=Object.getPrototypeOf(r);return e===null||e===Object.prototype}var HL=fa("Date"),qL=fa("File"),$L=fa("Blob"),UL=fa("FileList");function tp(r){return Zh.call(r)==="[object Function]"}function zL(r){return D0(r)&&tp(r.pipe)}function VL(r){var e="[object FormData]";return r&&(typeof FormData=="function"&&r instanceof FormData||Zh.call(r)===e||tp(r.toString)&&r.toString()===e)}var WL=fa("URLSearchParams");function jL(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function GL(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function rp(r,e){if(!(r===null||typeof r>"u"))if(typeof r!="object"&&(r=[r]),ep(r))for(var t=0,n=r.length;t<n;t++)e.call(null,r[t],t,r);else for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.call(null,r[i],i,r)}function Kd(){var r={};function e(i,a){Wl(r[a])&&Wl(i)?r[a]=Kd(r[a],i):Wl(i)?r[a]=Kd({},i):ep(i)?r[a]=i.slice():r[a]=i}for(var t=0,n=arguments.length;t<n;t++)rp(arguments[t],e);return r}function KL(r,e,t){return rp(e,function(i,a){t&&typeof i=="function"?r[a]=IL(i,t):r[a]=i}),r}function JL(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}function XL(r,e,t,n){r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,t&&Object.assign(r.prototype,t)}function YL(r,e,t){var n,i,a,o={};e=e||{};do{for(n=Object.getOwnPropertyNames(r),i=n.length;i-- >0;)a=n[i],o[a]||(e[a]=r[a],o[a]=!0);r=Object.getPrototypeOf(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e}function ZL(r,e,t){r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;var n=r.indexOf(e,t);return n!==-1&&n===t}function QL(r){if(!r)return null;var e=r.length;if(nu(e))return null;for(var t=new Array(e);e-- >0;)t[e]=r[e];return t}var eD=function(r){return function(e){return r&&e instanceof r}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),gt={isArray:ep,isArrayBuffer:L0,isBuffer:RL,isFormData:VL,isArrayBufferView:PL,isString:BL,isNumber:FL,isObject:D0,isPlainObject:Wl,isUndefined:nu,isDate:HL,isFile:qL,isBlob:$L,isFunction:tp,isStream:zL,isURLSearchParams:WL,isStandardBrowserEnv:GL,forEach:rp,merge:Kd,extend:KL,trim:jL,stripBOM:JL,inherits:XL,toFlatObject:YL,kindOf:Qh,kindOfTest:fa,endsWith:ZL,toArray:QL,isTypedArray:eD,isFileList:UL},_a=gt;function Ug(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var N0=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(_a.isURLSearchParams(t))i=t.toString();else{var a=[];_a.forEach(t,function(c,f){c===null||typeof c>"u"||(_a.isArray(c)?f=f+"[]":c=[c],_a.forEach(c,function(p){_a.isDate(p)?p=p.toISOString():_a.isObject(p)&&(p=JSON.stringify(p)),a.push(Ug(f)+"="+Ug(p))}))}),i=a.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},tD=gt;function Bu(){this.handlers=[]}Bu.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Bu.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Bu.prototype.forEach=function(e){tD.forEach(this.handlers,function(n){n!==null&&e(n)})};var rD=Bu,nD=gt,iD=function(e,t){nD.forEach(e,function(i,a){a!==t&&a.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[a])})},I0=gt;function Ka(r,e,t,n,i){Error.call(this),this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i)}I0.inherits(Ka,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var R0=Ka.prototype,P0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(r){P0[r]={value:r}});Object.defineProperties(Ka,P0);Object.defineProperty(R0,"isAxiosError",{value:!0});Ka.from=function(r,e,t,n,i,a){var o=Object.create(R0);return I0.toFlatObject(r,o,function(c){return c!==Error.prototype}),Ka.call(o,r.message,e,t,n,i),o.name=r.name,a&&Object.assign(o,a),o};var mo=Ka,B0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_r=gt;function aD(r,e){e=e||new FormData;var t=[];function n(a){return a===null?"":_r.isDate(a)?a.toISOString():_r.isArrayBuffer(a)||_r.isTypedArray(a)?typeof Blob=="function"?new Blob([a]):Buffer.from(a):a}function i(a,o){if(_r.isPlainObject(a)||_r.isArray(a)){if(t.indexOf(a)!==-1)throw Error("Circular reference detected in "+o);t.push(a),_r.forEach(a,function(c,f){if(!_r.isUndefined(c)){var h=o?o+"."+f:f,p;if(c&&!o&&typeof c=="object"){if(_r.endsWith(f,"{}"))c=JSON.stringify(c);else if(_r.endsWith(f,"[]")&&(p=_r.toArray(c))){p.forEach(function(v){!_r.isUndefined(v)&&e.append(h,n(v))});return}}i(c,h)}}),t.pop()}else e.append(o,n(a))}return i(r),e}var F0=aD,Hf,zg;function oD(){if(zg)return Hf;zg=1;var r=mo;return Hf=function(t,n,i){var a=i.config.validateStatus;!i.status||!a||a(i.status)?t(i):n(new r("Request failed with status code "+i.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},Hf}var qf,Vg;function sD(){if(Vg)return qf;Vg=1;var r=gt;return qf=r.isStandardBrowserEnv()?function(){return{write:function(n,i,a,o,l,c){var f=[];f.push(n+"="+encodeURIComponent(i)),r.isNumber(a)&&f.push("expires="+new Date(a).toGMTString()),r.isString(o)&&f.push("path="+o),r.isString(l)&&f.push("domain="+l),c===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),qf}var lD=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},uD=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},cD=lD,fD=uD,H0=function(e,t){return e&&!cD(t)?fD(e,t):t},$f,Wg;function dD(){if(Wg)return $f;Wg=1;var r=gt,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return $f=function(n){var i={},a,o,l;return n&&r.forEach(n.split(`
`),function(f){if(l=f.indexOf(":"),a=r.trim(f.substr(0,l)).toLowerCase(),o=r.trim(f.substr(l+1)),a){if(i[a]&&e.indexOf(a)>=0)return;a==="set-cookie"?i[a]=(i[a]?i[a]:[]).concat([o]):i[a]=i[a]?i[a]+", "+o:o}}),i},$f}var Uf,jg;function hD(){if(jg)return Uf;jg=1;var r=gt;return Uf=r.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function a(o){var l=o;return t&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=a(window.location.href),function(l){var c=r.isString(l)?a(l):l;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),Uf}var zf,Gg;function Fu(){if(Gg)return zf;Gg=1;var r=mo,e=gt;function t(n){r.call(this,n==null?"canceled":n,r.ERR_CANCELED),this.name="CanceledError"}return e.inherits(t,r,{__CANCEL__:!0}),zf=t,zf}var Vf,Kg;function pD(){return Kg||(Kg=1,Vf=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}),Vf}var Wf,Jg;function Xg(){if(Jg)return Wf;Jg=1;var r=gt,e=oD(),t=sD(),n=N0,i=H0,a=dD(),o=hD(),l=B0,c=mo,f=Fu(),h=pD();return Wf=function(v){return new Promise(function(y,x){var T=v.data,E=v.headers,L=v.responseType,N;function B(){v.cancelToken&&v.cancelToken.unsubscribe(N),v.signal&&v.signal.removeEventListener("abort",N)}r.isFormData(T)&&r.isStandardBrowserEnv()&&delete E["Content-Type"];var _=new XMLHttpRequest;if(v.auth){var z=v.auth.username||"",K=v.auth.password?unescape(encodeURIComponent(v.auth.password)):"";E.Authorization="Basic "+btoa(z+":"+K)}var $=i(v.baseURL,v.url);_.open(v.method.toUpperCase(),n($,v.params,v.paramsSerializer),!0),_.timeout=v.timeout;function le(){if(!!_){var Se="getAllResponseHeaders"in _?a(_.getAllResponseHeaders()):null,jt=!L||L==="text"||L==="json"?_.responseText:_.response,Be={data:jt,status:_.status,statusText:_.statusText,headers:Se,config:v,request:_};e(function(ln){y(ln),B()},function(ln){x(ln),B()},Be),_=null}}if("onloadend"in _?_.onloadend=le:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(le)},_.onabort=function(){!_||(x(new c("Request aborted",c.ECONNABORTED,v,_)),_=null)},_.onerror=function(){x(new c("Network Error",c.ERR_NETWORK,v,_,_)),_=null},_.ontimeout=function(){var jt=v.timeout?"timeout of "+v.timeout+"ms exceeded":"timeout exceeded",Be=v.transitional||l;v.timeoutErrorMessage&&(jt=v.timeoutErrorMessage),x(new c(jt,Be.clarifyTimeoutError?c.ETIMEDOUT:c.ECONNABORTED,v,_)),_=null},r.isStandardBrowserEnv()){var we=(v.withCredentials||o($))&&v.xsrfCookieName?t.read(v.xsrfCookieName):void 0;we&&(E[v.xsrfHeaderName]=we)}"setRequestHeader"in _&&r.forEach(E,function(jt,Be){typeof T>"u"&&Be.toLowerCase()==="content-type"?delete E[Be]:_.setRequestHeader(Be,jt)}),r.isUndefined(v.withCredentials)||(_.withCredentials=!!v.withCredentials),L&&L!=="json"&&(_.responseType=v.responseType),typeof v.onDownloadProgress=="function"&&_.addEventListener("progress",v.onDownloadProgress),typeof v.onUploadProgress=="function"&&_.upload&&_.upload.addEventListener("progress",v.onUploadProgress),(v.cancelToken||v.signal)&&(N=function(Se){!_||(x(!Se||Se&&Se.type?new f:Se),_.abort(),_=null)},v.cancelToken&&v.cancelToken.subscribe(N),v.signal&&(v.signal.aborted?N():v.signal.addEventListener("abort",N))),T||(T=null);var De=h($);if(De&&["http","https","file"].indexOf(De)===-1){x(new c("Unsupported protocol "+De+":",c.ERR_BAD_REQUEST,v));return}_.send(T)})},Wf}var jf,Yg;function vD(){return Yg||(Yg=1,jf=null),jf}var rt=gt,Zg=iD,Qg=mo,mD=B0,gD=F0,yD={"Content-Type":"application/x-www-form-urlencoded"};function ey(r,e){!rt.isUndefined(r)&&rt.isUndefined(r["Content-Type"])&&(r["Content-Type"]=e)}function bD(){var r;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(r=Xg()),r}function wD(r,e,t){if(rt.isString(r))try{return(e||JSON.parse)(r),rt.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}var Hu={transitional:mD,adapter:bD(),transformRequest:[function(e,t){if(Zg(t,"Accept"),Zg(t,"Content-Type"),rt.isFormData(e)||rt.isArrayBuffer(e)||rt.isBuffer(e)||rt.isStream(e)||rt.isFile(e)||rt.isBlob(e))return e;if(rt.isArrayBufferView(e))return e.buffer;if(rt.isURLSearchParams(e))return ey(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n=rt.isObject(e),i=t&&t["Content-Type"],a;if((a=rt.isFileList(e))||n&&i==="multipart/form-data"){var o=this.env&&this.env.FormData;return gD(a?{"files[]":e}:e,o&&new o)}else if(n||i==="application/json")return ey(t,"application/json"),wD(e);return e}],transformResponse:[function(e){var t=this.transitional||Hu.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!n&&this.responseType==="json";if(a||i&&rt.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?Qg.from(o,Qg.ERR_BAD_RESPONSE,this,null,this.response):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vD()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};rt.forEach(["delete","get","head"],function(e){Hu.headers[e]={}});rt.forEach(["post","put","patch"],function(e){Hu.headers[e]=rt.merge(yD)});var np=Hu,CD=gt,xD=np,TD=function(e,t,n){var i=this||xD;return CD.forEach(n,function(o){e=o.call(i,e,t)}),e},Gf,ty;function q0(){return ty||(ty=1,Gf=function(e){return!!(e&&e.__CANCEL__)}),Gf}var ry=gt,Kf=TD,kD=q0(),ED=np,SD=Fu();function Jf(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new SD}var MD=function(e){Jf(e),e.headers=e.headers||{},e.data=Kf.call(e,e.data,e.headers,e.transformRequest),e.headers=ry.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),ry.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var t=e.adapter||ED.adapter;return t(e).then(function(i){return Jf(e),i.data=Kf.call(e,i.data,i.headers,e.transformResponse),i},function(i){return kD(i)||(Jf(e),i&&i.response&&(i.response.data=Kf.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Qt=gt,$0=function(e,t){t=t||{};var n={};function i(h,p){return Qt.isPlainObject(h)&&Qt.isPlainObject(p)?Qt.merge(h,p):Qt.isPlainObject(p)?Qt.merge({},p):Qt.isArray(p)?p.slice():p}function a(h){if(Qt.isUndefined(t[h])){if(!Qt.isUndefined(e[h]))return i(void 0,e[h])}else return i(e[h],t[h])}function o(h){if(!Qt.isUndefined(t[h]))return i(void 0,t[h])}function l(h){if(Qt.isUndefined(t[h])){if(!Qt.isUndefined(e[h]))return i(void 0,e[h])}else return i(void 0,t[h])}function c(h){if(h in t)return i(e[h],t[h]);if(h in e)return i(void 0,e[h])}var f={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c};return Qt.forEach(Object.keys(e).concat(Object.keys(t)),function(p){var v=f[p]||a,g=v(p);Qt.isUndefined(g)&&v!==c||(n[p]=g)}),n},Xf,ny;function U0(){return ny||(ny=1,Xf={version:"0.27.2"}),Xf}var OD=U0().version,ti=mo,ip={};["object","boolean","number","function","string","symbol"].forEach(function(r,e){ip[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});var iy={};ip.transitional=function(e,t,n){function i(a,o){return"[Axios v"+OD+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return function(a,o,l){if(e===!1)throw new ti(i(o," has been removed"+(t?" in "+t:"")),ti.ERR_DEPRECATED);return t&&!iy[o]&&(iy[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,o,l):!0}};function AD(r,e,t){if(typeof r!="object")throw new ti("options must be an object",ti.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(r),i=n.length;i-- >0;){var a=n[i],o=e[a];if(o){var l=r[a],c=l===void 0||o(l,a,r);if(c!==!0)throw new ti("option "+a+" must be "+c,ti.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ti("Unknown option "+a,ti.ERR_BAD_OPTION)}}var _D={assertOptions:AD,validators:ip},z0=gt,LD=N0,ay=rD,oy=MD,qu=$0,DD=H0,V0=_D,La=V0.validators;function Ja(r){this.defaults=r,this.interceptors={request:new ay,response:new ay}}Ja.prototype.request=function(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=qu(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;n!==void 0&&V0.assertOptions(n,{silentJSONParsing:La.transitional(La.boolean),forcedJSONParsing:La.transitional(La.boolean),clarifyTimeoutError:La.transitional(La.boolean)},!1);var i=[],a=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(a=a&&g.synchronous,i.unshift(g.fulfilled,g.rejected))});var o=[];this.interceptors.response.forEach(function(g){o.push(g.fulfilled,g.rejected)});var l;if(!a){var c=[oy,void 0];for(Array.prototype.unshift.apply(c,i),c=c.concat(o),l=Promise.resolve(t);c.length;)l=l.then(c.shift(),c.shift());return l}for(var f=t;i.length;){var h=i.shift(),p=i.shift();try{f=h(f)}catch(v){p(v);break}}try{l=oy(f)}catch(v){return Promise.reject(v)}for(;o.length;)l=l.then(o.shift(),o.shift());return l};Ja.prototype.getUri=function(e){e=qu(this.defaults,e);var t=DD(e.baseURL,e.url);return LD(t,e.params,e.paramsSerializer)};z0.forEach(["delete","get","head","options"],function(e){Ja.prototype[e]=function(t,n){return this.request(qu(n||{},{method:e,url:t,data:(n||{}).data}))}});z0.forEach(["post","put","patch"],function(e){function t(n){return function(a,o,l){return this.request(qu(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Ja.prototype[e]=t(),Ja.prototype[e+"Form"]=t(!0)});var ND=Ja,Yf,sy;function ID(){if(sy)return Yf;sy=1;var r=Fu();function e(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(a){if(!!i._listeners){var o,l=i._listeners.length;for(o=0;o<l;o++)i._listeners[o](a);i._listeners=null}}),this.promise.then=function(a){var o,l=new Promise(function(c){i.subscribe(c),o=c}).then(a);return l.cancel=function(){i.unsubscribe(o)},l},t(function(o){i.reason||(i.reason=new r(o),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(!!this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(o){n=o});return{token:i,cancel:n}},Yf=e,Yf}var Zf,ly;function RD(){return ly||(ly=1,Zf=function(e){return function(n){return e.apply(null,n)}}),Zf}var Qf,uy;function PD(){if(uy)return Qf;uy=1;var r=gt;return Qf=function(t){return r.isObject(t)&&t.isAxiosError===!0},Qf}var cy=gt,BD=_0,jl=ND,FD=$0,HD=np;function W0(r){var e=new jl(r),t=BD(jl.prototype.request,e);return cy.extend(t,jl.prototype,e),cy.extend(t,e),t.create=function(i){return W0(FD(r,i))},t}var Ut=W0(HD);Ut.Axios=jl;Ut.CanceledError=Fu();Ut.CancelToken=ID();Ut.isCancel=q0();Ut.VERSION=U0().version;Ut.toFormData=F0;Ut.AxiosError=mo;Ut.Cancel=Ut.CanceledError;Ut.all=function(e){return Promise.all(e)};Ut.spread=RD();Ut.isAxiosError=PD();Yh.exports=Ut;Yh.exports.default=Ut;(function(r){r.exports=Yh.exports})(A0);const qD=DL(A0.exports);window._=NL;window.axios=qD;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Jd=!1,Xd=!1,Wi=[];function $D(r){UD(r)}function UD(r){Wi.includes(r)||Wi.push(r),zD()}function j0(r){let e=Wi.indexOf(r);e!==-1&&Wi.splice(e,1)}function zD(){!Xd&&!Jd&&(Jd=!0,queueMicrotask(VD))}function VD(){Jd=!1,Xd=!0;for(let r=0;r<Wi.length;r++)Wi[r]();Wi.length=0,Xd=!1}var go,Ts,$u,G0,Yd=!0;function WD(r){Yd=!1,r(),Yd=!0}function jD(r){go=r.reactive,$u=r.release,Ts=e=>r.effect(e,{scheduler:t=>{Yd?$D(t):t()}}),G0=r.raw}function fy(r){Ts=r}function GD(r){let e=()=>{};return[n=>{let i=Ts(n);return r._x_effects||(r._x_effects=new Set,r._x_runEffects=()=>{r._x_effects.forEach(a=>a())}),r._x_effects.add(i),e=()=>{i!==void 0&&(r._x_effects.delete(i),$u(i))},i},()=>{e()}]}var K0=[],J0=[],X0=[];function KD(r){X0.push(r)}function Y0(r,e){typeof e=="function"?(r._x_cleanups||(r._x_cleanups=[]),r._x_cleanups.push(e)):(e=r,J0.push(e))}function JD(r){K0.push(r)}function XD(r,e,t){r._x_attributeCleanups||(r._x_attributeCleanups={}),r._x_attributeCleanups[e]||(r._x_attributeCleanups[e]=[]),r._x_attributeCleanups[e].push(t)}function Z0(r,e){!r._x_attributeCleanups||Object.entries(r._x_attributeCleanups).forEach(([t,n])=>{(e===void 0||e.includes(t))&&(n.forEach(i=>i()),delete r._x_attributeCleanups[t])})}var ap=new MutationObserver(lp),op=!1;function Q0(){ap.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),op=!0}function YD(){ZD(),ap.disconnect(),op=!1}var as=[],ed=!1;function ZD(){as=as.concat(ap.takeRecords()),as.length&&!ed&&(ed=!0,queueMicrotask(()=>{QD(),ed=!1}))}function QD(){lp(as),as.length=0}function it(r){if(!op)return r();YD();let e=r();return Q0(),e}var sp=!1,iu=[];function eN(){sp=!0}function tN(){sp=!1,lp(iu),iu=[]}function lp(r){if(sp){iu=iu.concat(r);return}let e=[],t=[],n=new Map,i=new Map;for(let a=0;a<r.length;a++)if(!r[a].target._x_ignoreMutationObserver&&(r[a].type==="childList"&&(r[a].addedNodes.forEach(o=>o.nodeType===1&&e.push(o)),r[a].removedNodes.forEach(o=>o.nodeType===1&&t.push(o))),r[a].type==="attributes")){let o=r[a].target,l=r[a].attributeName,c=r[a].oldValue,f=()=>{n.has(o)||n.set(o,[]),n.get(o).push({name:l,value:o.getAttribute(l)})},h=()=>{i.has(o)||i.set(o,[]),i.get(o).push(l)};o.hasAttribute(l)&&c===null?f():o.hasAttribute(l)?(h(),f()):h()}i.forEach((a,o)=>{Z0(o,a)}),n.forEach((a,o)=>{K0.forEach(l=>l(o,a))});for(let a of t)if(!e.includes(a)&&(J0.forEach(o=>o(a)),a._x_cleanups))for(;a._x_cleanups.length;)a._x_cleanups.pop()();e.forEach(a=>{a._x_ignoreSelf=!0,a._x_ignore=!0});for(let a of e)t.includes(a)||!a.isConnected||(delete a._x_ignoreSelf,delete a._x_ignore,X0.forEach(o=>o(a)),a._x_ignore=!0,a._x_ignoreSelf=!0);e.forEach(a=>{delete a._x_ignoreSelf,delete a._x_ignore}),e=null,t=null,n=null,i=null}function e1(r){return Es(Xa(r))}function ks(r,e,t){return r._x_dataStack=[e,...Xa(t||r)],()=>{r._x_dataStack=r._x_dataStack.filter(n=>n!==e)}}function dy(r,e){let t=r._x_dataStack[0];Object.entries(e).forEach(([n,i])=>{t[n]=i})}function Xa(r){return r._x_dataStack?r._x_dataStack:typeof ShadowRoot=="function"&&r instanceof ShadowRoot?Xa(r.host):r.parentNode?Xa(r.parentNode):[]}function Es(r){let e=new Proxy({},{ownKeys:()=>Array.from(new Set(r.flatMap(t=>Object.keys(t)))),has:(t,n)=>r.some(i=>i.hasOwnProperty(n)),get:(t,n)=>(r.find(i=>{if(i.hasOwnProperty(n)){let a=Object.getOwnPropertyDescriptor(i,n);if(a.get&&a.get._x_alreadyBound||a.set&&a.set._x_alreadyBound)return!0;if((a.get||a.set)&&a.enumerable){let o=a.get,l=a.set,c=a;o=o&&o.bind(e),l=l&&l.bind(e),o&&(o._x_alreadyBound=!0),l&&(l._x_alreadyBound=!0),Object.defineProperty(i,n,{...c,get:o,set:l})}return!0}return!1})||{})[n],set:(t,n,i)=>{let a=r.find(o=>o.hasOwnProperty(n));return a?a[n]=i:r[r.length-1][n]=i,!0}});return e}function t1(r){let e=n=>typeof n=="object"&&!Array.isArray(n)&&n!==null,t=(n,i="")=>{Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,{value:o,enumerable:l}])=>{if(l===!1||o===void 0)return;let c=i===""?a:`${i}.${a}`;typeof o=="object"&&o!==null&&o._x_interceptor?n[a]=o.initialize(r,c,a):e(o)&&o!==n&&!(o instanceof Element)&&t(o,c)})};return t(r)}function r1(r,e=()=>{}){let t={initialValue:void 0,_x_interceptor:!0,initialize(n,i,a){return r(this.initialValue,()=>rN(n,i),o=>Zd(n,i,o),i,a)}};return e(t),n=>{if(typeof n=="object"&&n!==null&&n._x_interceptor){let i=t.initialize.bind(t);t.initialize=(a,o,l)=>{let c=n.initialize(a,o,l);return t.initialValue=c,i(a,o,l)}}else t.initialValue=n;return t}}function rN(r,e){return e.split(".").reduce((t,n)=>t[n],r)}function Zd(r,e,t){if(typeof e=="string"&&(e=e.split(".")),e.length===1)r[e[0]]=t;else{if(e.length===0)throw error;return r[e[0]]||(r[e[0]]={}),Zd(r[e[0]],e.slice(1),t)}}var n1={};function Ur(r,e){n1[r]=e}function Qd(r,e){return Object.entries(n1).forEach(([t,n])=>{Object.defineProperty(r,`$${t}`,{get(){let[i,a]=u1(e);return i={interceptor:r1,...i},Y0(e,a),n(e,i)},enumerable:!1})}),r}function nN(r,e,t,...n){try{return t(...n)}catch(i){vs(i,r,e)}}function vs(r,e,t=void 0){Object.assign(r,{el:e,expression:t}),console.warn(`Alpine Expression Error: ${r.message}

${t?'Expression: "'+t+`"

`:""}`,e),setTimeout(()=>{throw r},0)}var Gl=!0;function iN(r){let e=Gl;Gl=!1,r(),Gl=e}function za(r,e,t={}){let n;return Ot(r,e)(i=>n=i,t),n}function Ot(...r){return i1(...r)}var i1=a1;function aN(r){i1=r}function a1(r,e){let t={};Qd(t,r);let n=[t,...Xa(r)];if(typeof e=="function")return oN(n,e);let i=lN(n,e,r);return nN.bind(null,r,e,i)}function oN(r,e){return(t=()=>{},{scope:n={},params:i=[]}={})=>{let a=e.apply(Es([n,...r]),i);au(t,a)}}var td={};function sN(r,e){if(td[r])return td[r];let t=Object.getPrototypeOf(async function(){}).constructor,n=/^[\n\s]*if.*\(.*\)/.test(r)||/^(let|const)\s/.test(r)?`(() => { ${r} })()`:r,a=(()=>{try{return new t(["__self","scope"],`with (scope) { __self.result = ${n} }; __self.finished = true; return __self.result;`)}catch(o){return vs(o,e,r),Promise.resolve()}})();return td[r]=a,a}function lN(r,e,t){let n=sN(e,t);return(i=()=>{},{scope:a={},params:o=[]}={})=>{n.result=void 0,n.finished=!1;let l=Es([a,...r]);if(typeof n=="function"){let c=n(n,l).catch(f=>vs(f,t,e));n.finished?(au(i,n.result,l,o,t),n.result=void 0):c.then(f=>{au(i,f,l,o,t)}).catch(f=>vs(f,t,e)).finally(()=>n.result=void 0)}}}function au(r,e,t,n,i){if(Gl&&typeof e=="function"){let a=e.apply(t,n);a instanceof Promise?a.then(o=>au(r,o,t,n)).catch(o=>vs(o,i,e)):r(a)}else r(e)}var up="x-";function yo(r=""){return up+r}function uN(r){up=r}var o1={};function $e(r,e){o1[r]=e}function cp(r,e,t){if(e=Array.from(e),r._x_virtualDirectives){let a=Object.entries(r._x_virtualDirectives).map(([l,c])=>({name:l,value:c})),o=s1(a);a=a.map(l=>o.find(c=>c.name===l.name)?{name:`x-bind:${l.name}`,value:`"${l.value}"`}:l),e=e.concat(a)}let n={};return e.map(d1((a,o)=>n[a]=o)).filter(p1).map(dN(n,t)).sort(hN).map(a=>fN(r,a))}function s1(r){return Array.from(r).map(d1()).filter(e=>!p1(e))}var eh=!1,Qo=new Map,l1=Symbol();function cN(r){eh=!0;let e=Symbol();l1=e,Qo.set(e,[]);let t=()=>{for(;Qo.get(e).length;)Qo.get(e).shift()();Qo.delete(e)},n=()=>{eh=!1,t()};r(t),n()}function u1(r){let e=[],t=l=>e.push(l),[n,i]=GD(r);return e.push(i),[{Alpine:Ss,effect:n,cleanup:t,evaluateLater:Ot.bind(Ot,r),evaluate:za.bind(za,r)},()=>e.forEach(l=>l())]}function fN(r,e){let t=()=>{},n=o1[e.type]||t,[i,a]=u1(r);XD(r,e.original,a);let o=()=>{r._x_ignore||r._x_ignoreSelf||(n.inline&&n.inline(r,e,i),n=n.bind(n,r,e,i),eh?Qo.get(l1).push(n):n())};return o.runCleanups=a,o}var c1=(r,e)=>({name:t,value:n})=>(t.startsWith(r)&&(t=t.replace(r,e)),{name:t,value:n}),f1=r=>r;function d1(r=()=>{}){return({name:e,value:t})=>{let{name:n,value:i}=h1.reduce((a,o)=>o(a),{name:e,value:t});return n!==e&&r(n,e),{name:n,value:i}}}var h1=[];function fp(r){h1.push(r)}function p1({name:r}){return v1().test(r)}var v1=()=>new RegExp(`^${up}([^:^.]+)\\b`);function dN(r,e){return({name:t,value:n})=>{let i=t.match(v1()),a=t.match(/:([a-zA-Z0-9\-:]+)/),o=t.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],l=e||r[t]||t;return{type:i?i[1]:null,value:a?a[1]:null,modifiers:o.map(c=>c.replace(".","")),expression:n,original:l}}}var th="DEFAULT",Al=["ignore","ref","data","id","tabs","radio","switch","disclosure","bind","init","for","mask","model","modelable","transition","show","if",th,"teleport"];function hN(r,e){let t=Al.indexOf(r.type)===-1?th:r.type,n=Al.indexOf(e.type)===-1?th:e.type;return Al.indexOf(t)-Al.indexOf(n)}function ss(r,e,t={}){r.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0,cancelable:!0}))}var rh=[],dp=!1;function m1(r=()=>{}){return queueMicrotask(()=>{dp||setTimeout(()=>{nh()})}),new Promise(e=>{rh.push(()=>{r(),e()})})}function nh(){for(dp=!1;rh.length;)rh.shift()()}function pN(){dp=!0}function Qi(r,e){if(typeof ShadowRoot=="function"&&r instanceof ShadowRoot){Array.from(r.children).forEach(i=>Qi(i,e));return}let t=!1;if(e(r,()=>t=!0),t)return;let n=r.firstElementChild;for(;n;)Qi(n,e),n=n.nextElementSibling}function Ya(r,...e){console.warn(`Alpine Warning: ${r}`,...e)}function vN(){document.body||Ya("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),ss(document,"alpine:init"),ss(document,"alpine:initializing"),Q0(),KD(e=>hi(e,Qi)),Y0(e=>gN(e)),JD((e,t)=>{cp(e,t).forEach(n=>n())});let r=e=>!Uu(e.parentElement,!0);Array.from(document.querySelectorAll(b1())).filter(r).forEach(e=>{hi(e)}),ss(document,"alpine:initialized")}var hp=[],g1=[];function y1(){return hp.map(r=>r())}function b1(){return hp.concat(g1).map(r=>r())}function w1(r){hp.push(r)}function C1(r){g1.push(r)}function Uu(r,e=!1){return zu(r,t=>{if((e?b1():y1()).some(i=>t.matches(i)))return!0})}function zu(r,e){if(!!r){if(e(r))return r;if(r._x_teleportBack&&(r=r._x_teleportBack),!!r.parentElement)return zu(r.parentElement,e)}}function mN(r){return y1().some(e=>r.matches(e))}function hi(r,e=Qi){cN(()=>{e(r,(t,n)=>{cp(t,t.attributes).forEach(i=>i()),t._x_ignore&&n()})})}function gN(r){Qi(r,e=>Z0(e))}function pp(r,e){return Array.isArray(e)?hy(r,e.join(" ")):typeof e=="object"&&e!==null?yN(r,e):typeof e=="function"?pp(r,e()):hy(r,e)}function hy(r,e){let t=i=>i.split(" ").filter(a=>!r.classList.contains(a)).filter(Boolean),n=i=>(r.classList.add(...i),()=>{r.classList.remove(...i)});return e=e===!0?e="":e||"",n(t(e))}function yN(r,e){let t=l=>l.split(" ").filter(Boolean),n=Object.entries(e).flatMap(([l,c])=>c?t(l):!1).filter(Boolean),i=Object.entries(e).flatMap(([l,c])=>c?!1:t(l)).filter(Boolean),a=[],o=[];return i.forEach(l=>{r.classList.contains(l)&&(r.classList.remove(l),o.push(l))}),n.forEach(l=>{r.classList.contains(l)||(r.classList.add(l),a.push(l))}),()=>{o.forEach(l=>r.classList.add(l)),a.forEach(l=>r.classList.remove(l))}}function Vu(r,e){return typeof e=="object"&&e!==null?bN(r,e):wN(r,e)}function bN(r,e){let t={};return Object.entries(e).forEach(([n,i])=>{t[n]=r.style[n],n.startsWith("--")||(n=CN(n)),r.style.setProperty(n,i)}),setTimeout(()=>{r.style.length===0&&r.removeAttribute("style")}),()=>{Vu(r,t)}}function wN(r,e){let t=r.getAttribute("style",e);return r.setAttribute("style",e),()=>{r.setAttribute("style",t||"")}}function CN(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ih(r,e=()=>{}){let t=!1;return function(){t?e.apply(this,arguments):(t=!0,r.apply(this,arguments))}}$e("transition",(r,{value:e,modifiers:t,expression:n},{evaluate:i})=>{typeof n=="function"&&(n=i(n)),n?xN(r,n,e):TN(r,t,e)});function xN(r,e,t){x1(r,pp,""),{enter:i=>{r._x_transition.enter.during=i},"enter-start":i=>{r._x_transition.enter.start=i},"enter-end":i=>{r._x_transition.enter.end=i},leave:i=>{r._x_transition.leave.during=i},"leave-start":i=>{r._x_transition.leave.start=i},"leave-end":i=>{r._x_transition.leave.end=i}}[t](e)}function TN(r,e,t){x1(r,Vu);let n=!e.includes("in")&&!e.includes("out")&&!t,i=n||e.includes("in")||["enter"].includes(t),a=n||e.includes("out")||["leave"].includes(t);e.includes("in")&&!n&&(e=e.filter((E,L)=>L<e.indexOf("out"))),e.includes("out")&&!n&&(e=e.filter((E,L)=>L>e.indexOf("out")));let o=!e.includes("opacity")&&!e.includes("scale"),l=o||e.includes("opacity"),c=o||e.includes("scale"),f=l?0:1,h=c?Wo(e,"scale",95)/100:1,p=Wo(e,"delay",0),v=Wo(e,"origin","center"),g="opacity, transform",y=Wo(e,"duration",150)/1e3,x=Wo(e,"duration",75)/1e3,T="cubic-bezier(0.4, 0.0, 0.2, 1)";i&&(r._x_transition.enter.during={transformOrigin:v,transitionDelay:p,transitionProperty:g,transitionDuration:`${y}s`,transitionTimingFunction:T},r._x_transition.enter.start={opacity:f,transform:`scale(${h})`},r._x_transition.enter.end={opacity:1,transform:"scale(1)"}),a&&(r._x_transition.leave.during={transformOrigin:v,transitionDelay:p,transitionProperty:g,transitionDuration:`${x}s`,transitionTimingFunction:T},r._x_transition.leave.start={opacity:1,transform:"scale(1)"},r._x_transition.leave.end={opacity:f,transform:`scale(${h})`})}function x1(r,e,t={}){r._x_transition||(r._x_transition={enter:{during:t,start:t,end:t},leave:{during:t,start:t,end:t},in(n=()=>{},i=()=>{}){ah(r,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,i)},out(n=()=>{},i=()=>{}){ah(r,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,i)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(r,e,t,n){const i=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let a=()=>i(t);if(e){r._x_transition&&(r._x_transition.enter||r._x_transition.leave)?r._x_transition.enter&&(Object.entries(r._x_transition.enter.during).length||Object.entries(r._x_transition.enter.start).length||Object.entries(r._x_transition.enter.end).length)?r._x_transition.in(t):a():r._x_transition?r._x_transition.in(t):a();return}r._x_hidePromise=r._x_transition?new Promise((o,l)=>{r._x_transition.out(()=>{},()=>o(n)),r._x_transitioning.beforeCancel(()=>l({isFromCancelledTransition:!0}))}):Promise.resolve(n),queueMicrotask(()=>{let o=T1(r);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(r)):i(()=>{let l=c=>{let f=Promise.all([c._x_hidePromise,...(c._x_hideChildren||[]).map(l)]).then(([h])=>h());return delete c._x_hidePromise,delete c._x_hideChildren,f};l(r).catch(c=>{if(!c.isFromCancelledTransition)throw c})})})};function T1(r){let e=r.parentNode;if(!!e)return e._x_hidePromise?e:T1(e)}function ah(r,e,{during:t,start:n,end:i}={},a=()=>{},o=()=>{}){if(r._x_transitioning&&r._x_transitioning.cancel(),Object.keys(t).length===0&&Object.keys(n).length===0&&Object.keys(i).length===0){a(),o();return}let l,c,f;kN(r,{start(){l=e(r,n)},during(){c=e(r,t)},before:a,end(){l(),f=e(r,i)},after:o,cleanup(){c(),f()}})}function kN(r,e){let t,n,i,a=ih(()=>{it(()=>{t=!0,n||e.before(),i||(e.end(),nh()),e.after(),r.isConnected&&e.cleanup(),delete r._x_transitioning})});r._x_transitioning={beforeCancels:[],beforeCancel(o){this.beforeCancels.push(o)},cancel:ih(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();a()}),finish:a},it(()=>{e.start(),e.during()}),pN(),requestAnimationFrame(()=>{if(t)return;let o=Number(getComputedStyle(r).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,l=Number(getComputedStyle(r).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;o===0&&(o=Number(getComputedStyle(r).animationDuration.replace("s",""))*1e3),it(()=>{e.before()}),n=!0,requestAnimationFrame(()=>{t||(it(()=>{e.end()}),nh(),setTimeout(r._x_transitioning.finish,o+l),i=!0)})})}function Wo(r,e,t){if(r.indexOf(e)===-1)return t;const n=r[r.indexOf(e)+1];if(!n||e==="scale"&&isNaN(n))return t;if(e==="duration"){let i=n.match(/([0-9]+)ms/);if(i)return i[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(r[r.indexOf(e)+2])?[n,r[r.indexOf(e)+2]].join(" "):n}var oh=!1;function Wu(r,e=()=>{}){return(...t)=>oh?e(...t):r(...t)}function EN(r,e){e._x_dataStack||(e._x_dataStack=r._x_dataStack),oh=!0,MN(()=>{SN(e)}),oh=!1}function SN(r){let e=!1;hi(r,(n,i)=>{Qi(n,(a,o)=>{if(e&&mN(a))return o();e=!0,i(a,o)})})}function MN(r){let e=Ts;fy((t,n)=>{let i=e(t);return $u(i),()=>{}}),r(),fy(e)}function k1(r,e,t,n=[]){switch(r._x_bindings||(r._x_bindings=go({})),r._x_bindings[e]=t,e=n.includes("camel")?IN(e):e,e){case"value":ON(r,t);break;case"style":_N(r,t);break;case"class":AN(r,t);break;default:LN(r,e,t);break}}function ON(r,e){if(r.type==="radio")r.attributes.value===void 0&&(r.value=e),window.fromModel&&(r.checked=py(r.value,e));else if(r.type==="checkbox")Number.isInteger(e)?r.value=e:!Number.isInteger(e)&&!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?r.value=String(e):Array.isArray(e)?r.checked=e.some(t=>py(t,r.value)):r.checked=!!e;else if(r.tagName==="SELECT")NN(r,e);else{if(r.value===e)return;r.value=e}}function AN(r,e){r._x_undoAddedClasses&&r._x_undoAddedClasses(),r._x_undoAddedClasses=pp(r,e)}function _N(r,e){r._x_undoAddedStyles&&r._x_undoAddedStyles(),r._x_undoAddedStyles=Vu(r,e)}function LN(r,e,t){[null,void 0,!1].includes(t)&&RN(e)?r.removeAttribute(e):(E1(e)&&(t=e),DN(r,e,t))}function DN(r,e,t){r.getAttribute(e)!=t&&r.setAttribute(e,t)}function NN(r,e){const t=[].concat(e).map(n=>n+"");Array.from(r.options).forEach(n=>{n.selected=t.includes(n.value)})}function IN(r){return r.toLowerCase().replace(/-(\w)/g,(e,t)=>t.toUpperCase())}function py(r,e){return r==e}function E1(r){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(r)}function RN(r){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(r)}function PN(r,e,t){if(r._x_bindings&&r._x_bindings[e]!==void 0)return r._x_bindings[e];let n=r.getAttribute(e);return n===null?typeof t=="function"?t():t:n===""?!0:E1(e)?!![e,"true"].includes(n):n}function S1(r,e){var t;return function(){var n=this,i=arguments,a=function(){t=null,r.apply(n,i)};clearTimeout(t),t=setTimeout(a,e)}}function M1(r,e){let t;return function(){let n=this,i=arguments;t||(r.apply(n,i),t=!0,setTimeout(()=>t=!1,e))}}function BN(r){r(Ss)}var qi={},vy=!1;function FN(r,e){if(vy||(qi=go(qi),vy=!0),e===void 0)return qi[r];qi[r]=e,typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&qi[r].init(),t1(qi[r])}function HN(){return qi}var O1={};function qN(r,e){let t=typeof e!="function"?()=>e:e;r instanceof Element?A1(r,t()):O1[r]=t}function $N(r){return Object.entries(O1).forEach(([e,t])=>{Object.defineProperty(r,e,{get(){return(...n)=>t(...n)}})}),r}function A1(r,e,t){let n=[];for(;n.length;)n.pop()();let i=Object.entries(e).map(([o,l])=>({name:o,value:l})),a=s1(i);i=i.map(o=>a.find(l=>l.name===o.name)?{name:`x-bind:${o.name}`,value:`"${o.value}"`}:o),cp(r,i,t).map(o=>{n.push(o.runCleanups),o()})}var _1={};function UN(r,e){_1[r]=e}function zN(r,e){return Object.entries(_1).forEach(([t,n])=>{Object.defineProperty(r,t,{get(){return(...i)=>n.bind(e)(...i)},enumerable:!1})}),r}var VN={get reactive(){return go},get release(){return $u},get effect(){return Ts},get raw(){return G0},version:"3.10.4",flushAndStopDeferringMutations:tN,dontAutoEvaluateFunctions:iN,disableEffectScheduling:WD,setReactivityEngine:jD,closestDataStack:Xa,skipDuringClone:Wu,addRootSelector:w1,addInitSelector:C1,addScopeToNode:ks,deferMutations:eN,mapAttributes:fp,evaluateLater:Ot,setEvaluator:aN,mergeProxies:Es,findClosest:zu,closestRoot:Uu,interceptor:r1,transition:ah,setStyles:Vu,mutateDom:it,directive:$e,throttle:M1,debounce:S1,evaluate:za,initTree:hi,nextTick:m1,prefixed:yo,prefix:uN,plugin:BN,magic:Ur,store:FN,start:vN,clone:EN,bound:PN,$data:e1,data:UN,bind:qN},Ss=VN;function WN(r,e){const t=Object.create(null),n=r.split(",");for(let i=0;i<n.length;i++)t[n[i]]=!0;return e?i=>!!t[i.toLowerCase()]:i=>!!t[i]}var jN=Object.freeze({});Object.freeze([]);var L1=Object.assign,GN=Object.prototype.hasOwnProperty,ju=(r,e)=>GN.call(r,e),ji=Array.isArray,ls=r=>D1(r)==="[object Map]",KN=r=>typeof r=="string",vp=r=>typeof r=="symbol",Gu=r=>r!==null&&typeof r=="object",JN=Object.prototype.toString,D1=r=>JN.call(r),N1=r=>D1(r).slice(8,-1),mp=r=>KN(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,XN=r=>{const e=Object.create(null);return t=>e[t]||(e[t]=r(t))},YN=XN(r=>r.charAt(0).toUpperCase()+r.slice(1)),I1=(r,e)=>r!==e&&(r===r||e===e),sh=new WeakMap,jo=[],Zr,Gi=Symbol("iterate"),lh=Symbol("Map key iterate");function ZN(r){return r&&r._isEffect===!0}function QN(r,e=jN){ZN(r)&&(r=r.raw);const t=rI(r,e);return e.lazy||t(),t}function eI(r){r.active&&(R1(r),r.options.onStop&&r.options.onStop(),r.active=!1)}var tI=0;function rI(r,e){const t=function(){if(!t.active)return r();if(!jo.includes(t)){R1(t);try{return iI(),jo.push(t),Zr=t,r()}finally{jo.pop(),P1(),Zr=jo[jo.length-1]}}};return t.id=tI++,t.allowRecurse=!!e.allowRecurse,t._isEffect=!0,t.active=!0,t.raw=r,t.deps=[],t.options=e,t}function R1(r){const{deps:e}=r;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(r);e.length=0}}var Za=!0,gp=[];function nI(){gp.push(Za),Za=!1}function iI(){gp.push(Za),Za=!0}function P1(){const r=gp.pop();Za=r===void 0?!0:r}function Fr(r,e,t){if(!Za||Zr===void 0)return;let n=sh.get(r);n||sh.set(r,n=new Map);let i=n.get(t);i||n.set(t,i=new Set),i.has(Zr)||(i.add(Zr),Zr.deps.push(i),Zr.options.onTrack&&Zr.options.onTrack({effect:Zr,target:r,type:e,key:t}))}function pi(r,e,t,n,i,a){const o=sh.get(r);if(!o)return;const l=new Set,c=h=>{h&&h.forEach(p=>{(p!==Zr||p.allowRecurse)&&l.add(p)})};if(e==="clear")o.forEach(c);else if(t==="length"&&ji(r))o.forEach((h,p)=>{(p==="length"||p>=n)&&c(h)});else switch(t!==void 0&&c(o.get(t)),e){case"add":ji(r)?mp(t)&&c(o.get("length")):(c(o.get(Gi)),ls(r)&&c(o.get(lh)));break;case"delete":ji(r)||(c(o.get(Gi)),ls(r)&&c(o.get(lh)));break;case"set":ls(r)&&c(o.get(Gi));break}const f=h=>{h.options.onTrigger&&h.options.onTrigger({effect:h,target:r,key:t,type:e,newValue:n,oldValue:i,oldTarget:a}),h.options.scheduler?h.options.scheduler(h):h()};l.forEach(f)}var aI=WN("__proto__,__v_isRef,__isVue"),B1=new Set(Object.getOwnPropertyNames(Symbol).map(r=>Symbol[r]).filter(vp)),oI=Ku(),sI=Ku(!1,!0),lI=Ku(!0),uI=Ku(!0,!0),ou={};["includes","indexOf","lastIndexOf"].forEach(r=>{const e=Array.prototype[r];ou[r]=function(...t){const n=_e(this);for(let a=0,o=this.length;a<o;a++)Fr(n,"get",a+"");const i=e.apply(n,t);return i===-1||i===!1?e.apply(n,t.map(_e)):i}});["push","pop","shift","unshift","splice"].forEach(r=>{const e=Array.prototype[r];ou[r]=function(...t){nI();const n=e.apply(this,t);return P1(),n}});function Ku(r=!1,e=!1){return function(n,i,a){if(i==="__v_isReactive")return!r;if(i==="__v_isReadonly")return r;if(i==="__v_raw"&&a===(r?e?bI:Z1:e?yI:Y1).get(n))return n;const o=ji(n);if(!r&&o&&ju(ou,i))return Reflect.get(ou,i,a);const l=Reflect.get(n,i,a);return(vp(i)?B1.has(i):aI(i))||(r||Fr(n,"get",i),e)?l:uh(l)?!o||!mp(i)?l.value:l:Gu(l)?r?Q1(l):Cp(l):l}}var cI=F1(),fI=F1(!0);function F1(r=!1){return function(t,n,i,a){let o=t[n];if(!r&&(i=_e(i),o=_e(o),!ji(t)&&uh(o)&&!uh(i)))return o.value=i,!0;const l=ji(t)&&mp(n)?Number(n)<t.length:ju(t,n),c=Reflect.set(t,n,i,a);return t===_e(a)&&(l?I1(i,o)&&pi(t,"set",n,i,o):pi(t,"add",n,i)),c}}function dI(r,e){const t=ju(r,e),n=r[e],i=Reflect.deleteProperty(r,e);return i&&t&&pi(r,"delete",e,void 0,n),i}function hI(r,e){const t=Reflect.has(r,e);return(!vp(e)||!B1.has(e))&&Fr(r,"has",e),t}function pI(r){return Fr(r,"iterate",ji(r)?"length":Gi),Reflect.ownKeys(r)}var H1={get:oI,set:cI,deleteProperty:dI,has:hI,ownKeys:pI},q1={get:lI,set(r,e){return console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,r),!0},deleteProperty(r,e){return console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,r),!0}};L1({},H1,{get:sI,set:fI});L1({},q1,{get:uI});var yp=r=>Gu(r)?Cp(r):r,bp=r=>Gu(r)?Q1(r):r,wp=r=>r,Ju=r=>Reflect.getPrototypeOf(r);function Xu(r,e,t=!1,n=!1){r=r.__v_raw;const i=_e(r),a=_e(e);e!==a&&!t&&Fr(i,"get",e),!t&&Fr(i,"get",a);const{has:o}=Ju(i),l=n?wp:t?bp:yp;if(o.call(i,e))return l(r.get(e));if(o.call(i,a))return l(r.get(a));r!==i&&r.get(e)}function Yu(r,e=!1){const t=this.__v_raw,n=_e(t),i=_e(r);return r!==i&&!e&&Fr(n,"has",r),!e&&Fr(n,"has",i),r===i?t.has(r):t.has(r)||t.has(i)}function Zu(r,e=!1){return r=r.__v_raw,!e&&Fr(_e(r),"iterate",Gi),Reflect.get(r,"size",r)}function $1(r){r=_e(r);const e=_e(this);return Ju(e).has.call(e,r)||(e.add(r),pi(e,"add",r,r)),this}function U1(r,e){e=_e(e);const t=_e(this),{has:n,get:i}=Ju(t);let a=n.call(t,r);a?X1(t,n,r):(r=_e(r),a=n.call(t,r));const o=i.call(t,r);return t.set(r,e),a?I1(e,o)&&pi(t,"set",r,e,o):pi(t,"add",r,e),this}function z1(r){const e=_e(this),{has:t,get:n}=Ju(e);let i=t.call(e,r);i?X1(e,t,r):(r=_e(r),i=t.call(e,r));const a=n?n.call(e,r):void 0,o=e.delete(r);return i&&pi(e,"delete",r,void 0,a),o}function V1(){const r=_e(this),e=r.size!==0,t=ls(r)?new Map(r):new Set(r),n=r.clear();return e&&pi(r,"clear",void 0,void 0,t),n}function Qu(r,e){return function(n,i){const a=this,o=a.__v_raw,l=_e(o),c=e?wp:r?bp:yp;return!r&&Fr(l,"iterate",Gi),o.forEach((f,h)=>n.call(i,c(f),c(h),a))}}function _l(r,e,t){return function(...n){const i=this.__v_raw,a=_e(i),o=ls(a),l=r==="entries"||r===Symbol.iterator&&o,c=r==="keys"&&o,f=i[r](...n),h=t?wp:e?bp:yp;return!e&&Fr(a,"iterate",c?lh:Gi),{next(){const{value:p,done:v}=f.next();return v?{value:p,done:v}:{value:l?[h(p[0]),h(p[1])]:h(p),done:v}},[Symbol.iterator](){return this}}}}function ai(r){return function(...e){{const t=e[0]?`on key "${e[0]}" `:"";console.warn(`${YN(r)} operation ${t}failed: target is readonly.`,_e(this))}return r==="delete"?!1:this}}var W1={get(r){return Xu(this,r)},get size(){return Zu(this)},has:Yu,add:$1,set:U1,delete:z1,clear:V1,forEach:Qu(!1,!1)},j1={get(r){return Xu(this,r,!1,!0)},get size(){return Zu(this)},has:Yu,add:$1,set:U1,delete:z1,clear:V1,forEach:Qu(!1,!0)},G1={get(r){return Xu(this,r,!0)},get size(){return Zu(this,!0)},has(r){return Yu.call(this,r,!0)},add:ai("add"),set:ai("set"),delete:ai("delete"),clear:ai("clear"),forEach:Qu(!0,!1)},K1={get(r){return Xu(this,r,!0,!0)},get size(){return Zu(this,!0)},has(r){return Yu.call(this,r,!0)},add:ai("add"),set:ai("set"),delete:ai("delete"),clear:ai("clear"),forEach:Qu(!0,!0)},vI=["keys","values","entries",Symbol.iterator];vI.forEach(r=>{W1[r]=_l(r,!1,!1),G1[r]=_l(r,!0,!1),j1[r]=_l(r,!1,!0),K1[r]=_l(r,!0,!0)});function J1(r,e){const t=e?r?K1:j1:r?G1:W1;return(n,i,a)=>i==="__v_isReactive"?!r:i==="__v_isReadonly"?r:i==="__v_raw"?n:Reflect.get(ju(t,i)&&i in n?t:n,i,a)}var mI={get:J1(!1,!1)},gI={get:J1(!0,!1)};function X1(r,e,t){const n=_e(t);if(n!==t&&e.call(r,n)){const i=N1(r);console.warn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Y1=new WeakMap,yI=new WeakMap,Z1=new WeakMap,bI=new WeakMap;function wI(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function CI(r){return r.__v_skip||!Object.isExtensible(r)?0:wI(N1(r))}function Cp(r){return r&&r.__v_isReadonly?r:eC(r,!1,H1,mI,Y1)}function Q1(r){return eC(r,!0,q1,gI,Z1)}function eC(r,e,t,n,i){if(!Gu(r))return console.warn(`value cannot be made reactive: ${String(r)}`),r;if(r.__v_raw&&!(e&&r.__v_isReactive))return r;const a=i.get(r);if(a)return a;const o=CI(r);if(o===0)return r;const l=new Proxy(r,o===2?n:t);return i.set(r,l),l}function _e(r){return r&&_e(r.__v_raw)||r}function uh(r){return Boolean(r&&r.__v_isRef===!0)}Ur("nextTick",()=>m1);Ur("dispatch",r=>ss.bind(ss,r));Ur("watch",(r,{evaluateLater:e,effect:t})=>(n,i)=>{let a=e(n),o=!0,l,c=t(()=>a(f=>{JSON.stringify(f),o?l=f:queueMicrotask(()=>{i(f,l),l=f}),o=!1}));r._x_effects.delete(c)});Ur("store",HN);Ur("data",r=>e1(r));Ur("root",r=>Uu(r));Ur("refs",r=>(r._x_refs_proxy||(r._x_refs_proxy=Es(xI(r))),r._x_refs_proxy));function xI(r){let e=[],t=r;for(;t;)t._x_refs&&e.push(t._x_refs),t=t.parentNode;return e}var rd={};function tC(r){return rd[r]||(rd[r]=0),++rd[r]}function TI(r,e){return zu(r,t=>{if(t._x_ids&&t._x_ids[e])return!0})}function kI(r,e){r._x_ids||(r._x_ids={}),r._x_ids[e]||(r._x_ids[e]=tC(e))}Ur("id",r=>(e,t=null)=>{let n=TI(r,e),i=n?n._x_ids[e]:tC(e);return t?`${e}-${i}-${t}`:`${e}-${i}`});Ur("el",r=>r);rC("Focus","focus","focus");rC("Persist","persist","persist");function rC(r,e,t){Ur(e,n=>Ya(`You can't use [$${directiveName}] without first installing the "${r}" plugin here: https://alpinejs.dev/plugins/${t}`,n))}$e("modelable",(r,{expression:e},{effect:t,evaluateLater:n})=>{let i=n(e),a=()=>{let f;return i(h=>f=h),f},o=n(`${e} = __placeholder`),l=f=>o(()=>{},{scope:{__placeholder:f}}),c=a();l(c),queueMicrotask(()=>{if(!r._x_model)return;r._x_removeModelListeners.default();let f=r._x_model.get,h=r._x_model.set;t(()=>l(f())),t(()=>h(a()))})});$e("teleport",(r,{expression:e},{cleanup:t})=>{r.tagName.toLowerCase()!=="template"&&Ya("x-teleport can only be used on a <template> tag",r);let n=document.querySelector(e);n||Ya(`Cannot find x-teleport element for selector: "${e}"`);let i=r.content.cloneNode(!0).firstElementChild;r._x_teleport=i,i._x_teleportBack=r,r._x_forwardEvents&&r._x_forwardEvents.forEach(a=>{i.addEventListener(a,o=>{o.stopPropagation(),r.dispatchEvent(new o.constructor(o.type,o))})}),ks(i,{},r),it(()=>{n.appendChild(i),hi(i),i._x_ignore=!0}),t(()=>i.remove())});var nC=()=>{};nC.inline=(r,{modifiers:e},{cleanup:t})=>{e.includes("self")?r._x_ignoreSelf=!0:r._x_ignore=!0,t(()=>{e.includes("self")?delete r._x_ignoreSelf:delete r._x_ignore})};$e("ignore",nC);$e("effect",(r,{expression:e},{effect:t})=>t(Ot(r,e)));function iC(r,e,t,n){let i=r,a=c=>n(c),o={},l=(c,f)=>h=>f(c,h);if(t.includes("dot")&&(e=EI(e)),t.includes("camel")&&(e=SI(e)),t.includes("passive")&&(o.passive=!0),t.includes("capture")&&(o.capture=!0),t.includes("window")&&(i=window),t.includes("document")&&(i=document),t.includes("prevent")&&(a=l(a,(c,f)=>{f.preventDefault(),c(f)})),t.includes("stop")&&(a=l(a,(c,f)=>{f.stopPropagation(),c(f)})),t.includes("self")&&(a=l(a,(c,f)=>{f.target===r&&c(f)})),(t.includes("away")||t.includes("outside"))&&(i=document,a=l(a,(c,f)=>{r.contains(f.target)||f.target.isConnected!==!1&&(r.offsetWidth<1&&r.offsetHeight<1||r._x_isShown!==!1&&c(f))})),t.includes("once")&&(a=l(a,(c,f)=>{c(f),i.removeEventListener(e,a,o)})),a=l(a,(c,f)=>{OI(e)&&AI(f,t)||c(f)}),t.includes("debounce")){let c=t[t.indexOf("debounce")+1]||"invalid-wait",f=ch(c.split("ms")[0])?Number(c.split("ms")[0]):250;a=S1(a,f)}if(t.includes("throttle")){let c=t[t.indexOf("throttle")+1]||"invalid-wait",f=ch(c.split("ms")[0])?Number(c.split("ms")[0]):250;a=M1(a,f)}return i.addEventListener(e,a,o),()=>{i.removeEventListener(e,a,o)}}function EI(r){return r.replace(/-/g,".")}function SI(r){return r.toLowerCase().replace(/-(\w)/g,(e,t)=>t.toUpperCase())}function ch(r){return!Array.isArray(r)&&!isNaN(r)}function MI(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function OI(r){return["keydown","keyup"].includes(r)}function AI(r,e){let t=e.filter(a=>!["window","document","prevent","stop","once"].includes(a));if(t.includes("debounce")){let a=t.indexOf("debounce");t.splice(a,ch((t[a+1]||"invalid-wait").split("ms")[0])?2:1)}if(t.length===0||t.length===1&&my(r.key).includes(t[0]))return!1;const i=["ctrl","shift","alt","meta","cmd","super"].filter(a=>t.includes(a));return t=t.filter(a=>!i.includes(a)),!(i.length>0&&i.filter(o=>((o==="cmd"||o==="super")&&(o="meta"),r[`${o}Key`])).length===i.length&&my(r.key).includes(t[0]))}function my(r){if(!r)return[];r=MI(r);let e={ctrl:"control",slash:"/",space:"-",spacebar:"-",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"="};return e[r]=r,Object.keys(e).map(t=>{if(e[t]===r)return t}).filter(t=>t)}$e("model",(r,{modifiers:e,expression:t},{effect:n,cleanup:i})=>{let a=Ot(r,t),o=`${t} = rightSideOfExpression($event, ${t})`,l=Ot(r,o);var c=r.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(r.type)||e.includes("lazy")?"change":"input";let f=_I(r,e,t),h=iC(r,c,e,v=>{l(()=>{},{scope:{$event:v,rightSideOfExpression:f}})});r._x_removeModelListeners||(r._x_removeModelListeners={}),r._x_removeModelListeners.default=h,i(()=>r._x_removeModelListeners.default());let p=Ot(r,`${t} = __placeholder`);r._x_model={get(){let v;return a(g=>v=g),v},set(v){p(()=>{},{scope:{__placeholder:v}})}},r._x_forceModelUpdate=()=>{a(v=>{v===void 0&&t.match(/\./)&&(v=""),window.fromModel=!0,it(()=>k1(r,"value",v)),delete window.fromModel})},n(()=>{e.includes("unintrusive")&&document.activeElement.isSameNode(r)||r._x_forceModelUpdate()})});function _I(r,e,t){return r.type==="radio"&&it(()=>{r.hasAttribute("name")||r.setAttribute("name",t)}),(n,i)=>it(()=>{if(n instanceof CustomEvent&&n.detail!==void 0)return n.detail||n.target.value;if(r.type==="checkbox")if(Array.isArray(i)){let a=e.includes("number")?nd(n.target.value):n.target.value;return n.target.checked?i.concat([a]):i.filter(o=>!LI(o,a))}else return n.target.checked;else{if(r.tagName.toLowerCase()==="select"&&r.multiple)return e.includes("number")?Array.from(n.target.selectedOptions).map(a=>{let o=a.value||a.text;return nd(o)}):Array.from(n.target.selectedOptions).map(a=>a.value||a.text);{let a=n.target.value;return e.includes("number")?nd(a):e.includes("trim")?a.trim():a}}})}function nd(r){let e=r?parseFloat(r):null;return DI(e)?e:r}function LI(r,e){return r==e}function DI(r){return!Array.isArray(r)&&!isNaN(r)}$e("cloak",r=>queueMicrotask(()=>it(()=>r.removeAttribute(yo("cloak")))));C1(()=>`[${yo("init")}]`);$e("init",Wu((r,{expression:e},{evaluate:t})=>typeof e=="string"?!!e.trim()&&t(e,{},!1):t(e,{},!1)));$e("text",(r,{expression:e},{effect:t,evaluateLater:n})=>{let i=n(e);t(()=>{i(a=>{it(()=>{r.textContent=a})})})});$e("html",(r,{expression:e},{effect:t,evaluateLater:n})=>{let i=n(e);t(()=>{i(a=>{it(()=>{r.innerHTML=a,r._x_ignoreSelf=!0,hi(r),delete r._x_ignoreSelf})})})});fp(c1(":",f1(yo("bind:"))));$e("bind",(r,{value:e,modifiers:t,expression:n,original:i},{effect:a})=>{if(!e){let l={};$N(l),Ot(r,n)(f=>{A1(r,f,i)},{scope:l});return}if(e==="key")return NI(r,n);let o=Ot(r,n);a(()=>o(l=>{l===void 0&&typeof n=="string"&&n.match(/\./)&&(l=""),it(()=>k1(r,e,l,t))}))});function NI(r,e){r._x_keyExpression=e}w1(()=>`[${yo("data")}]`);$e("data",Wu((r,{expression:e},{cleanup:t})=>{e=e===""?"{}":e;let n={};Qd(n,r);let i={};zN(i,n);let a=za(r,e,{scope:i});a===void 0&&(a={}),Qd(a,r);let o=go(a);t1(o);let l=ks(r,o);o.init&&za(r,o.init),t(()=>{o.destroy&&za(r,o.destroy),l()})}));$e("show",(r,{modifiers:e,expression:t},{effect:n})=>{let i=Ot(r,t);r._x_doHide||(r._x_doHide=()=>{it(()=>{r.style.setProperty("display","none",e.includes("important")?"important":void 0)})}),r._x_doShow||(r._x_doShow=()=>{it(()=>{r.style.length===1&&r.style.display==="none"?r.removeAttribute("style"):r.style.removeProperty("display")})});let a=()=>{r._x_doHide(),r._x_isShown=!1},o=()=>{r._x_doShow(),r._x_isShown=!0},l=()=>setTimeout(o),c=ih(p=>p?o():a(),p=>{typeof r._x_toggleAndCascadeWithTransitions=="function"?r._x_toggleAndCascadeWithTransitions(r,p,o,a):p?l():a()}),f,h=!0;n(()=>i(p=>{!h&&p===f||(e.includes("immediate")&&(p?l():a()),c(p),f=p,h=!1)}))});$e("for",(r,{expression:e},{effect:t,cleanup:n})=>{let i=RI(e),a=Ot(r,i.items),o=Ot(r,r._x_keyExpression||"index");r._x_prevKeys=[],r._x_lookup={},t(()=>II(r,i,a,o)),n(()=>{Object.values(r._x_lookup).forEach(l=>l.remove()),delete r._x_prevKeys,delete r._x_lookup})});function II(r,e,t,n){let i=o=>typeof o=="object"&&!Array.isArray(o),a=r;t(o=>{PI(o)&&o>=0&&(o=Array.from(Array(o).keys(),T=>T+1)),o===void 0&&(o=[]);let l=r._x_lookup,c=r._x_prevKeys,f=[],h=[];if(i(o))o=Object.entries(o).map(([T,E])=>{let L=gy(e,E,T,o);n(N=>h.push(N),{scope:{index:T,...L}}),f.push(L)});else for(let T=0;T<o.length;T++){let E=gy(e,o[T],T,o);n(L=>h.push(L),{scope:{index:T,...E}}),f.push(E)}let p=[],v=[],g=[],y=[];for(let T=0;T<c.length;T++){let E=c[T];h.indexOf(E)===-1&&g.push(E)}c=c.filter(T=>!g.includes(T));let x="template";for(let T=0;T<h.length;T++){let E=h[T],L=c.indexOf(E);if(L===-1)c.splice(T,0,E),p.push([x,T]);else if(L!==T){let N=c.splice(T,1)[0],B=c.splice(L-1,1)[0];c.splice(T,0,B),c.splice(L,0,N),v.push([N,B])}else y.push(E);x=E}for(let T=0;T<g.length;T++){let E=g[T];l[E]._x_effects&&l[E]._x_effects.forEach(j0),l[E].remove(),l[E]=null,delete l[E]}for(let T=0;T<v.length;T++){let[E,L]=v[T],N=l[E],B=l[L],_=document.createElement("div");it(()=>{B.after(_),N.after(B),B._x_currentIfEl&&B.after(B._x_currentIfEl),_.before(N),N._x_currentIfEl&&N.after(N._x_currentIfEl),_.remove()}),dy(B,f[h.indexOf(L)])}for(let T=0;T<p.length;T++){let[E,L]=p[T],N=E==="template"?a:l[E];N._x_currentIfEl&&(N=N._x_currentIfEl);let B=f[L],_=h[L],z=document.importNode(a.content,!0).firstElementChild;ks(z,go(B),a),it(()=>{N.after(z),hi(z)}),typeof _=="object"&&Ya("x-for key cannot be an object, it must be a string or an integer",a),l[_]=z}for(let T=0;T<y.length;T++)dy(l[y[T]],f[h.indexOf(y[T])]);a._x_prevKeys=h})}function RI(r){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,t=/^\s*\(|\)\s*$/g,n=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,i=r.match(n);if(!i)return;let a={};a.items=i[2].trim();let o=i[1].replace(t,"").trim(),l=o.match(e);return l?(a.item=o.replace(e,"").trim(),a.index=l[1].trim(),l[2]&&(a.collection=l[2].trim())):a.item=o,a}function gy(r,e,t,n){let i={};return/^\[.*\]$/.test(r.item)&&Array.isArray(e)?r.item.replace("[","").replace("]","").split(",").map(o=>o.trim()).forEach((o,l)=>{i[o]=e[l]}):/^\{.*\}$/.test(r.item)&&!Array.isArray(e)&&typeof e=="object"?r.item.replace("{","").replace("}","").split(",").map(o=>o.trim()).forEach(o=>{i[o]=e[o]}):i[r.item]=e,r.index&&(i[r.index]=t),r.collection&&(i[r.collection]=n),i}function PI(r){return!Array.isArray(r)&&!isNaN(r)}function aC(){}aC.inline=(r,{expression:e},{cleanup:t})=>{let n=Uu(r);n._x_refs||(n._x_refs={}),n._x_refs[e]=r,t(()=>delete n._x_refs[e])};$e("ref",aC);$e("if",(r,{expression:e},{effect:t,cleanup:n})=>{let i=Ot(r,e),a=()=>{if(r._x_currentIfEl)return r._x_currentIfEl;let l=r.content.cloneNode(!0).firstElementChild;return ks(l,{},r),it(()=>{r.after(l),hi(l)}),r._x_currentIfEl=l,r._x_undoIf=()=>{Qi(l,c=>{c._x_effects&&c._x_effects.forEach(j0)}),l.remove(),delete r._x_currentIfEl},l},o=()=>{!r._x_undoIf||(r._x_undoIf(),delete r._x_undoIf)};t(()=>i(l=>{l?a():o()})),n(()=>r._x_undoIf&&r._x_undoIf())});$e("id",(r,{expression:e},{evaluate:t})=>{t(e).forEach(i=>kI(r,i))});fp(c1("@",f1(yo("on:"))));$e("on",Wu((r,{value:e,modifiers:t,expression:n},{cleanup:i})=>{let a=n?Ot(r,n):()=>{};r.tagName.toLowerCase()==="template"&&(r._x_forwardEvents||(r._x_forwardEvents=[]),r._x_forwardEvents.includes(e)||r._x_forwardEvents.push(e));let o=iC(r,e,t,l=>{a(()=>{},{scope:{$event:l},params:[l]})});i(()=>o())}));ec("Collapse","collapse","collapse");ec("Intersect","intersect","intersect");ec("Focus","trap","focus");ec("Mask","mask","mask");function ec(r,e,t){$e(e,n=>Ya(`You can't use [x-${e}] without first installing the "${r}" plugin here: https://alpinejs.dev/plugins/${t}`,n))}Ss.setEvaluator(a1);Ss.setReactivityEngine({reactive:Cp,effect:QN,release:eI,raw:_e});var BI=Ss,oC=BI;function ct(r){this.content=r}ct.prototype={constructor:ct,find:function(r){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===r)return e;return-1},get:function(r){var e=this.find(r);return e==-1?void 0:this.content[e+1]},update:function(r,e,t){var n=t&&t!=r?this.remove(t):this,i=n.find(r),a=n.content.slice();return i==-1?a.push(t||r,e):(a[i+1]=e,t&&(a[i]=t)),new ct(a)},remove:function(r){var e=this.find(r);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new ct(t)},addToStart:function(r,e){return new ct([r,e].concat(this.remove(r).content))},addToEnd:function(r,e){var t=this.remove(r).content.slice();return t.push(r,e),new ct(t)},addBefore:function(r,e,t){var n=this.remove(e),i=n.content.slice(),a=n.find(r);return i.splice(a==-1?i.length:a,0,e,t),new ct(i)},forEach:function(r){for(var e=0;e<this.content.length;e+=2)r(this.content[e],this.content[e+1])},prepend:function(r){return r=ct.from(r),r.size?new ct(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=ct.from(r),r.size?new ct(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var e=this;r=ct.from(r);for(var t=0;t<r.content.length;t+=2)e=e.remove(r.content[t]);return e},toObject:function(){var r={};return this.forEach(function(e,t){r[e]=t}),r},get size(){return this.content.length>>1}};ct.from=function(r){if(r instanceof ct)return r;var e=[];if(r)for(var t in r)e.push(t,r[t]);return new ct(e)};function sC(r,e,t){for(let n=0;;n++){if(n==r.childCount||n==e.childCount)return r.childCount==e.childCount?null:t;let i=r.child(n),a=e.child(n);if(i==a){t+=i.nodeSize;continue}if(!i.sameMarkup(a))return t;if(i.isText&&i.text!=a.text){for(let o=0;i.text[o]==a.text[o];o++)t++;return t}if(i.content.size||a.content.size){let o=sC(i.content,a.content,t+1);if(o!=null)return o}t+=i.nodeSize}}function lC(r,e,t,n){for(let i=r.childCount,a=e.childCount;;){if(i==0||a==0)return i==a?null:{a:t,b:n};let o=r.child(--i),l=e.child(--a),c=o.nodeSize;if(o==l){t-=c,n-=c;continue}if(!o.sameMarkup(l))return{a:t,b:n};if(o.isText&&o.text!=l.text){let f=0,h=Math.min(o.text.length,l.text.length);for(;f<h&&o.text[o.text.length-f-1]==l.text[l.text.length-f-1];)f++,t--,n--;return{a:t,b:n}}if(o.content.size||l.content.size){let f=lC(o.content,l.content,t-1,n-1);if(f)return f}t-=c,n-=c}}class q{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,i=0,a){for(let o=0,l=0;l<t;o++){let c=this.content[o],f=l+c.nodeSize;if(f>e&&n(c,i+l,a||null,o)!==!1&&c.content.size){let h=l+1;c.nodesBetween(Math.max(0,e-h),Math.min(c.content.size,t-h),n,i+h)}l=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,i){let a="",o=!0;return this.nodesBetween(e,t,(l,c)=>{l.isText?(a+=l.text.slice(Math.max(e,c)-c,t-c),o=!n):l.isLeaf?(i?a+=typeof i=="function"?i(l):i:l.type.spec.leafText&&(a+=l.type.spec.leafText(l)),o=!n):!o&&l.isBlock&&(a+=n,o=!0)},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,i=this.content.slice(),a=0;for(t.isText&&t.sameMarkup(n)&&(i[i.length-1]=t.withText(t.text+n.text),a=1);a<e.content.length;a++)i.push(e.content[a]);return new q(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let n=[],i=0;if(t>e)for(let a=0,o=0;o<t;a++){let l=this.content[a],c=o+l.nodeSize;c>e&&((o<e||c>t)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,t-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,t-o-1))),n.push(l),i+=l.nodeSize),o=c}return new q(n,i)}cutByIndex(e,t){return e==t?q.empty:e==0&&t==this.content.length?this:new q(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let i=this.content.slice(),a=this.size+t.nodeSize-n.nodeSize;return i[e]=t,new q(i,a)}addToStart(e){return new q([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new q(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let i=this.content[t];e(i,n,t),n+=i.nodeSize}}findDiffStart(e,t=0){return sC(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return lC(this,e,t,n)}findIndex(e,t=-1){if(e==0)return Ll(0,e);if(e==this.size)return Ll(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let a=this.child(n),o=i+a.nodeSize;if(o>=e)return o==e||t>0?Ll(n+1,o):Ll(n,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return q.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new q(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return q.empty;let t,n=0;for(let i=0;i<e.length;i++){let a=e[i];n+=a.nodeSize,i&&a.isText&&e[i-1].sameMarkup(a)?(t||(t=e.slice(0,i)),t[t.length-1]=a.withText(t[t.length-1].text+a.text)):t&&t.push(a)}return new q(t||e,n)}static from(e){if(!e)return q.empty;if(e instanceof q)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new q([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}q.empty=new q([],0);const id={index:0,offset:0};function Ll(r,e){return id.index=r,id.offset=e,id}function su(r,e){if(r===e)return!0;if(!(r&&typeof r=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(r);if(Array.isArray(e)!=t)return!1;if(t){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!su(r[n],e[n]))return!1}else{for(let n in r)if(!(n in e)||!su(r[n],e[n]))return!1;for(let n in e)if(!(n in r))return!1}return!0}class ve{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let i=0;i<e.length;i++){let a=e[i];if(this.eq(a))return e;if(this.type.excludes(a.type))t||(t=e.slice(0,i));else{if(a.type.excludes(this.type))return e;!n&&a.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),n=!0),t&&t.push(a)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&su(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);return n.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return ve.none;if(e instanceof ve)return[e];let t=e.slice();return t.sort((n,i)=>n.type.rank-i.type.rank),t}}ve.none=[];class ms extends Error{}class W{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=cC(this.content,e+this.openStart,t);return n&&new W(n,this.openStart,this.openEnd)}removeBetween(e,t){return new W(uC(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return W.empty;let n=t.openStart||0,i=t.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new W(q.fromJSON(e,t.content),n,i)}static maxOpen(e,t=!0){let n=0,i=0;for(let a=e.firstChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.firstChild)n++;for(let a=e.lastChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.lastChild)i++;return new W(e,n,i)}}W.empty=new W(q.empty,0,0);function uC(r,e,t){let{index:n,offset:i}=r.findIndex(e),a=r.maybeChild(n),{index:o,offset:l}=r.findIndex(t);if(i==e||a.isText){if(l!=t&&!r.child(o).isText)throw new RangeError("Removing non-flat range");return r.cut(0,e).append(r.cut(t))}if(n!=o)throw new RangeError("Removing non-flat range");return r.replaceChild(n,a.copy(uC(a.content,e-i-1,t-i-1)))}function cC(r,e,t,n){let{index:i,offset:a}=r.findIndex(e),o=r.maybeChild(i);if(a==e||o.isText)return n&&!n.canReplace(i,i,t)?null:r.cut(0,e).append(t).append(r.cut(e));let l=cC(o.content,e-a-1,t);return l&&r.replaceChild(i,o.copy(l))}function FI(r,e,t){if(t.openStart>r.depth)throw new ms("Inserted content deeper than insertion position");if(r.depth-t.openStart!=e.depth-t.openEnd)throw new ms("Inconsistent open depths");return fC(r,e,t,0)}function fC(r,e,t,n){let i=r.index(n),a=r.node(n);if(i==e.index(n)&&n<r.depth-t.openStart){let o=fC(r,e,t,n+1);return a.copy(a.content.replaceChild(i,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&r.depth==n&&e.depth==n){let o=r.parent,l=o.content;return Ji(o,l.cut(0,r.parentOffset).append(t.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=HI(t,r);return Ji(a,hC(r,o,l,e,n))}else return Ji(a,lu(r,e,n))}function dC(r,e){if(!e.type.compatibleContent(r.type))throw new ms("Cannot join "+e.type.name+" onto "+r.type.name)}function fh(r,e,t){let n=r.node(t);return dC(n,e.node(t)),n}function Ki(r,e){let t=e.length-1;t>=0&&r.isText&&r.sameMarkup(e[t])?e[t]=r.withText(e[t].text+r.text):e.push(r)}function us(r,e,t,n){let i=(e||r).node(t),a=0,o=e?e.index(t):i.childCount;r&&(a=r.index(t),r.depth>t?a++:r.textOffset&&(Ki(r.nodeAfter,n),a++));for(let l=a;l<o;l++)Ki(i.child(l),n);e&&e.depth==t&&e.textOffset&&Ki(e.nodeBefore,n)}function Ji(r,e){if(!r.type.validContent(e))throw new ms("Invalid content for node "+r.type.name);return r.copy(e)}function hC(r,e,t,n,i){let a=r.depth>i&&fh(r,e,i+1),o=n.depth>i&&fh(t,n,i+1),l=[];return us(null,r,i,l),a&&o&&e.index(i)==t.index(i)?(dC(a,o),Ki(Ji(a,hC(r,e,t,n,i+1)),l)):(a&&Ki(Ji(a,lu(r,e,i+1)),l),us(e,t,i,l),o&&Ki(Ji(o,lu(t,n,i+1)),l)),us(n,null,i,l),new q(l)}function lu(r,e,t){let n=[];if(us(null,r,t,n),r.depth>t){let i=fh(r,e,t+1);Ki(Ji(i,lu(r,e,t+1)),n)}return us(e,null,t,n),new q(n)}function HI(r,e){let t=e.depth-r.openStart,i=e.node(t).copy(r.content);for(let a=t-1;a>=0;a--)i=e.node(a).copy(q.from(i));return{start:i.resolveNoCache(r.openStart+t),end:i.resolveNoCache(i.content.size-r.openEnd-t)}}class gs{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(t);return n?e.child(t).cut(n):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let a=0;a<e;a++)i+=n.child(a).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return ve.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),i=e.maybeChild(t);if(!n){let l=n;n=i,i=l}let a=n.marks;for(var o=0;o<a.length;o++)a[o].type.spec.inclusive===!1&&(!i||!a[o].isInSet(i.marks))&&(a=a[o--].removeFromSet(a));return a}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,i=e.parent.maybeChild(e.index());for(var a=0;a<n.length;a++)n[a].type.spec.inclusive===!1&&(!i||!n[a].isInSet(i.marks))&&(n=n[a--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new uu(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],i=0,a=t;for(let o=e;;){let{index:l,offset:c}=o.content.findIndex(a),f=a-c;if(n.push(o,l,i+c),!f||(o=o.child(l),o.isText))break;a=f-1,i+=c+1}return new gs(t,n,a)}static resolveCached(e,t){for(let i=0;i<ad.length;i++){let a=ad[i];if(a.pos==t&&a.doc==e)return a}let n=ad[od]=gs.resolve(e,t);return od=(od+1)%qI,n}}let ad=[],od=0,qI=12;class uu{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const $I=Object.create(null);class Ir{constructor(e,t,n,i=ve.none){this.type=e,this.attrs=t,this.marks=i,this.content=n||q.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,i=0){this.content.nodesBetween(e,t,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,i){return this.content.textBetween(e,t,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&su(this.attrs,t||e.defaultAttrs||$I)&&ve.sameSet(this.marks,n||ve.none)}copy(e=null){return e==this.content?this:new Ir(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ir(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return W.empty;let i=this.resolve(e),a=this.resolve(t),o=n?0:i.sharedDepth(t),l=i.start(o),f=i.node(o).content.cut(i.pos-l,a.pos-l);return new W(f,i.depth-o,a.depth-o)}replace(e,t,n){return FI(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let i=this.content.child(t-1);return{node:i,index:t-1,offset:n-i.nodeSize}}resolve(e){return gs.resolveCached(this,e)}resolveNoCache(e){return gs.resolve(this,e)}rangeHasMark(e,t,n){let i=!1;return t>e&&this.nodesBetween(e,t,a=>(n.isInSet(a.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),pC(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=q.empty,i=0,a=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,i,a),l=o&&o.matchFragment(this.content,t);if(!l||!l.validEnd)return!1;for(let c=i;c<a;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0}canReplaceWith(e,t,n,i){if(i&&!this.type.allowsMarks(i))return!1;let a=this.contentMatchAt(e).matchType(n),o=a&&a.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let e=ve.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!ve.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let i=q.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,i,n)}}Ir.prototype.text=void 0;class cu extends Ir{constructor(e,t,n,i){if(super(e,t,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):pC(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new cu(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new cu(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function pC(r,e){for(let t=r.length-1;t>=0;t--)e=r[t].type.name+"("+e+")";return e}class ea{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new UI(e,t);if(n.next==null)return ea.empty;let i=vC(n);n.next&&n.err("Unexpected trailing text");let a=JI(KI(i));return XI(a,n),a}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let i=this;for(let a=t;i&&a<n;a++)i=i.matchType(e.child(a).type);return i}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let i=[this];function a(o,l){let c=o.matchFragment(e,n);if(c&&(!t||c.validEnd))return q.from(l.map(f=>f.createAndFill()));for(let f=0;f<o.next.length;f++){let{type:h,next:p}=o.next[f];if(!(h.isText||h.hasRequiredAttrs())&&i.indexOf(p)==-1){i.push(p);let v=a(p,l.concat(h));if(v)return v}}return null}return a(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),a=i.match;if(a.matchType(e)){let o=[];for(let l=i;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<a.next.length;o++){let{type:l,next:c}=a.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in t)&&(!i.type||c.validEnd)&&(n.push({match:l.contentMatch,type:l,via:i}),t[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&t(n.next[i].next)}return t(this),e.map((n,i)=>{let a=i+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)a+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return a}).join(`
`)}}ea.empty=new ea(!0);class UI{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function vC(r){let e=[];do e.push(zI(r));while(r.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function zI(r){let e=[];do e.push(VI(r));while(r.next&&r.next!=")"&&r.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function VI(r){let e=GI(r);for(;;)if(r.eat("+"))e={type:"plus",expr:e};else if(r.eat("*"))e={type:"star",expr:e};else if(r.eat("?"))e={type:"opt",expr:e};else if(r.eat("{"))e=WI(r,e);else break;return e}function yy(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");let e=Number(r.next);return r.pos++,e}function WI(r,e){let t=yy(r),n=t;return r.eat(",")&&(r.next!="}"?n=yy(r):n=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:t,max:n,expr:e}}function jI(r,e){let t=r.nodeTypes,n=t[e];if(n)return[n];let i=[];for(let a in t){let o=t[a];o.groups.indexOf(e)>-1&&i.push(o)}return i.length==0&&r.err("No node type or group '"+e+"' found"),i}function GI(r){if(r.eat("(")){let e=vC(r);return r.eat(")")||r.err("Missing closing paren"),e}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{let e=jI(r,r.next).map(t=>(r.inline==null?r.inline=t.isInline:r.inline!=t.isInline&&r.err("Mixing inline and block content"),{type:"name",value:t}));return r.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function KI(r){let e=[[]];return i(a(r,0),t()),e;function t(){return e.push([])-1}function n(o,l,c){let f={term:c,to:l};return e[o].push(f),f}function i(o,l){o.forEach(c=>c.to=l)}function a(o,l){if(o.type=="choice")return o.exprs.reduce((c,f)=>c.concat(a(f,l)),[]);if(o.type=="seq")for(let c=0;;c++){let f=a(o.exprs[c],l);if(c==o.exprs.length-1)return f;i(f,l=t())}else if(o.type=="star"){let c=t();return n(l,c),i(a(o.expr,c),c),[n(c)]}else if(o.type=="plus"){let c=t();return i(a(o.expr,l),c),i(a(o.expr,c),c),[n(c)]}else{if(o.type=="opt")return[n(l)].concat(a(o.expr,l));if(o.type=="range"){let c=l;for(let f=0;f<o.min;f++){let h=t();i(a(o.expr,c),h),c=h}if(o.max==-1)i(a(o.expr,c),c);else for(let f=o.min;f<o.max;f++){let h=t();n(c,h),i(a(o.expr,c),h),c=h}return[n(c)]}else{if(o.type=="name")return[n(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function mC(r,e){return e-r}function by(r,e){let t=[];return n(e),t.sort(mC);function n(i){let a=r[i];if(a.length==1&&!a[0].term)return n(a[0].to);t.push(i);for(let o=0;o<a.length;o++){let{term:l,to:c}=a[o];!l&&t.indexOf(c)==-1&&n(c)}}}function JI(r){let e=Object.create(null);return t(by(r,0));function t(n){let i=[];n.forEach(o=>{r[o].forEach(({term:l,to:c})=>{if(!l)return;let f;for(let h=0;h<i.length;h++)i[h][0]==l&&(f=i[h][1]);by(r,c).forEach(h=>{f||i.push([l,f=[]]),f.indexOf(h)==-1&&f.push(h)})})});let a=e[n.join(",")]=new ea(n.indexOf(r.length-1)>-1);for(let o=0;o<i.length;o++){let l=i[o][1].sort(mC);a.next.push({type:i[o][0],next:e[l.join(",")]||t(l)})}return a}}function XI(r,e){for(let t=0,n=[r];t<n.length;t++){let i=n[t],a=!i.validEnd,o=[];for(let l=0;l<i.next.length;l++){let{type:c,next:f}=i.next[l];o.push(c.name),a&&!(c.isText||c.hasRequiredAttrs())&&(a=!1),n.indexOf(f)==-1&&n.push(f)}a&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function gC(r){let e=Object.create(null);for(let t in r){let n=r[t];if(!n.hasDefault)return null;e[t]=n.default}return e}function yC(r,e){let t=Object.create(null);for(let n in r){let i=e&&e[n];if(i===void 0){let a=r[n];if(a.hasDefault)i=a.default;else throw new RangeError("No value supplied for attribute "+n)}t[n]=i}return t}function bC(r){let e=Object.create(null);if(r)for(let t in r)e[t]=new YI(r[t]);return e}class fu{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=bC(n.attrs),this.defaultAttrs=gC(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ea.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:yC(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ir(this,this.computeAttrs(e),q.from(t),ve.setFrom(n))}createChecked(e=null,t,n){if(t=q.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new Ir(this,this.computeAttrs(e),t,ve.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),t=q.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let i=this.contentMatch.matchFragment(t),a=i&&i.fillBefore(q.empty,!0);return a?new Ir(this,e,t.append(a),ve.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:ve.none:e}static compile(e,t){let n=Object.create(null);e.forEach((a,o)=>n[a]=new fu(a,t,o));let i=t.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let a in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class YI{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class tc{constructor(e,t,n,i){this.name=e,this.rank=t,this.schema=n,this.spec=i,this.attrs=bC(i.attrs),this.excluded=null;let a=gC(this.attrs);this.instance=a?new ve(this,a):null}create(e=null){return!e&&this.instance?this.instance:new ve(this,yC(this.attrs,e))}static compile(e,t){let n=Object.create(null),i=0;return e.forEach((a,o)=>n[a]=new tc(a,i++,t,o)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class wC{constructor(e){this.cached=Object.create(null),this.spec={nodes:ct.from(e.nodes),marks:ct.from(e.marks||{}),topNode:e.topNode},this.nodes=fu.compile(this.spec.nodes,this),this.marks=tc.compile(this.spec.marks,this);let t=Object.create(null);for(let n in this.nodes){if(n in this.marks)throw new RangeError(n+" can not be both a node and a mark");let i=this.nodes[n],a=i.spec.content||"",o=i.spec.marks;i.contentMatch=t[a]||(t[a]=ea.parse(a,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet=o=="_"?null:o?wy(this,o.split(" ")):o==""||!i.inlineContent?[]:null}for(let n in this.marks){let i=this.marks[n],a=i.spec.excludes;i.excluded=a==null?[i]:a==""?[]:wy(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof fu){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,n,i)}text(e,t){let n=this.nodes.text;return new cu(n,n.defaultAttrs,e,ve.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Ir.fromJSON(this,e)}markFromJSON(e){return ve.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function wy(r,e){let t=[];for(let n=0;n<e.length;n++){let i=e[n],a=r.marks[i],o=a;if(a)t.push(a);else for(let l in r.marks){let c=r.marks[l];(i=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&t.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return t}class ta{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach(n=>{n.tag?this.tags.push(n):n.style&&this.styles.push(n)}),this.normalizeLists=!this.tags.some(n=>{if(!/^(ul|ol)\b/.test(n.tag)||!n.node)return!1;let i=e.nodes[n.node];return i.contentMatch.matchType(i)})}parse(e,t={}){let n=new xy(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new xy(this,t,!0);return n.addAll(e,t.from,t.to),W.maxOpen(n.finish())}matchTag(e,t,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let a=this.tags[i];if(eR(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||t.matchesContext(a.context))){if(a.getAttrs){let o=a.getAttrs(e);if(o===!1)continue;a.attrs=o||void 0}return a}}}matchStyle(e,t,n,i){for(let a=i?this.styles.indexOf(i)+1:0;a<this.styles.length;a++){let o=this.styles[a],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=t))){if(o.getAttrs){let c=o.getAttrs(t);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(e){let t=[];function n(i){let a=i.priority==null?50:i.priority,o=0;for(;o<t.length;o++){let l=t[o];if((l.priority==null?50:l.priority)<a)break}t.splice(o,0,i)}for(let i in e.marks){let a=e.marks[i].spec.parseDOM;a&&a.forEach(o=>{n(o=Ty(o)),o.mark=i})}for(let i in e.nodes){let a=e.nodes[i].spec.parseDOM;a&&a.forEach(o=>{n(o=Ty(o)),o.node=i})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ta(e,ta.schemaRules(e)))}}const CC={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ZI={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},xC={ol:!0,ul:!0},du=1,hu=2,cs=4;function Cy(r,e,t){return e!=null?(e?du:0)|(e==="full"?hu:0):r&&r.whitespace=="pre"?du|hu:t&~cs}class Dl{constructor(e,t,n,i,a,o,l){this.type=e,this.attrs=t,this.marks=n,this.pendingMarks=i,this.solid=a,this.options=l,this.content=[],this.activeMarks=ve.none,this.stashMarks=[],this.match=o||(l&cs?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(q.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&du)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let a=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-i[0].length))}}let t=q.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(q.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,n=this.pendingMarks;t<n.length;t++){let i=n[t];(this.type?this.type.allowsMarkType(i.type):rR(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!CC.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class xy{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let i=t.topNode,a,o=Cy(null,t.preserveWhitespace,0)|(n?cs:0);i?a=new Dl(i.type,i.attrs,ve.none,ve.none,!0,t.topMatch||i.type.contentMatch,o):n?a=new Dl(null,null,ve.none,ve.none,!0,null,o):a=new Dl(e.schema.topNodeType,null,ve.none,ve.none,!0,null,o),this.nodes=[a],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let t=e.getAttribute("style"),n=t?this.readStyles(tR(t)):null,i=this.top;if(n!=null)for(let a=0;a<n.length;a++)this.addPendingMark(n[a]);if(this.addElement(e),n!=null)for(let a=0;a<n.length;a++)this.removePendingMark(n[a],i)}}addTextNode(e){let t=e.nodeValue,n=this.top;if(n.options&hu||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(n.options&du)n.options&hu?t=t.replace(/\r\n?/g,`
`):t=t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let i=n.content[n.content.length-1],a=e.previousSibling;(!i||a&&a.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let n=e.nodeName.toLowerCase(),i;xC.hasOwnProperty(n)&&this.parser.normalizeLists&&QI(e);let a=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,t));if(a?a.ignore:ZI.hasOwnProperty(n))this.findInside(e),this.ignoreFallback(e);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(e=a.skip);let o,l=this.top,c=this.needsBlock;if(CC.hasOwnProperty(n))o=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),o&&this.sync(l),this.needsBlock=c}else this.addElementByRule(e,a,a.consuming===!1?i:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=ve.none;e:for(let n=0;n<e.length;n+=2)for(let i=void 0;;){let a=this.parser.matchStyle(e[n],e[n+1],this,i);if(!a)continue e;if(a.ignore)return null;if(t=this.parser.schema.marks[a.mark].create(a.attrs).addToSet(t),a.consuming===!1)i=a;else break}return t}addElementByRule(e,t,n){let i,a,o;t.node?(a=this.parser.schema.nodes[t.node],a.isLeaf?this.insertNode(a.create(t.attrs))||this.leafFallback(e):i=this.enter(a,t.attrs||null,t.preserveWhitespace)):(o=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(o));let l=this.top;if(a&&a.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c));else{let c=e;typeof t.contentElement=="string"?c=e.querySelector(t.contentElement):typeof t.contentElement=="function"?c=t.contentElement(e):t.contentElement&&(c=t.contentElement),this.findAround(e,c,!0),this.addAll(c)}i&&this.sync(l)&&this.open--,o&&this.removePendingMark(o,l)}addAll(e,t,n){let i=t||0;for(let a=t?e.childNodes[t]:e.firstChild,o=n==null?null:e.childNodes[n];a!=o;a=a.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(a);this.findAtPoint(e,i)}findPlace(e){let t,n;for(let i=this.open;i>=0;i--){let a=this.nodes[i],o=a.findWrapping(e);if(o&&(!t||t.length>o.length)&&(t=o,n=a,!o.length)||a.solid)break}if(!t)return!1;this.sync(n);for(let i=0;i<t.length;i++)this.enterInner(t[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let n=t.activeMarks;for(let i=0;i<e.marks.length;i++)(!t.type||t.type.allowsMarkType(e.marks[i].type))&&(n=e.marks[i].addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n){let i=this.findPlace(e.create(t));return i&&this.enterInner(e,t,!0,n),i}enterInner(e,t=null,n=!1,i){this.closeExtra();let a=this.top;a.applyPending(e),a.match=a.match&&a.match.matchType(e);let o=Cy(e,i,a.options);a.options&cs&&a.content.length==0&&(o|=cs),this.nodes.push(new Dl(e,t,a.activeMarks,a.pendingMarks,n,null,o)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),a=-(n?n.depth+1:0)+(i?0:1),o=(l,c)=>{for(;l>=0;l--){let f=t[l];if(f==""){if(l==t.length-1||l==0)continue;for(;c>=a;c--)if(o(l-1,c))return!0;return!1}else{let h=c>0||c==0&&i?this.nodes[c].type:n&&c>=a?n.node(c-a).type:null;if(!h||h.name!=f&&h.groups.indexOf(f)==-1)return!1;c--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let n=this.parser.schema.nodes[t];if(n.isTextblock&&n.defaultAttrs)return n}}addPendingMark(e){let t=nR(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let n=this.open;n>=0;n--){let i=this.nodes[n];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let o=i.popFromStashMark(e);o&&i.type&&i.type.allowsMarkType(o.type)&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==t)break}}}function QI(r){for(let e=r.firstChild,t=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&xC.hasOwnProperty(n)&&t?(t.appendChild(e),e=t):n=="li"?t=e:n&&(t=null)}}function eR(r,e){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,e)}function tR(r){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,t,n=[];for(;t=e.exec(r);)n.push(t[1],t[2].trim());return n}function Ty(r){let e={};for(let t in r)e[t]=r[t];return e}function rR(r,e){let t=e.schema.nodes;for(let n in t){let i=t[n];if(!i.allowsMarkType(r))continue;let a=[],o=l=>{a.push(l);for(let c=0;c<l.edgeCount;c++){let{type:f,next:h}=l.edge(c);if(f==e||a.indexOf(h)<0&&o(h))return!0}};if(o(i.contentMatch))return!0}}function nR(r,e){for(let t=0;t<e.length;t++)if(r.eq(e[t]))return e[t]}class An{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=sd(t).createDocumentFragment());let i=n,a=[];return e.forEach(o=>{if(a.length||o.marks.length){let l=0,c=0;for(;l<a.length&&c<o.marks.length;){let f=o.marks[c];if(!this.marks[f.type.name]){c++;continue}if(!f.eq(a[l][0])||f.type.spec.spanning===!1)break;l++,c++}for(;l<a.length;)i=a.pop()[1];for(;c<o.marks.length;){let f=o.marks[c++],h=this.serializeMark(f,o.isInline,t);h&&(a.push([f,i]),i.appendChild(h.dom),i=h.contentDOM||h.dom)}}i.appendChild(this.serializeNodeInner(o,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:i}=An.renderSpec(sd(t),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let a=this.serializeMark(e.marks[i],e.isInline,t);a&&((a.contentDOM||a.dom).appendChild(n),n=a.dom)}return n}serializeMark(e,t,n={}){let i=this.marks[e.type.name];return i&&An.renderSpec(sd(n),i(e,t))}static renderSpec(e,t,n=null){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let o,l=n?e.createElementNS(n,i):e.createElement(i),c=t[1],f=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){f=2;for(let h in c)if(c[h]!=null){let p=h.indexOf(" ");p>0?l.setAttributeNS(h.slice(0,p),h.slice(p+1),c[h]):l.setAttribute(h,c[h])}}for(let h=f;h<t.length;h++){let p=t[h];if(p===0){if(h<t.length-1||h>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:v,contentDOM:g}=An.renderSpec(e,p,n);if(l.appendChild(v),g){if(o)throw new RangeError("Multiple content holes");o=g}}}return{dom:l,contentDOM:o}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new An(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=ky(e.nodes);return t.text||(t.text=n=>n.text),t}static marksFromSchema(e){return ky(e.marks)}}function ky(r){let e={};for(let t in r){let n=r[t].spec.toDOM;n&&(e[t]=n)}return e}function sd(r){return r.document||window.document}const TC=65535,kC=Math.pow(2,16);function iR(r,e){return r+e*kC}function Ey(r){return r&TC}function aR(r){return(r-(r&TC))/kC}const EC=1,SC=2,Kl=4,MC=8;class dh{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&MC)>0}get deletedBefore(){return(this.delInfo&(EC|Kl))>0}get deletedAfter(){return(this.delInfo&(SC|Kl))>0}get deletedAcross(){return(this.delInfo&Kl)>0}}class tr{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&tr.empty)return tr.empty}recover(e){let t=0,n=Ey(e);if(!this.inverted)for(let i=0;i<n;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+t+aR(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let i=0,a=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?i:0);if(c>e)break;let f=this.ranges[l+a],h=this.ranges[l+o],p=c+f;if(e<=p){let v=f?e==c?-1:e==p?1:t:t,g=c+i+(v<0?0:h);if(n)return g;let y=e==(t<0?c:p)?null:iR(l/3,e-c),x=e==c?SC:e==p?EC:Kl;return(t<0?e!=c:e!=p)&&(x|=MC),new dh(g,x,y)}i+=h-f}return n?e+i:new dh(e+i,0,null)}touches(e,t){let n=0,i=Ey(t),a=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?n:0);if(c>e)break;let f=this.ranges[l+a],h=c+f;if(e<=h&&l==i*3)return!0;n+=this.ranges[l+o]-f}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,a=0;i<this.ranges.length;i+=3){let o=this.ranges[i],l=o-(this.inverted?a:0),c=o+(this.inverted?0:a),f=this.ranges[i+t],h=this.ranges[i+n];e(l,l+f,c,c+h),a+=h-f}}invert(){return new tr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?tr.empty:new tr(e<0?[0,-e,0]:[0,0,e])}}tr.empty=new tr([]);class Va{constructor(e=[],t,n=0,i=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=i}slice(e=0,t=this.maps.length){return new Va(this.maps,this.mirror,e,t)}copy(){return new Va(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let i=e.getMirror(t);this.appendMap(e.maps[t],i!=null&&i<t?n+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e.maps[t].invert(),i!=null&&i>t?n-i-1:void 0)}}invert(){let e=new Va;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let i=0;for(let a=this.from;a<this.to;a++){let o=this.maps[a],l=o.mapResult(e,t);if(l.recover!=null){let c=this.getMirror(a);if(c!=null&&c>a&&c<this.to){a=c,e=this.maps[c].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return n?e:new dh(e,i,null)}}const ld=Object.create(null);class Vt{getMap(){return tr.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=ld[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in ld)throw new RangeError("Duplicate use of step JSON ID "+e);return ld[e]=t,t.prototype.jsonID=e,t}}class Je{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Je(e,null)}static fail(e){return new Je(null,e)}static fromReplace(e,t,n,i){try{return Je.ok(e.replace(t,n,i))}catch(a){if(a instanceof ms)return Je.fail(a.message);throw a}}}function xp(r,e,t){let n=[];for(let i=0;i<r.childCount;i++){let a=r.child(i);a.content.size&&(a=a.copy(xp(a.content,e,a))),a.isInline&&(a=e(a,t,i)),n.push(a)}return q.fromArray(n)}class oi extends Vt{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),a=new W(xp(t.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),t.openStart,t.openEnd);return Je.fromReplace(e,this.from,this.to,a)}invert(){return new tn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new oi(t.pos,n.pos,this.mark)}merge(e){return e instanceof oi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new oi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new oi(t.from,t.to,e.markFromJSON(t.mark))}}Vt.jsonID("addMark",oi);class tn extends Vt{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new W(xp(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return Je.fromReplace(e,this.from,this.to,n)}invert(){return new oi(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new tn(t.pos,n.pos,this.mark)}merge(e){return e instanceof tn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new tn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new tn(t.from,t.to,e.markFromJSON(t.mark))}}Vt.jsonID("removeMark",tn);class si extends Vt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Je.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Je.fromReplace(e,this.pos,this.pos+1,new W(q.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let n=this.mark.addToSet(t.marks);if(n.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(n))return new si(this.pos,t.marks[i]);return new si(this.pos,this.mark)}}return new Qa(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new si(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new si(t.pos,e.markFromJSON(t.mark))}}Vt.jsonID("addNodeMark",si);class Qa extends Vt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Je.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Je.fromReplace(e,this.pos,this.pos+1,new W(q.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new si(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Qa(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Qa(t.pos,e.markFromJSON(t.mark))}}Vt.jsonID("removeNodeMark",Qa);class Mt extends Vt{constructor(e,t,n,i=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=i}apply(e){return this.structure&&hh(e,this.from,this.to)?Je.fail("Structure replace would overwrite content"):Je.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new tr([this.from,this.to-this.from,this.slice.size])}invert(e){return new Mt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new Mt(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof Mt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?W.empty:new W(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Mt(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?W.empty:new W(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Mt(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Mt(t.from,t.to,W.fromJSON(e,t.slice),!!t.structure)}}Vt.jsonID("replace",Mt);class at extends Vt{constructor(e,t,n,i,a,o,l=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=i,this.slice=a,this.insert=o,this.structure=l}apply(e){if(this.structure&&(hh(e,this.from,this.gapFrom)||hh(e,this.gapTo,this.to)))return Je.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Je.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?Je.fromReplace(e,this.from,this.to,n):Je.fail("Content does not fit in gap")}getMap(){return new tr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new at(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),a=e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||i<t.pos||a>n.pos?null:new at(t.pos,n.pos,i,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new at(t.from,t.to,t.gapFrom,t.gapTo,W.fromJSON(e,t.slice),t.insert,!!t.structure)}}Vt.jsonID("replaceAround",at);function hh(r,e,t){let n=r.resolve(e),i=t-e,a=n.depth;for(;i>0&&a>0&&n.indexAfter(a)==n.node(a).childCount;)a--,i--;if(i>0){let o=n.node(a).maybeChild(n.indexAfter(a));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function oR(r,e,t,n){let i=[],a=[],o,l;r.doc.nodesBetween(e,t,(c,f,h)=>{if(!c.isInline)return;let p=c.marks;if(!n.isInSet(p)&&h.type.allowsMarkType(n.type)){let v=Math.max(f,e),g=Math.min(f+c.nodeSize,t),y=n.addToSet(p);for(let x=0;x<p.length;x++)p[x].isInSet(y)||(o&&o.to==v&&o.mark.eq(p[x])?o.to=g:i.push(o=new tn(v,g,p[x])));l&&l.to==v?l.to=g:a.push(l=new oi(v,g,n))}}),i.forEach(c=>r.step(c)),a.forEach(c=>r.step(c))}function sR(r,e,t,n){let i=[],a=0;r.doc.nodesBetween(e,t,(o,l)=>{if(!o.isInline)return;a++;let c=null;if(n instanceof tc){let f=o.marks,h;for(;h=n.isInSet(f);)(c||(c=[])).push(h),f=h.removeFromSet(f)}else n?n.isInSet(o.marks)&&(c=[n]):c=o.marks;if(c&&c.length){let f=Math.min(l+o.nodeSize,t);for(let h=0;h<c.length;h++){let p=c[h],v;for(let g=0;g<i.length;g++){let y=i[g];y.step==a-1&&p.eq(i[g].style)&&(v=y)}v?(v.to=f,v.step=a):i.push({style:p,from:Math.max(l,e),to:f,step:a})}}}),i.forEach(o=>r.step(new tn(o.from,o.to,o.style)))}function lR(r,e,t,n=t.contentMatch){let i=r.doc.nodeAt(e),a=[],o=e+1;for(let l=0;l<i.childCount;l++){let c=i.child(l),f=o+c.nodeSize,h=n.matchType(c.type);if(!h)a.push(new Mt(o,f,W.empty));else{n=h;for(let p=0;p<c.marks.length;p++)t.allowsMarkType(c.marks[p].type)||r.step(new tn(o,f,c.marks[p]))}o=f}if(!n.validEnd){let l=n.fillBefore(q.empty,!0);r.replace(o,o,new W(l,0,0))}for(let l=a.length-1;l>=0;l--)r.step(a[l])}function uR(r,e,t){return(e==0||r.canReplace(e,r.childCount))&&(t==r.childCount||r.canReplace(0,t))}function rc(r){let t=r.parent.content.cutByIndex(r.startIndex,r.endIndex);for(let n=r.depth;;--n){let i=r.$from.node(n),a=r.$from.index(n),o=r.$to.indexAfter(n);if(n<r.depth&&i.canReplace(a,o,t))return n;if(n==0||i.type.spec.isolating||!uR(i,a,o))break}return null}function cR(r,e,t){let{$from:n,$to:i,depth:a}=e,o=n.before(a+1),l=i.after(a+1),c=o,f=l,h=q.empty,p=0;for(let y=a,x=!1;y>t;y--)x||n.index(y)>0?(x=!0,h=q.from(n.node(y).copy(h)),p++):c--;let v=q.empty,g=0;for(let y=a,x=!1;y>t;y--)x||i.after(y+1)<i.end(y)?(x=!0,v=q.from(i.node(y).copy(v)),g++):f++;r.step(new at(c,f,o,l,new W(h.append(v),p,g),h.size-p,!0))}function fR(r,e,t=null,n=r){let i=dR(r,e),a=i&&hR(n,e);return a?i.map(Sy).concat({type:e,attrs:t}).concat(a.map(Sy)):null}function Sy(r){return{type:r,attrs:null}}function dR(r,e){let{parent:t,startIndex:n,endIndex:i}=r,a=t.contentMatchAt(n).findWrapping(e);if(!a)return null;let o=a.length?a[0]:e;return t.canReplaceWith(n,i,o)?a:null}function hR(r,e){let{parent:t,startIndex:n,endIndex:i}=r,a=t.child(n),o=e.contentMatch.findWrapping(a.type);if(!o)return null;let c=(o.length?o[o.length-1]:e).contentMatch;for(let f=n;c&&f<i;f++)c=c.matchType(t.child(f).type);return!c||!c.validEnd?null:o}function pR(r,e,t){let n=q.empty;for(let o=t.length-1;o>=0;o--){if(n.size){let l=t[o].type.contentMatch.matchFragment(n);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=q.from(t[o].type.create(t[o].attrs,n))}let i=e.start,a=e.end;r.step(new at(i,a,i,a,new W(n,0,0),t.length,!0))}function vR(r,e,t,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=r.steps.length;r.doc.nodesBetween(e,t,(o,l)=>{if(o.isTextblock&&!o.hasMarkup(n,i)&&mR(r.doc,r.mapping.slice(a).map(l),n)){r.clearIncompatible(r.mapping.slice(a).map(l,1),n);let c=r.mapping.slice(a),f=c.map(l,1),h=c.map(l+o.nodeSize,1);return r.step(new at(f,h,f+1,h-1,new W(q.from(n.create(i,null,o.marks)),0,0),1,!0)),!1}})}function mR(r,e,t){let n=r.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,t)}function gR(r,e,t,n,i){let a=r.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");t||(t=a.type);let o=t.create(n,null,i||a.marks);if(a.isLeaf)return r.replaceWith(e,e+a.nodeSize,o);if(!t.validContent(a.content))throw new RangeError("Invalid content for node type "+t.name);r.step(new at(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new W(q.from(o),0,0),1,!0))}function Wa(r,e,t=1,n){let i=r.resolve(e),a=i.depth-t,o=n&&n[n.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,h=t-2;f>a;f--,h--){let p=i.node(f),v=i.index(f);if(p.type.spec.isolating)return!1;let g=p.content.cutByIndex(v,p.childCount),y=n&&n[h]||p;if(y!=p&&(g=g.replaceChild(0,y.type.create(y.attrs))),!p.canReplace(v+1,p.childCount)||!y.type.validContent(g))return!1}let l=i.indexAfter(a),c=n&&n[0];return i.node(a).canReplaceWith(l,l,c?c.type:i.node(a+1).type)}function yR(r,e,t=1,n){let i=r.doc.resolve(e),a=q.empty,o=q.empty;for(let l=i.depth,c=i.depth-t,f=t-1;l>c;l--,f--){a=q.from(i.node(l).copy(a));let h=n&&n[f];o=q.from(h?h.type.create(h.attrs,o):i.node(l).copy(o))}r.step(new Mt(e,e,new W(a.append(o),t,t),!0))}function OC(r,e){let t=r.resolve(e),n=t.index();return bR(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(n,n+1)}function bR(r,e){return!!(r&&e&&!r.isLeaf&&r.canAppend(e))}function wR(r,e,t){let n=new Mt(e-t,e+t,W.empty,!0);r.step(n)}function CR(r,e,t){let n=r.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),t))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let a=n.index(i);if(n.node(i).canReplaceWith(a,a,t))return n.before(i+1);if(a>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let a=n.indexAfter(i);if(n.node(i).canReplaceWith(a,a,t))return n.after(i+1);if(a<n.node(i).childCount)return null}return null}function xR(r,e,t){let n=r.resolve(e);if(!t.content.size)return e;let i=t.content;for(let a=0;a<t.openStart;a++)i=i.firstChild.content;for(let a=1;a<=(t.openStart==0&&t.size?2:1);a++)for(let o=n.depth;o>=0;o--){let l=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,c=n.index(o)+(l>0?1:0),f=n.node(o),h=!1;if(a==1)h=f.canReplace(c,c,i);else{let p=f.contentMatchAt(c).findWrapping(i.firstChild.type);h=p&&f.canReplaceWith(c,c,p[0])}if(h)return l==0?n.pos:l<0?n.before(o+1):n.after(o+1)}return null}function Tp(r,e,t=e,n=W.empty){if(e==t&&!n.size)return null;let i=r.resolve(e),a=r.resolve(t);return AC(i,a,n)?new Mt(e,t,n):new TR(i,a,n).fit()}function AC(r,e,t){return!t.openStart&&!t.openEnd&&r.start()==e.start()&&r.parent.canReplace(r.index(),e.index(),t.content)}class TR{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=q.empty;for(let i=0;i<=e.depth;i++){let a=e.node(i);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=q.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let a=this.placed,o=n.depth,l=i.depth;for(;o&&l&&a.childCount==1;)a=a.firstChild.content,o--,l--;let c=new W(a,o,l);return e>-1?new at(n.pos,e,this.$to.pos,this.$to.end(),c,t):c.size||n.pos!=this.$to.pos?new Mt(n.pos,i.pos,c):null}findFittable(){for(let e=1;e<=2;e++)for(let t=this.unplaced.openStart;t>=0;t--){let n,i=null;t?(i=ud(this.unplaced.content,t-1).firstChild,n=i.content):n=this.unplaced.content;let a=n.firstChild;for(let o=this.depth;o>=0;o--){let{type:l,match:c}=this.frontier[o],f,h=null;if(e==1&&(a?c.matchType(a.type)||(h=c.fillBefore(q.from(a),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:t,frontierDepth:o,parent:i,inject:h};if(e==2&&a&&(f=c.findWrapping(a.type)))return{sliceDepth:t,frontierDepth:o,parent:i,wrap:f};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=ud(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new W(e,t+1,Math.max(n,i.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=ud(e,t);if(i.childCount<=1&&t>0){let a=e.size-t<=t+i.size;this.unplaced=new W(es(e,t-1,1),t-1,a?t-1:n)}else this.unplaced=new W(es(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:i,wrap:a}){for(;this.depth>t;)this.closeFrontierNode();if(a)for(let x=0;x<a.length;x++)this.openFrontierNode(a[x]);let o=this.unplaced,l=n?n.content:o.content,c=o.openStart-e,f=0,h=[],{match:p,type:v}=this.frontier[t];if(i){for(let x=0;x<i.childCount;x++)h.push(i.child(x));p=p.matchFragment(i)}let g=l.size+e-(o.content.size-o.openEnd);for(;f<l.childCount;){let x=l.child(f),T=p.matchType(x.type);if(!T)break;f++,(f>1||c==0||x.content.size)&&(p=T,h.push(_C(x.mark(v.allowedMarks(x.marks)),f==1?c:0,f==l.childCount?g:-1)))}let y=f==l.childCount;y||(g=-1),this.placed=ts(this.placed,t,q.from(h)),this.frontier[t].match=p,y&&g<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let x=0,T=l;x<g;x++){let E=T.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),T=E.content}this.unplaced=y?e==0?W.empty:new W(es(o.content,e-1,1),e-1,g<0?o.openEnd:e-1):new W(es(o.content,e,f),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!cd(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:i}=this.frontier[t],a=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=cd(e,t,i,n,a);if(!!o){for(let l=t-1;l>=0;l--){let{match:c,type:f}=this.frontier[l],h=cd(e,l,f,c,!0);if(!h||h.childCount)continue e}return{depth:t,fit:o,move:a?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=ts(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let i=e.node(n),a=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,a)}return e}openFrontierNode(e,t=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=ts(this.placed,this.depth,q.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(q.empty,!0);t.childCount&&(this.placed=ts(this.placed,this.frontier.length,t))}}function es(r,e,t){return e==0?r.cutByIndex(t,r.childCount):r.replaceChild(0,r.firstChild.copy(es(r.firstChild.content,e-1,t)))}function ts(r,e,t){return e==0?r.append(t):r.replaceChild(r.childCount-1,r.lastChild.copy(ts(r.lastChild.content,e-1,t)))}function ud(r,e){for(let t=0;t<e;t++)r=r.firstChild.content;return r}function _C(r,e,t){if(e<=0)return r;let n=r.content;return e>1&&(n=n.replaceChild(0,_C(n.firstChild,e-1,n.childCount==1?t-1:0))),e>0&&(n=r.type.contentMatch.fillBefore(n).append(n),t<=0&&(n=n.append(r.type.contentMatch.matchFragment(n).fillBefore(q.empty,!0)))),r.copy(n)}function cd(r,e,t,n,i){let a=r.node(e),o=i?r.indexAfter(e):r.index(e);if(o==a.childCount&&!t.compatibleContent(a.type))return null;let l=n.fillBefore(a.content,!0,o);return l&&!kR(t,a.content,o)?l:null}function kR(r,e,t){for(let n=t;n<e.childCount;n++)if(!r.allowsMarks(e.child(n).marks))return!0;return!1}function ER(r){return r.spec.defining||r.spec.definingForContent}function SR(r,e,t,n){if(!n.size)return r.deleteRange(e,t);let i=r.doc.resolve(e),a=r.doc.resolve(t);if(AC(i,a,n))return r.step(new Mt(e,t,n));let o=DC(i,r.doc.resolve(t));o[o.length-1]==0&&o.pop();let l=-(i.depth+1);o.unshift(l);for(let v=i.depth,g=i.pos-1;v>0;v--,g--){let y=i.node(v).type.spec;if(y.defining||y.definingAsContext||y.isolating)break;o.indexOf(v)>-1?l=v:i.before(v)==g&&o.splice(1,0,-v)}let c=o.indexOf(l),f=[],h=n.openStart;for(let v=n.content,g=0;;g++){let y=v.firstChild;if(f.push(y),g==n.openStart)break;v=y.content}for(let v=h-1;v>=0;v--){let g=f[v].type,y=ER(g);if(y&&i.node(c).type!=g)h=v;else if(y||!g.isTextblock)break}for(let v=n.openStart;v>=0;v--){let g=(v+h+1)%(n.openStart+1),y=f[g];if(!!y)for(let x=0;x<o.length;x++){let T=o[(x+c)%o.length],E=!0;T<0&&(E=!1,T=-T);let L=i.node(T-1),N=i.index(T-1);if(L.canReplaceWith(N,N,y.type,y.marks))return r.replace(i.before(T),E?a.after(T):t,new W(LC(n.content,0,n.openStart,g),g,n.openEnd))}}let p=r.steps.length;for(let v=o.length-1;v>=0&&(r.replace(e,t,n),!(r.steps.length>p));v--){let g=o[v];g<0||(e=i.before(g),t=a.after(g))}}function LC(r,e,t,n,i){if(e<t){let a=r.firstChild;r=r.replaceChild(0,a.copy(LC(a.content,e+1,t,n,a)))}if(e>n){let a=i.contentMatchAt(0),o=a.fillBefore(r).append(r);r=o.append(a.matchFragment(o).fillBefore(q.empty,!0))}return r}function MR(r,e,t,n){if(!n.isInline&&e==t&&r.doc.resolve(e).parent.content.size){let i=CR(r.doc,e,n.type);i!=null&&(e=t=i)}r.replaceRange(e,t,new W(q.from(n),0,0))}function OR(r,e,t){let n=r.doc.resolve(e),i=r.doc.resolve(t),a=DC(n,i);for(let o=0;o<a.length;o++){let l=a[o],c=o==a.length-1;if(c&&l==0||n.node(l).type.contentMatch.validEnd)return r.delete(n.start(l),i.end(l));if(l>0&&(c||n.node(l-1).canReplace(n.index(l-1),i.indexAfter(l-1))))return r.delete(n.before(l),i.after(l))}for(let o=1;o<=n.depth&&o<=i.depth;o++)if(e-n.start(o)==n.depth-o&&t>n.end(o)&&i.end(o)-t!=i.depth-o)return r.delete(n.before(o),t);r.delete(e,t)}function DC(r,e){let t=[],n=Math.min(r.depth,e.depth);for(let i=n;i>=0;i--){let a=r.start(i);if(a<r.pos-(r.depth-i)||e.end(i)>e.pos+(e.depth-i)||r.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(a==e.start(i)||i==r.depth&&i==e.depth&&r.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==a-1)&&t.push(i)}return t}class ja extends Vt{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return Je.fail("No node at attribute step's position");let n=Object.create(null);for(let a in t.attrs)n[a]=t.attrs[a];n[this.attr]=this.value;let i=t.type.create(n,null,t.marks);return Je.fromReplace(e,this.pos,this.pos+1,new W(q.from(i),0,t.isLeaf?0:1))}getMap(){return tr.empty}invert(e){return new ja(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ja(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ja(t.pos,t.attr,t.value)}}Vt.jsonID("attr",ja);let eo=class extends Error{};eo=function r(e){let t=Error.call(this,e);return t.__proto__=r.prototype,t};eo.prototype=Object.create(Error.prototype);eo.prototype.constructor=eo;eo.prototype.name="TransformError";class AR{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Va}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new eo(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=W.empty){let i=Tp(this.doc,e,t,n);return i&&this.step(i),this}replaceWith(e,t,n){return this.replace(e,t,new W(q.from(n),0,0))}delete(e,t){return this.replace(e,t,W.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return SR(this,e,t,n),this}replaceRangeWith(e,t,n){return MR(this,e,t,n),this}deleteRange(e,t){return OR(this,e,t),this}lift(e,t){return cR(this,e,t),this}join(e,t=1){return wR(this,e,t),this}wrap(e,t){return pR(this,e,t),this}setBlockType(e,t=e,n,i=null){return vR(this,e,t,n,i),this}setNodeMarkup(e,t,n=null,i=[]){return gR(this,e,t,n,i),this}setNodeAttribute(e,t,n){return this.step(new ja(e,t,n)),this}addNodeMark(e,t){return this.step(new si(e,t)),this}removeNodeMark(e,t){if(!(t instanceof ve)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t=t.isInSet(n.marks),!t)return this}return this.step(new Qa(e,t)),this}split(e,t=1,n){return yR(this,e,t,n),this}addMark(e,t,n){return oR(this,e,t,n),this}removeMark(e,t,n){return sR(this,e,t,n),this}clearIncompatible(e,t,n){return lR(this,e,t,n),this}}const fd=Object.create(null);class he{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new NC(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=W.empty){let n=t.content.lastChild,i=null;for(let l=0;l<t.openEnd;l++)i=n,n=n.lastChild;let a=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:c,$to:f}=o[l],h=e.mapping.slice(a);e.replaceRange(h.map(c.pos),h.map(f.pos),l?W.empty:t),l==0&&Ay(e,a,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:o,$to:l}=i[a],c=e.mapping.slice(n),f=c.map(o.pos),h=c.map(l.pos);a?e.deleteRange(f,h):(e.replaceRangeWith(f,h,t),Ay(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let i=e.parent.inlineContent?new ye(e):Pa(e.node(0),e.parent,e.pos,e.index(),t,n);if(i)return i;for(let a=e.depth-1;a>=0;a--){let o=t<0?Pa(e.node(0),e.node(a),e.before(a+1),e.index(a),t,n):Pa(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,t,n);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new At(e.node(0))}static atStart(e){return Pa(e,e,0,0,1)||new At(e)}static atEnd(e){return Pa(e,e,e.content.size,e.childCount,-1)||new At(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=fd[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in fd)throw new RangeError("Duplicate use of selection JSON ID "+e);return fd[e]=t,t.prototype.jsonID=e,t}getBookmark(){return ye.between(this.$anchor,this.$head).getBookmark()}}he.prototype.visible=!0;class NC{constructor(e,t){this.$from=e,this.$to=t}}let My=!1;function Oy(r){!My&&!r.parent.inlineContent&&(My=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+r.parent.type.name+")"))}class ye extends he{constructor(e,t=e){Oy(e),Oy(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return he.near(n);let i=e.resolve(t.map(this.anchor));return new ye(i.parent.inlineContent?i:n,n)}replace(e,t=W.empty){if(super.replace(e,t),t==W.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof ye&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new nc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ye(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let i=e.resolve(t);return new this(i,n==t?i:e.resolve(n))}static between(e,t,n){let i=e.pos-t.pos;if((!n||i)&&(n=i>=0?1:-1),!t.parent.inlineContent){let a=he.findFrom(t,n,!0)||he.findFrom(t,-n,!0);if(a)t=a.$head;else return he.near(t,n)}return e.parent.inlineContent||(i==0?e=t:(e=(he.findFrom(e,-n,!0)||he.findFrom(e,n,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new ye(e,t)}}he.jsonID("text",ye);class nc{constructor(e,t){this.anchor=e,this.head=t}map(e){return new nc(e.map(this.anchor),e.map(this.head))}resolve(e){return ye.between(e.resolve(this.anchor),e.resolve(this.head))}}class ie extends he{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:i}=t.mapResult(this.anchor),a=e.resolve(i);return n?he.near(a):new ie(a)}content(){return new W(q.from(this.node),0,0)}eq(e){return e instanceof ie&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new kp(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ie(e.resolve(t.anchor))}static create(e,t){return new ie(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ie.prototype.visible=!1;he.jsonID("node",ie);class kp{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new nc(n,n):new kp(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&ie.isSelectable(n)?new ie(t):he.near(t)}}class At extends he{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=W.empty){if(t==W.empty){e.delete(0,e.doc.content.size);let n=he.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new At(e)}map(e){return new At(e)}eq(e){return e instanceof At}getBookmark(){return _R}}he.jsonID("all",At);const _R={map(){return this},resolve(r){return new At(r)}};function Pa(r,e,t,n,i,a=!1){if(e.inlineContent)return ye.create(r,t);for(let o=n-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let l=e.child(o);if(l.isAtom){if(!a&&ie.isSelectable(l))return ie.create(r,t-(i<0?l.nodeSize:0))}else{let c=Pa(r,l,t+i,i<0?l.childCount:0,i,a);if(c)return c}t+=l.nodeSize*i}return null}function Ay(r,e,t){let n=r.steps.length-1;if(n<e)return;let i=r.steps[n];if(!(i instanceof Mt||i instanceof at))return;let a=r.mapping.maps[n],o;a.forEach((l,c,f,h)=>{o==null&&(o=h)}),r.setSelection(he.near(r.doc.resolve(o),t))}const _y=1,Nl=2,Ly=4;class LR extends AR{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|_y)&~Nl,this.storedMarks=null,this}get selectionSet(){return(this.updated&_y)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Nl,this}ensureMarks(e){return ve.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Nl)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Nl,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||ve.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=t),n=n==null?t:n,!e)return this.deleteRange(t,n);let a=this.storedMarks;if(!a){let o=this.doc.resolve(t);a=n==t?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,i.text(e,a)),this.selection.empty||this.setSelection(he.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Ly,this}get scrolledIntoView(){return(this.updated&Ly)>0}}function Dy(r,e){return!e||!r?r:r.bind(e)}class rs{constructor(e,t,n){this.name=e,this.init=Dy(t.init,n),this.apply=Dy(t.apply,n)}}const DR=[new rs("doc",{init(r){return r.doc||r.schema.topNodeType.createAndFill()},apply(r){return r.doc}}),new rs("selection",{init(r,e){return r.selection||he.atStart(e.doc)},apply(r){return r.selection}}),new rs("storedMarks",{init(r){return r.storedMarks||null},apply(r,e,t,n){return n.selection.$cursor?r.storedMarks:null}}),new rs("scrollToSelection",{init(){return 0},apply(r,e){return r.scrolledIntoView?e+1:e}})];class dd{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=DR.slice(),t&&t.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new rs(n.key,n.spec.state,n))})}}class zi{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),i=null;for(;;){let a=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let c=i?i[o].n:0,f=i?i[o].state:this,h=c<t.length&&l.spec.appendTransaction.call(l,c?t.slice(c):t,f,n);if(h&&n.filterTransaction(h,o)){if(h.setMeta("appendedTransaction",e),!i){i=[];for(let p=0;p<this.config.plugins.length;p++)i.push(p<o?{state:n,n:t.length}:{state:this,n:0})}t.push(h),n=n.applyInner(h),a=!0}i&&(i[o]={state:n,n:t.length})}}if(!a)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new zi(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let a=n[i];t[a.name]=a.apply(e,this[a.name],this,t)}return t}get tr(){return new LR(this)}static create(e){let t=new dd(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new zi(t);for(let i=0;i<t.fields.length;i++)n[t.fields[i].name]=t.fields[i].init(e,n);return n}reconfigure(e){let t=new dd(this.schema,e.plugins),n=t.fields,i=new zi(t);for(let a=0;a<n.length;a++){let o=n[a].name;i[o]=this.hasOwnProperty(o)?this[o]:n[a].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],a=i.spec.state;a&&a.toJSON&&(t[n]=a.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new dd(e.schema,e.plugins),a=new zi(i);return i.fields.forEach(o=>{if(o.name=="doc")a.doc=Ir.fromJSON(e.schema,t.doc);else if(o.name=="selection")a.selection=he.fromJSON(a.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(a.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let l in n){let c=n[l],f=c.spec.state;if(c.key==o.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(t,l)){a[o.name]=f.fromJSON.call(c,e,t[l],a);return}}a[o.name]=o.init(e,a)}}),a}}function IC(r,e,t){for(let n in r){let i=r[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=IC(i,e,{})),t[n]=i}return t}class Wt{constructor(e){this.spec=e,this.props={},e.props&&IC(e.props,this,this.props),this.key=e.key?e.key.key:RC("plugin")}getState(e){return e[this.key]}}const hd=Object.create(null);function RC(r){return r in hd?r+"$"+ ++hd[r]:(hd[r]=0,r+"$")}class Ms{constructor(e="key"){this.key=RC(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const er=function(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e},ys=function(r){let e=r.assignedSlot||r.parentNode;return e&&e.nodeType==11?e.host:e};let Ny=null;const Sn=function(r,e,t){let n=Ny||(Ny=document.createRange());return n.setEnd(r,t==null?r.nodeValue.length:t),n.setStart(r,e||0),n},ra=function(r,e,t,n){return t&&(Iy(r,e,t,n,-1)||Iy(r,e,t,n,1))},NR=/^(img|br|input|textarea|hr)$/i;function Iy(r,e,t,n,i){for(;;){if(r==t&&e==n)return!0;if(e==(i<0?0:Qr(r))){let a=r.parentNode;if(!a||a.nodeType!=1||RR(r)||NR.test(r.nodeName)||r.contentEditable=="false")return!1;e=er(r)+(i<0?0:1),r=a}else if(r.nodeType==1){if(r=r.childNodes[e+(i<0?-1:0)],r.contentEditable=="false")return!1;e=i<0?Qr(r):0}else return!1}}function Qr(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function IR(r,e,t){for(let n=e==0,i=e==Qr(r);n||i;){if(r==t)return!0;let a=er(r);if(r=r.parentNode,!r)return!1;n=n&&a==0,i=i&&a==Qr(r)}}function RR(r){let e;for(let t=r;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==r||e.contentDOM==r)}const ic=function(r){return r.focusNode&&ra(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)};function Ha(r,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=r,t.key=t.code=e,t}function PR(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}const vi=typeof navigator<"u"?navigator:null,Ry=typeof document<"u"?document:null,yi=vi&&vi.userAgent||"",ph=/Edge\/(\d+)/.exec(yi),PC=/MSIE \d/.exec(yi),vh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(yi),$t=!!(PC||vh||ph),ui=PC?document.documentMode:vh?+vh[1]:ph?+ph[1]:0,Hr=!$t&&/gecko\/(\d+)/i.test(yi);Hr&&+(/Firefox\/(\d+)/.exec(yi)||[0,0])[1];const mh=!$t&&/Chrome\/(\d+)/.exec(yi),Ht=!!mh,BR=mh?+mh[1]:0,_t=!$t&&!!vi&&/Apple Computer/.test(vi.vendor),to=_t&&(/Mobile\/\w+/.test(yi)||!!vi&&vi.maxTouchPoints>2),gr=to||(vi?/Mac/.test(vi.platform):!1),en=/Android \d/.test(yi),ac=!!Ry&&"webkitFontSmoothing"in Ry.documentElement.style,FR=ac?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function HR(r){return{left:0,right:r.documentElement.clientWidth,top:0,bottom:r.documentElement.clientHeight}}function Zn(r,e){return typeof r=="number"?r:r[e]}function qR(r){let e=r.getBoundingClientRect(),t=e.width/r.offsetWidth||1,n=e.height/r.offsetHeight||1;return{left:e.left,right:e.left+r.clientWidth*t,top:e.top,bottom:e.top+r.clientHeight*n}}function Py(r,e,t){let n=r.someProp("scrollThreshold")||0,i=r.someProp("scrollMargin")||5,a=r.dom.ownerDocument;for(let o=t||r.dom;o;o=ys(o)){if(o.nodeType!=1)continue;let l=o,c=l==a.body,f=c?HR(a):qR(l),h=0,p=0;if(e.top<f.top+Zn(n,"top")?p=-(f.top-e.top+Zn(i,"top")):e.bottom>f.bottom-Zn(n,"bottom")&&(p=e.bottom-f.bottom+Zn(i,"bottom")),e.left<f.left+Zn(n,"left")?h=-(f.left-e.left+Zn(i,"left")):e.right>f.right-Zn(n,"right")&&(h=e.right-f.right+Zn(i,"right")),h||p)if(c)a.defaultView.scrollBy(h,p);else{let v=l.scrollLeft,g=l.scrollTop;p&&(l.scrollTop+=p),h&&(l.scrollLeft+=h);let y=l.scrollLeft-v,x=l.scrollTop-g;e={left:e.left-y,top:e.top-x,right:e.right-y,bottom:e.bottom-x}}if(c)break}}function $R(r){let e=r.dom.getBoundingClientRect(),t=Math.max(0,e.top),n,i;for(let a=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=r.root.elementFromPoint(a,o);if(!l||l==r.dom||!r.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=t-20){n=l,i=c.top;break}}return{refDOM:n,refTop:i,stack:BC(r.dom)}}function BC(r){let e=[],t=r.ownerDocument;for(let n=r;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),r!=t);n=ys(n));return e}function UR({refDOM:r,refTop:e,stack:t}){let n=r?r.getBoundingClientRect().top:0;FC(t,n==0?0:n-e)}function FC(r,e){for(let t=0;t<r.length;t++){let{dom:n,top:i,left:a}=r[t];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=a&&(n.scrollLeft=a)}}let Da=null;function zR(r){if(r.setActive)return r.setActive();if(Da)return r.focus(Da);let e=BC(r);r.focus(Da==null?{get preventScroll(){return Da={preventScroll:!0},!0}}:void 0),Da||(Da=!1,FC(e,0))}function HC(r,e){let t,n=2e8,i,a=0,o=e.top,l=e.top;for(let c=r.firstChild,f=0;c;c=c.nextSibling,f++){let h;if(c.nodeType==1)h=c.getClientRects();else if(c.nodeType==3)h=Sn(c).getClientRects();else continue;for(let p=0;p<h.length;p++){let v=h[p];if(v.top<=o&&v.bottom>=l){o=Math.max(v.bottom,o),l=Math.min(v.top,l);let g=v.left>e.left?v.left-e.left:v.right<e.left?e.left-v.right:0;if(g<n){t=c,n=g,i=g&&t.nodeType==3?{left:v.right<e.left?v.right:v.left,top:e.top}:e,c.nodeType==1&&g&&(a=f+(e.left>=(v.left+v.right)/2?1:0));continue}}!t&&(e.left>=v.right&&e.top>=v.top||e.left>=v.left&&e.top>=v.bottom)&&(a=f+1)}}return t&&t.nodeType==3?VR(t,i):!t||n&&t.nodeType==1?{node:r,offset:a}:HC(t,i)}function VR(r,e){let t=r.nodeValue.length,n=document.createRange();for(let i=0;i<t;i++){n.setEnd(r,i+1),n.setStart(r,i);let a=ei(n,1);if(a.top!=a.bottom&&Ep(e,a))return{node:r,offset:i+(e.left>=(a.left+a.right)/2?1:0)}}return{node:r,offset:0}}function Ep(r,e){return r.left>=e.left-1&&r.left<=e.right+1&&r.top>=e.top-1&&r.top<=e.bottom+1}function WR(r,e){let t=r.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<r.getBoundingClientRect().left?t:r}function jR(r,e,t){let{node:n,offset:i}=HC(e,t),a=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();a=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return r.docView.posFromDOM(n,i,a)}function GR(r,e,t,n){let i=-1;for(let a=e;a!=r.dom;){let o=r.docView.nearestDesc(a,!0);if(!o)return null;if(o.node.isBlock&&o.parent){let l=o.dom.getBoundingClientRect();if(l.left>n.left||l.top>n.top)i=o.posBefore;else if(l.right<n.left||l.bottom<n.top)i=o.posAfter;else break}a=o.dom.parentNode}return i>-1?i:r.docView.posFromDOM(e,t,1)}function qC(r,e,t){let n=r.childNodes.length;if(n&&t.top<t.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-t.top)/(t.bottom-t.top))-2)),a=i;;){let o=r.childNodes[a];if(o.nodeType==1){let l=o.getClientRects();for(let c=0;c<l.length;c++){let f=l[c];if(Ep(e,f))return qC(o,e,f)}}if((a=(a+1)%n)==i)break}return r}function KR(r,e){let t=r.dom.ownerDocument,n,i=0;if(t.caretPositionFromPoint)try{let c=t.caretPositionFromPoint(e.left,e.top);c&&({offsetNode:n,offset:i}=c)}catch{}if(!n&&t.caretRangeFromPoint){let c=t.caretRangeFromPoint(e.left,e.top);c&&({startContainer:n,startOffset:i}=c)}let a=(r.root.elementFromPoint?r.root:t).elementFromPoint(e.left,e.top),o;if(!a||!r.dom.contains(a.nodeType!=1?a.parentNode:a)){let c=r.dom.getBoundingClientRect();if(!Ep(e,c)||(a=qC(r.dom,e,c),!a))return null}if(_t)for(let c=a;n&&c;c=ys(c))c.draggable&&(n=void 0);if(a=WR(a,e),n){if(Hr&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let c=n.childNodes[i],f;c.nodeName=="IMG"&&(f=c.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}n==r.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?o=r.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(o=GR(r,n,i,e))}o==null&&(o=jR(r,a,e));let l=r.docView.nearestDesc(a,!0);return{pos:o,inside:l?l.posAtStart-l.border:-1}}function ei(r,e){let t=r.getClientRects();return t.length?t[e<0?0:t.length-1]:r.getBoundingClientRect()}const JR=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function $C(r,e,t){let{node:n,offset:i,atom:a}=r.docView.domFromPos(e,t<0?-1:1),o=ac||Hr;if(n.nodeType==3)if(o&&(JR.test(n.nodeValue)||(t<0?!i:i==n.nodeValue.length))){let c=ei(Sn(n,i,i),t);if(Hr&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let f=ei(Sn(n,i-1,i-1),-1);if(f.top==c.top){let h=ei(Sn(n,i,i+1),-1);if(h.top!=c.top)return Go(h,h.left<f.left)}}return c}else{let c=i,f=i,h=t<0?1:-1;return t<0&&!i?(f++,h=-1):t>=0&&i==n.nodeValue.length?(c--,h=1):t<0?c--:f++,Go(ei(Sn(n,c,f),1),h<0)}if(!r.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&i&&(t<0||i==Qr(n))){let c=n.childNodes[i-1];if(c.nodeType==1)return pd(c.getBoundingClientRect(),!1)}if(a==null&&i<Qr(n)){let c=n.childNodes[i];if(c.nodeType==1)return pd(c.getBoundingClientRect(),!0)}return pd(n.getBoundingClientRect(),t>=0)}if(a==null&&i&&(t<0||i==Qr(n))){let c=n.childNodes[i-1],f=c.nodeType==3?Sn(c,Qr(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(f)return Go(ei(f,1),!1)}if(a==null&&i<Qr(n)){let c=n.childNodes[i];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let f=c?c.nodeType==3?Sn(c,0,o?0:1):c.nodeType==1?c:null:null;if(f)return Go(ei(f,-1),!0)}return Go(ei(n.nodeType==3?Sn(n):n,-t),t>=0)}function Go(r,e){if(r.width==0)return r;let t=e?r.left:r.right;return{top:r.top,bottom:r.bottom,left:t,right:t}}function pd(r,e){if(r.height==0)return r;let t=e?r.top:r.bottom;return{top:t,bottom:t,left:r.left,right:r.right}}function UC(r,e,t){let n=r.state,i=r.root.activeElement;n!=e&&r.updateState(e),i!=r.dom&&r.focus();try{return t()}finally{n!=e&&r.updateState(n),i!=r.dom&&i&&i.focus()}}function XR(r,e,t){let n=e.selection,i=t=="up"?n.$from:n.$to;return UC(r,e,()=>{let{node:a}=r.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let l=r.docView.nearestDesc(a,!0);if(!l)break;if(l.node.isBlock){a=l.dom;break}a=l.dom.parentNode}let o=$C(r,i.pos,1);for(let l=a.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=Sn(l,0,l.nodeValue.length).getClientRects();else continue;for(let f=0;f<c.length;f++){let h=c[f];if(h.bottom>h.top+1&&(t=="up"?o.top-h.top>(h.bottom-o.top)*2:h.bottom-o.bottom>(o.bottom-h.top)*2))return!1}}return!0})}const YR=/[\u0590-\u08ac]/;function ZR(r,e,t){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,a=!i,o=i==n.parent.content.size,l=r.domSelection();return!YR.test(n.parent.textContent)||!l.modify?t=="left"||t=="backward"?a:o:UC(r,e,()=>{let{focusNode:c,focusOffset:f,anchorNode:h,anchorOffset:p}=r.domSelectionRange(),v=l.caretBidiLevel;l.modify("move",t,"character");let g=n.depth?r.docView.domAfterPos(n.before()):r.dom,{focusNode:y,focusOffset:x}=r.domSelectionRange(),T=y&&!g.contains(y.nodeType==1?y:y.parentNode)||c==y&&f==x;try{l.collapse(h,p),c&&(c!=h||f!=p)&&l.extend&&l.extend(c,f)}catch{}return v!=null&&(l.caretBidiLevel=v),T})}let By=null,Fy=null,Hy=!1;function QR(r,e,t){return By==e&&Fy==t?Hy:(By=e,Fy=t,Hy=t=="up"||t=="down"?XR(r,e,t):ZR(r,e,t))}const Rr=0,qy=1,qa=2,an=3;class Os{constructor(e,t,n,i){this.parent=e,this.children=t,this.dom=n,this.contentDOM=i,this.dirty=Rr,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let i=this.children[t];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let a,o;if(e==this.contentDOM)a=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(o)+o.size:this.posAtStart}else{let a,o;if(e==this.contentDOM)a=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>er(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!1;break}if(a.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!0;break}if(a.nextSibling)break}}return(i==null?n>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,i=e;i;i=i.parentNode){let a=this.getDesc(i),o;if(a&&(!t||a.node))if(n&&(o=a.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return a}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let i=e;i;i=i.parentNode){let a=this.getDesc(i);if(a)return a.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let i=this.children[t],a=n+i.size;if(n==e&&a!=n){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<a)return i.descAt(e-n-i.border);n=a}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let a=0;n<this.children.length;n++){let o=this.children[n],l=a+o.size;if(l>e||o instanceof VC){i=e-a;break}a=l}if(i)return this.children[n].domFromPos(i-this.children[n].border,t);for(let a;n&&!(a=this.children[n-1]).size&&a instanceof zC&&a.side>=0;n--);if(t<=0){let a,o=!0;for(;a=n?this.children[n-1]:null,!(!a||a.dom.parentNode==this.contentDOM);n--,o=!1);return a&&t&&o&&!a.border&&!a.domAtom?a.domFromPos(a.size,t):{node:this.contentDOM,offset:a?er(a.dom)+1:0}}else{let a,o=!0;for(;a=n<this.children.length?this.children[n]:null,!(!a||a.dom.parentNode==this.contentDOM);n++,o=!1);return a&&o&&!a.border&&!a.domAtom?a.domFromPos(0,t):{node:this.contentDOM,offset:a?er(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,a=-1;for(let o=n,l=0;;l++){let c=this.children[l],f=o+c.size;if(i==-1&&e<=f){let h=o+c.border;if(e>=h&&t<=f-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,t,h);e=o;for(let p=l;p>0;p--){let v=this.children[p-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){i=er(v.dom)+1;break}e-=v.size}i==-1&&(i=0)}if(i>-1&&(f>t||l==this.children.length-1)){t=f;for(let h=l+1;h<this.children.length;h++){let p=this.children[h];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){a=er(p.dom);break}t+=p.size}a==-1&&(a=this.contentDOM.childNodes.length);break}o=f}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(t.nodeType!=1||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,i=!1){let a=Math.min(e,t),o=Math.max(e,t);for(let v=0,g=0;v<this.children.length;v++){let y=this.children[v],x=g+y.size;if(a>g&&o<x)return y.setSelection(e-g-y.border,t-g-y.border,n,i);g=x}let l=this.domFromPos(e,e?-1:1),c=t==e?l:this.domFromPos(t,t?-1:1),f=n.getSelection(),h=!1;if((Hr||_t)&&e==t){let{node:v,offset:g}=l;if(v.nodeType==3){if(h=!!(g&&v.nodeValue[g-1]==`
`),h&&g==v.nodeValue.length)for(let y=v,x;y;y=y.parentNode){if(x=y.nextSibling){x.nodeName=="BR"&&(l=c={node:x.parentNode,offset:er(x)+1});break}let T=y.pmViewDesc;if(T&&T.node&&T.node.isBlock)break}}else{let y=v.childNodes[g-1];h=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(Hr&&f.focusNode&&f.focusNode!=c.node&&f.focusNode.nodeType==1){let v=f.focusNode.childNodes[f.focusOffset];v&&v.contentEditable=="false"&&(i=!0)}if(!(i||h&&_t)&&ra(l.node,l.offset,f.anchorNode,f.anchorOffset)&&ra(c.node,c.offset,f.focusNode,f.focusOffset))return;let p=!1;if((f.extend||e==t)&&!h){f.collapse(l.node,l.offset);try{e!=t&&f.extend(c.node,c.offset),p=!0}catch{}}if(!p){if(e>t){let g=l;l=c,c=g}let v=document.createRange();v.setEnd(c.node,c.offset),v.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,i=0;i<this.children.length;i++){let a=this.children[i],o=n+a.size;if(n==o?e<=o&&t>=n:e<o&&t>n){let l=n+a.border,c=o-a.border;if(e>=l&&t<=c){this.dirty=e==n||t==o?qa:qy,e==l&&t==c&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=an:a.markDirty(e-l,t-l);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?qa:an}n=o}this.dirty=qa}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=e==1?qa:qy;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class zC extends Os{constructor(e,t,n,i){let a,o=t.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!a)return i;if(a.parent)return a.parent.posBeforeChild(a)})),!t.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,a=this}matchesWidget(e){return this.dirty==Rr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class eP extends Os{constructor(e,t,n,i){super(e,[],t,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class na extends Os{constructor(e,t,n,i){super(e,[],n,i),this.mark=t}static create(e,t,n,i){let a=i.nodeViews[t.type.name],o=a&&a(t,i,n);return(!o||!o.dom)&&(o=An.renderSpec(document,t.type.spec.toDOM(t,n))),new na(e,t,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&an||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=an&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Rr){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Rr}}slice(e,t,n){let i=na.create(this.parent,this.mark,!0,n),a=this.children,o=this.size;t<o&&(a=bh(a,t,o,n)),e>0&&(a=bh(a,0,e,n));for(let l=0;l<a.length;l++)a[l].parent=i;return i.children=a,i}}class ia extends Os{constructor(e,t,n,i,a,o,l,c,f){super(e,[],a,o),this.node=t,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=l,o&&this.updateChildren(c,f)}static create(e,t,n,i,a,o){let l=a.nodeViews[t.type.name],c,f=l&&l(t,a,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},n,i),h=f&&f.dom,p=f&&f.contentDOM;if(t.isText){if(!h)h=document.createTextNode(t.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||({dom:h,contentDOM:p}=An.renderSpec(document,t.type.spec.toDOM(t)));!p&&!t.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),t.type.spec.draggable&&(h.draggable=!0));let v=h;return h=GC(h,n,t),f?c=new tP(e,t,n,i,h,p||null,v,f,a,o+1):t.isText?new oc(e,t,n,i,h,v,a):new ia(e,t,n,i,h,p||null,v,a,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>q.empty)}return e}matchesNode(e,t,n){return this.dirty==Rr&&e.eq(this.node)&&yh(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,i=t,a=e.composing?this.localCompositionInfo(e,t):null,o=a&&a.pos>-1?a:null,l=a&&a.pos<0,c=new nP(this,o&&o.node,e);oP(this.node,this.innerDeco,(f,h,p)=>{f.spec.marks?c.syncToMarks(f.spec.marks,n,e):f.type.side>=0&&!p&&c.syncToMarks(h==this.node.childCount?ve.none:this.node.child(h).marks,n,e),c.placeWidget(f,e,i)},(f,h,p,v)=>{c.syncToMarks(f.marks,n,e);let g;c.findNodeMatch(f,h,p,v)||l&&e.state.selection.from>i&&e.state.selection.to<i+f.nodeSize&&(g=c.findIndexWithChild(a.node))>-1&&c.updateNodeAt(f,h,p,g,e)||c.updateNextNode(f,h,p,e,v)||c.addNode(f,h,p,e,i),i+=f.nodeSize}),c.syncToMarks([],n,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==qa)&&(o&&this.protectLocalComposition(e,o),WC(this.contentDOM,this.children,e),to&&sP(this.dom))}localCompositionInfo(e,t){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof ye)||n<t||i>t+this.node.content.size)return null;let a=e.domSelectionRange(),o=lP(a.focusNode,a.focusOffset);if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let l=o.nodeValue,c=uP(this.node.content,l,n-t,i-t);return c<0?null:{node:o,pos:c,text:l}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:i}){if(this.getDesc(t))return;let a=t;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let o=new eP(this,a,t,i);e.input.compositionNodes.push(o),this.children=bh(this.children,n,n+i.length,e,o)}update(e,t,n,i){return this.dirty==an||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,n,i),!0)}updateInner(e,t,n,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Rr}updateOuterDeco(e){if(yh(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=jC(this.dom,this.nodeDOM,gh(this.outerDeco,this.node,t),gh(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function $y(r,e,t,n,i){return GC(n,e,r),new ia(void 0,r,e,t,n,n,n,i,0)}class oc extends ia{constructor(e,t,n,i,a,o,l){super(e,t,n,i,a,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,i){return this.dirty==an||this.dirty!=Rr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Rr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Rr,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,n){let i=this.node.cut(e,t),a=document.createTextNode(i.text);return new oc(this.parent,i,this.outerDeco,this.innerDeco,a,a,n)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=an)}get domAtom(){return!1}}class VC extends Os{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Rr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class tP extends ia{constructor(e,t,n,i,a,o,l,c,f,h){super(e,t,n,i,a,o,l,f,h),this.spec=c}update(e,t,n,i){if(this.dirty==an)return!1;if(this.spec.update){let a=this.spec.update(e,t,n);return a&&this.updateInner(e,t,n,i),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,i){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function WC(r,e,t){let n=r.firstChild,i=!1;for(let a=0;a<e.length;a++){let o=e[a],l=o.dom;if(l.parentNode==r){for(;l!=n;)n=Uy(n),i=!0;n=n.nextSibling}else i=!0,r.insertBefore(l,n);if(o instanceof na){let c=n?n.previousSibling:r.lastChild;WC(o.contentDOM,o.children,t),n=c?c.nextSibling:r.firstChild}}for(;n;)n=Uy(n),i=!0;i&&t.trackWrites==r&&(t.trackWrites=null)}const fs=function(r){r&&(this.nodeName=r)};fs.prototype=Object.create(null);const Vi=[new fs];function gh(r,e,t){if(r.length==0)return Vi;let n=t?Vi[0]:new fs,i=[n];for(let a=0;a<r.length;a++){let o=r[a].type.attrs;if(!!o){o.nodeName&&i.push(n=new fs(o.nodeName));for(let l in o){let c=o[l];c!=null&&(t&&i.length==1&&i.push(n=new fs(e.isInline?"span":"div")),l=="class"?n.class=(n.class?n.class+" ":"")+c:l=="style"?n.style=(n.style?n.style+";":"")+c:l!="nodeName"&&(n[l]=c))}}}return i}function jC(r,e,t,n){if(t==Vi&&n==Vi)return e;let i=e;for(let a=0;a<n.length;a++){let o=n[a],l=t[a];if(a){let c;l&&l.nodeName==o.nodeName&&i!=r&&(c=i.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(i),l=Vi[0]),i=c}rP(i,l||Vi[0],o)}return i}function rP(r,e,t){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in t)&&r.removeAttribute(n);for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&t[n]!=e[n]&&r.setAttribute(n,t[n]);if(e.class!=t.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let a=0;a<n.length;a++)i.indexOf(n[a])==-1&&r.classList.remove(n[a]);for(let a=0;a<i.length;a++)n.indexOf(i[a])==-1&&r.classList.add(i[a]);r.classList.length==0&&r.removeAttribute("class")}if(e.style!=t.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)r.style.removeProperty(i[1])}t.style&&(r.style.cssText+=t.style)}}function GC(r,e,t){return jC(r,r,Vi,gh(e,t,r.nodeType!=1))}function yh(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].type.eq(e[t].type))return!1;return!0}function Uy(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class nP{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=iP(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let i=0,a=this.stack.length>>1,o=Math.min(a,e.length);for(;i<o&&(i==a-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<a;)this.destroyRest(),this.top.dirty=Rr,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++)if(this.top.children[c].matchesMark(e[a])){l=c;break}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=na.create(this.top,e[a],t,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,a++}}findNodeMatch(e,t,n,i){let a=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))a=this.top.children.indexOf(o,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let f=this.top.children[l];if(f.matchesNode(e,t,n)&&!this.preMatch.matched.has(f)){a=l;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,t,n,i,a){let o=this.top.children[i];return o.dirty==an&&o.dom==o.contentDOM&&(o.dirty=qa),o.update(e,t,n,a)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=t}}updateNextNode(e,t,n,i,a){for(let o=this.index;o<this.top.children.length;o++){let l=this.top.children[o];if(l instanceof ia){let c=this.preMatch.matched.get(l);if(c!=null&&c!=a)return!1;let f=l.dom;if(!(this.lock&&(f==this.lock||f.nodeType==1&&f.contains(this.lock.parentNode))&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=an&&yh(t,l.outerDeco)))&&l.update(e,t,n,i))return this.destroyBetween(this.index,o),l.dom!=f&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,t,n,i,a){this.top.children.splice(this.index++,0,ia.create(this.top,e,t,n,i,a)),this.changed=!0}placeWidget(e,t,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let a=new zC(this.top,e,t,n);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof na;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof oc)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((_t||Ht)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new VC(this.top,[],n,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}}function iP(r,e){let t=e,n=t.children.length,i=r.childCount,a=new Map,o=[];e:for(;i>0;){let l;for(;;)if(n){let f=t.children[n-1];if(f instanceof na)t=f,n=f.children.length;else{l=f,n--;break}}else{if(t==e)break e;n=t.parent.children.indexOf(t),t=t.parent}let c=l.node;if(!!c){if(c!=r.child(i-1))break;--i,a.set(l,i),o.push(l)}}return{index:i,matched:a,matches:o.reverse()}}function aP(r,e){return r.type.side-e.type.side}function oP(r,e,t,n){let i=e.locals(r),a=0;if(i.length==0){for(let f=0;f<r.childCount;f++){let h=r.child(f);n(h,i,e.forChild(a,h),f),a+=h.nodeSize}return}let o=0,l=[],c=null;for(let f=0;;){if(o<i.length&&i[o].to==a){let y=i[o++],x;for(;o<i.length&&i[o].to==a;)(x||(x=[y])).push(i[o++]);if(x){x.sort(aP);for(let T=0;T<x.length;T++)t(x[T],f,!!c)}else t(y,f,!!c)}let h,p;if(c)p=-1,h=c,c=null;else if(f<r.childCount)p=f,h=r.child(f++);else break;for(let y=0;y<l.length;y++)l[y].to<=a&&l.splice(y--,1);for(;o<i.length&&i[o].from<=a&&i[o].to>a;)l.push(i[o++]);let v=a+h.nodeSize;if(h.isText){let y=v;o<i.length&&i[o].from<y&&(y=i[o].from);for(let x=0;x<l.length;x++)l[x].to<y&&(y=l[x].to);y<v&&(c=h.cut(y-a),h=h.cut(0,y-a),v=y,p=-1)}let g=h.isInline&&!h.isLeaf?l.filter(y=>!y.inline):l.slice();n(h,g,e.forChild(a,h),p),a=v}}function sP(r){if(r.nodeName=="UL"||r.nodeName=="OL"){let e=r.style.cssText;r.style.cssText=e+"; list-style: square !important",window.getComputedStyle(r).listStyle,r.style.cssText=e}}function lP(r,e){for(;;){if(r.nodeType==3)return r;if(r.nodeType==1&&e>0){if(r.childNodes.length>e&&r.childNodes[e].nodeType==3)return r.childNodes[e];r=r.childNodes[e-1],e=Qr(r)}else if(r.nodeType==1&&e<r.childNodes.length)r=r.childNodes[e],e=0;else return null}}function uP(r,e,t,n){for(let i=0,a=0;i<r.childCount&&a<=n;){let o=r.child(i++),l=a;if(a+=o.nodeSize,!o.isText)continue;let c=o.text;for(;i<r.childCount;){let f=r.child(i++);if(a+=f.nodeSize,!f.isText)break;c+=f.text}if(a>=t){let f=l<n?c.lastIndexOf(e,n-l-1):-1;if(f>=0&&f+e.length+l>=t)return l+f;if(t==n&&c.length>=n+e.length-l&&c.slice(n-l,n-l+e.length)==e)return n}}return-1}function bh(r,e,t,n,i){let a=[];for(let o=0,l=0;o<r.length;o++){let c=r[o],f=l,h=l+=c.size;f>=t||h<=e?a.push(c):(f<e&&a.push(c.slice(0,e-f,n)),i&&(a.push(i),i=void 0),h>t&&a.push(c.slice(t-f,c.size,n)))}return a}function Sp(r,e=null){let t=r.domSelectionRange(),n=r.state.doc;if(!t.focusNode)return null;let i=r.docView.nearestDesc(t.focusNode),a=i&&i.size==0,o=r.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let l=n.resolve(o),c,f;if(ic(t)){for(c=l;i&&!i.node;)i=i.parent;let h=i.node;if(i&&h.isAtom&&ie.isSelectable(h)&&i.parent&&!(h.isInline&&IR(t.focusNode,t.focusOffset,i.dom))){let p=i.posBefore;f=new ie(o==p?l:n.resolve(p))}}else{let h=r.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(h<0)return null;c=n.resolve(h)}if(!f){let h=e=="pointer"||r.state.selection.head<l.pos&&!a?1:-1;f=Mp(r,c,l,h)}return f}function KC(r){return r.editable?r.hasFocus():XC(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function Ln(r,e=!1){let t=r.state.selection;if(JC(r,t),!!KC(r)){if(!e&&r.input.mouseDown&&r.input.mouseDown.allowDefault&&Ht){let n=r.domSelectionRange(),i=r.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&ra(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){r.input.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)fP(r);else{let{anchor:n,head:i}=t,a,o;zy&&!(t instanceof ye)&&(t.$from.parent.inlineContent||(a=Vy(r,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=Vy(r,t.to))),r.docView.setSelection(n,i,r.root,e),zy&&(a&&Wy(a),o&&Wy(o)),t.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&cP(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}const zy=_t||Ht&&BR<63;function Vy(r,e){let{node:t,offset:n}=r.docView.domFromPos(e,0),i=n<t.childNodes.length?t.childNodes[n]:null,a=n?t.childNodes[n-1]:null;if(_t&&i&&i.contentEditable=="false")return vd(i);if((!i||i.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(i)return vd(i);if(a)return vd(a)}}function vd(r){return r.contentEditable="true",_t&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function Wy(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function cP(r){let e=r.dom.ownerDocument;e.removeEventListener("selectionchange",r.input.hideSelectionGuard);let t=r.domSelectionRange(),n=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(t.anchorNode!=n||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!KC(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function fP(r){let e=r.domSelection(),t=document.createRange(),n=r.cursorWrapper.dom,i=n.nodeName=="IMG";i?t.setEnd(n.parentNode,er(n)+1):t.setEnd(n,0),t.collapse(!1),e.removeAllRanges(),e.addRange(t),!i&&!r.state.selection.visible&&$t&&ui<=11&&(n.disabled=!0,n.disabled=!1)}function JC(r,e){if(e instanceof ie){let t=r.docView.descAt(e.from);t!=r.lastSelectedViewDesc&&(jy(r),t&&t.selectNode(),r.lastSelectedViewDesc=t)}else jy(r)}function jy(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=void 0)}function Mp(r,e,t,n){return r.someProp("createSelectionBetween",i=>i(r,e,t))||ye.between(e,t,n)}function Gy(r){return r.editable&&!r.hasFocus()?!1:XC(r)}function XC(r){let e=r.domSelectionRange();if(!e.anchorNode)return!1;try{return r.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(r.editable||r.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function dP(r){let e=r.docView.domFromPos(r.state.selection.anchor,0),t=r.domSelectionRange();return ra(e.node,e.offset,t.anchorNode,t.anchorOffset)}function wh(r,e){let{$anchor:t,$head:n}=r.selection,i=e>0?t.max(n):t.min(n),a=i.parent.inlineContent?i.depth?r.doc.resolve(e>0?i.after():i.before()):null:i;return a&&he.findFrom(a,e)}function Ui(r,e){return r.dispatch(r.state.tr.setSelection(e).scrollIntoView()),!0}function Ky(r,e,t){let n=r.state.selection;if(n instanceof ye){if(!n.empty||t.indexOf("s")>-1)return!1;if(r.endOfTextblock(e>0?"right":"left")){let i=wh(r.state,e);return i&&i instanceof ie?Ui(r,i):!1}else if(!(gr&&t.indexOf("m")>-1)){let i=n.$head,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!a||a.isText)return!1;let l=e<0?i.pos-a.nodeSize:i.pos;return a.isAtom||(o=r.docView.descAt(l))&&!o.contentDOM?ie.isSelectable(a)?Ui(r,new ie(e<0?r.state.doc.resolve(i.pos-a.nodeSize):i)):ac?Ui(r,new ye(r.state.doc.resolve(e<0?l:l+a.nodeSize))):!1:!1}}else{if(n instanceof ie&&n.node.isInline)return Ui(r,new ye(e>0?n.$to:n.$from));{let i=wh(r.state,e);return i?Ui(r,i):!1}}}function pu(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function ds(r){let e=r.pmViewDesc;return e&&e.size==0&&(r.nextSibling||r.nodeName!="BR")}function md(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let i,a,o=!1;for(Hr&&t.nodeType==1&&n<pu(t)&&ds(t.childNodes[n])&&(o=!0);;)if(n>0){if(t.nodeType!=1)break;{let l=t.childNodes[n-1];if(ds(l))i=t,a=--n;else if(l.nodeType==3)t=l,n=t.nodeValue.length;else break}}else{if(YC(t))break;{let l=t.previousSibling;for(;l&&ds(l);)i=t.parentNode,a=er(l),l=l.previousSibling;if(l)t=l,n=pu(t);else{if(t=t.parentNode,t==r.dom)break;n=0}}}o?Ch(r,t,n):i&&Ch(r,i,a)}function gd(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let i=pu(t),a,o;for(;;)if(n<i){if(t.nodeType!=1)break;let l=t.childNodes[n];if(ds(l))a=t,o=++n;else break}else{if(YC(t))break;{let l=t.nextSibling;for(;l&&ds(l);)a=l.parentNode,o=er(l)+1,l=l.nextSibling;if(l)t=l,n=0,i=pu(t);else{if(t=t.parentNode,t==r.dom)break;n=i=0}}}a&&Ch(r,a,o)}function YC(r){let e=r.pmViewDesc;return e&&e.node&&e.node.isBlock}function Ch(r,e,t){let n=r.domSelection();if(ic(n)){let a=document.createRange();a.setEnd(e,t),a.setStart(e,t),n.removeAllRanges(),n.addRange(a)}else n.extend&&n.extend(e,t);r.domObserver.setCurSelection();let{state:i}=r;setTimeout(()=>{r.state==i&&Ln(r)},50)}function Jy(r,e,t){let n=r.state.selection;if(n instanceof ye&&!n.empty||t.indexOf("s")>-1||gr&&t.indexOf("m")>-1)return!1;let{$from:i,$to:a}=n;if(!i.parent.inlineContent||r.endOfTextblock(e<0?"up":"down")){let o=wh(r.state,e);if(o&&o instanceof ie)return Ui(r,o)}if(!i.parent.inlineContent){let o=e<0?i:a,l=n instanceof At?he.near(o,e):he.findFrom(o,e);return l?Ui(r,l):!1}return!1}function Xy(r,e){if(!(r.state.selection instanceof ye))return!0;let{$head:t,$anchor:n,empty:i}=r.state.selection;if(!t.sameParent(n))return!0;if(!i)return!1;if(r.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(a&&!a.isText){let o=r.state.tr;return e<0?o.delete(t.pos-a.nodeSize,t.pos):o.delete(t.pos,t.pos+a.nodeSize),r.dispatch(o),!0}return!1}function Yy(r,e,t){r.domObserver.stop(),e.contentEditable=t,r.domObserver.start()}function hP(r){if(!_t||r.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=r.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;Yy(r,n,"true"),setTimeout(()=>Yy(r,n,"false"),20)}return!1}function pP(r){let e="";return r.ctrlKey&&(e+="c"),r.metaKey&&(e+="m"),r.altKey&&(e+="a"),r.shiftKey&&(e+="s"),e}function vP(r,e){let t=e.keyCode,n=pP(e);return t==8||gr&&t==72&&n=="c"?Xy(r,-1)||md(r):t==46||gr&&t==68&&n=="c"?Xy(r,1)||gd(r):t==13||t==27?!0:t==37||gr&&t==66&&n=="c"?Ky(r,-1,n)||md(r):t==39||gr&&t==70&&n=="c"?Ky(r,1,n)||gd(r):t==38||gr&&t==80&&n=="c"?Jy(r,-1,n)||md(r):t==40||gr&&t==78&&n=="c"?hP(r)||Jy(r,1,n)||gd(r):n==(gr?"m":"c")&&(t==66||t==73||t==89||t==90)}function ZC(r,e){r.someProp("transformCopied",g=>{e=g(e,r)});let t=[],{content:n,openStart:i,openEnd:a}=e;for(;i>1&&a>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,a--;let g=n.firstChild;t.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),n=g.content}let o=r.someProp("clipboardSerializer")||An.fromSchema(r.state.schema),l=ix(),c=l.createElement("div");c.appendChild(o.serializeFragment(n,{document:l}));let f=c.firstChild,h,p=0;for(;f&&f.nodeType==1&&(h=nx[f.nodeName.toLowerCase()]);){for(let g=h.length-1;g>=0;g--){let y=l.createElement(h[g]);for(;c.firstChild;)y.appendChild(c.firstChild);c.appendChild(y),p++}f=c.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${a}${p?` -${p}`:""} ${JSON.stringify(t)}`);let v=r.someProp("clipboardTextSerializer",g=>g(e,r))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:v}}function QC(r,e,t,n,i){let a=i.parent.type.spec.code,o,l;if(!t&&!e)return null;let c=e&&(n||a||!t);if(c){if(r.someProp("transformPastedText",v=>{e=v(e,a||n,r)}),a)return e?new W(q.from(r.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):W.empty;let p=r.someProp("clipboardTextParser",v=>v(e,i,n,r));if(p)l=p;else{let v=i.marks(),{schema:g}=r.state,y=An.fromSchema(g);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(x=>{let T=o.appendChild(document.createElement("p"));x&&T.appendChild(y.serializeNode(g.text(x,v)))})}}else r.someProp("transformPastedHTML",p=>{t=p(t,r)}),o=yP(t),ac&&bP(o);let f=o&&o.querySelector("[data-pm-slice]"),h=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let p=+h[3];p>0;p--){let v=o.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;o=v}if(l||(l=(r.someProp("clipboardParser")||r.someProp("domParser")||ta.fromSchema(r.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||h),context:i,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!mP.test(v.parentNode.nodeName)?{ignore:!0}:null}})),h)l=wP(Zy(l,+h[1],+h[2]),h[4]);else if(l=W.maxOpen(gP(l.content,i),!0),l.openStart||l.openEnd){let p=0,v=0;for(let g=l.content.firstChild;p<l.openStart&&!g.type.spec.isolating;p++,g=g.firstChild);for(let g=l.content.lastChild;v<l.openEnd&&!g.type.spec.isolating;v++,g=g.lastChild);l=Zy(l,p,v)}return r.someProp("transformPasted",p=>{l=p(l,r)}),l}const mP=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function gP(r,e){if(r.childCount<2)return r;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),a,o=[];if(r.forEach(l=>{if(!o)return;let c=i.findWrapping(l.type),f;if(!c)return o=null;if(f=o.length&&a.length&&tx(c,a,l,o[o.length-1],0))o[o.length-1]=f;else{o.length&&(o[o.length-1]=rx(o[o.length-1],a.length));let h=ex(l,c);o.push(h),i=i.matchType(h.type),a=c}}),o)return q.from(o)}return r}function ex(r,e,t=0){for(let n=e.length-1;n>=t;n--)r=e[n].create(null,q.from(r));return r}function tx(r,e,t,n,i){if(i<r.length&&i<e.length&&r[i]==e[i]){let a=tx(r,e,t,n.lastChild,i+1);if(a)return n.copy(n.content.replaceChild(n.childCount-1,a));if(n.contentMatchAt(n.childCount).matchType(i==r.length-1?t.type:r[i+1]))return n.copy(n.content.append(q.from(ex(t,r,i+1))))}}function rx(r,e){if(e==0)return r;let t=r.content.replaceChild(r.childCount-1,rx(r.lastChild,e-1)),n=r.contentMatchAt(r.childCount).fillBefore(q.empty,!0);return r.copy(t.append(n))}function xh(r,e,t,n,i,a){let o=e<0?r.firstChild:r.lastChild,l=o.content;return i<n-1&&(l=xh(l,e,t,n,i+1,a)),i>=t&&(l=e<0?o.contentMatchAt(0).fillBefore(l,r.childCount>1||a<=i).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(q.empty,!0))),r.replaceChild(e<0?0:r.childCount-1,o.copy(l))}function Zy(r,e,t){return e<r.openStart&&(r=new W(xh(r.content,-1,e,r.openStart,0,r.openEnd),e,r.openEnd)),t<r.openEnd&&(r=new W(xh(r.content,1,t,r.openEnd,0,0),r.openStart,t)),r}const nx={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Qy=null;function ix(){return Qy||(Qy=document.implementation.createHTMLDocument("title"))}function yP(r){let e=/^(\s*<meta [^>]*>)*/.exec(r);e&&(r=r.slice(e[0].length));let t=ix().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(r),i;if((i=n&&nx[n[1].toLowerCase()])&&(r=i.map(a=>"<"+a+">").join("")+r+i.map(a=>"</"+a+">").reverse().join("")),t.innerHTML=r,i)for(let a=0;a<i.length;a++)t=t.querySelector(i[a])||t;return t}function bP(r){let e=r.querySelectorAll(Ht?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let n=e[t];n.childNodes.length==1&&n.textContent=="\xA0"&&n.parentNode&&n.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),n)}}function wP(r,e){if(!r.size)return r;let t=r.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return r}let{content:i,openStart:a,openEnd:o}=r;for(let l=n.length-2;l>=0;l-=2){let c=t.nodes[n[l]];if(!c||c.hasRequiredAttrs())break;i=q.from(c.create(n[l+1],i)),a++,o++}return new W(i,a,o)}const Lt={},Dt={},CP={touchstart:!0,touchmove:!0};class xP{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function TP(r){for(let e in Lt){let t=Lt[e];r.dom.addEventListener(e,r.input.eventHandlers[e]=n=>{EP(r,n)&&!Op(r,n)&&(r.editable||!(n.type in Dt))&&t(r,n)},CP[e]?{passive:!0}:void 0)}_t&&r.dom.addEventListener("input",()=>null),Th(r)}function li(r,e){r.input.lastSelectionOrigin=e,r.input.lastSelectionTime=Date.now()}function kP(r){r.domObserver.stop();for(let e in r.input.eventHandlers)r.dom.removeEventListener(e,r.input.eventHandlers[e]);clearTimeout(r.input.composingTimeout),clearTimeout(r.input.lastIOSEnterFallbackTimeout)}function Th(r){r.someProp("handleDOMEvents",e=>{for(let t in e)r.input.eventHandlers[t]||r.dom.addEventListener(t,r.input.eventHandlers[t]=n=>Op(r,n))})}function Op(r,e){return r.someProp("handleDOMEvents",t=>{let n=t[e.type];return n?n(r,e)||e.defaultPrevented:!1})}function EP(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=r.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function SP(r,e){!Op(r,e)&&Lt[e.type]&&(r.editable||!(e.type in Dt))&&Lt[e.type](r,e)}Dt.keydown=(r,e)=>{let t=e;if(r.input.shiftKey=t.keyCode==16||t.shiftKey,!ox(r,t)&&(r.input.lastKeyCode=t.keyCode,r.input.lastKeyCodeTime=Date.now(),!(en&&Ht&&t.keyCode==13)))if(t.keyCode!=229&&r.domObserver.forceFlush(),to&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let n=Date.now();r.input.lastIOSEnter=n,r.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{r.input.lastIOSEnter==n&&(r.someProp("handleKeyDown",i=>i(r,Ha(13,"Enter"))),r.input.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",n=>n(r,t))||vP(r,t)?t.preventDefault():li(r,"key")};Dt.keyup=(r,e)=>{e.keyCode==16&&(r.input.shiftKey=!1)};Dt.keypress=(r,e)=>{let t=e;if(ox(r,t)||!t.charCode||t.ctrlKey&&!t.altKey||gr&&t.metaKey)return;if(r.someProp("handleKeyPress",i=>i(r,t))){t.preventDefault();return}let n=r.state.selection;if(!(n instanceof ye)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(t.charCode);r.someProp("handleTextInput",a=>a(r,n.$from.pos,n.$to.pos,i))||r.dispatch(r.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}};function sc(r){return{left:r.clientX,top:r.clientY}}function MP(r,e){let t=e.x-r.clientX,n=e.y-r.clientY;return t*t+n*n<100}function Ap(r,e,t,n,i){if(n==-1)return!1;let a=r.state.doc.resolve(n);for(let o=a.depth+1;o>0;o--)if(r.someProp(e,l=>o>a.depth?l(r,t,a.nodeAfter,a.before(o),i,!0):l(r,t,a.node(o),a.before(o),i,!1)))return!0;return!1}function Ga(r,e,t){r.focused||r.focus();let n=r.state.tr.setSelection(e);t=="pointer"&&n.setMeta("pointer",!0),r.dispatch(n)}function OP(r,e){if(e==-1)return!1;let t=r.state.doc.resolve(e),n=t.nodeAfter;return n&&n.isAtom&&ie.isSelectable(n)?(Ga(r,new ie(t),"pointer"),!0):!1}function AP(r,e){if(e==-1)return!1;let t=r.state.selection,n,i;t instanceof ie&&(n=t.node);let a=r.state.doc.resolve(e);for(let o=a.depth+1;o>0;o--){let l=o>a.depth?a.nodeAfter:a.node(o);if(ie.isSelectable(l)){n&&t.$from.depth>0&&o>=t.$from.depth&&a.before(t.$from.depth+1)==t.$from.pos?i=a.before(t.$from.depth):i=a.before(o);break}}return i!=null?(Ga(r,ie.create(r.state.doc,i),"pointer"),!0):!1}function _P(r,e,t,n,i){return Ap(r,"handleClickOn",e,t,n)||r.someProp("handleClick",a=>a(r,e,n))||(i?AP(r,t):OP(r,t))}function LP(r,e,t,n){return Ap(r,"handleDoubleClickOn",e,t,n)||r.someProp("handleDoubleClick",i=>i(r,e,n))}function DP(r,e,t,n){return Ap(r,"handleTripleClickOn",e,t,n)||r.someProp("handleTripleClick",i=>i(r,e,n))||NP(r,t,n)}function NP(r,e,t){if(t.button!=0)return!1;let n=r.state.doc;if(e==-1)return n.inlineContent?(Ga(r,ye.create(n,0,n.content.size),"pointer"),!0):!1;let i=n.resolve(e);for(let a=i.depth+1;a>0;a--){let o=a>i.depth?i.nodeAfter:i.node(a),l=i.before(a);if(o.inlineContent)Ga(r,ye.create(n,l+1,l+1+o.content.size),"pointer");else if(ie.isSelectable(o))Ga(r,ie.create(n,l),"pointer");else continue;return!0}}function _p(r){return vu(r)}const ax=gr?"metaKey":"ctrlKey";Lt.mousedown=(r,e)=>{let t=e;r.input.shiftKey=t.shiftKey;let n=_p(r),i=Date.now(),a="singleClick";i-r.input.lastClick.time<500&&MP(t,r.input.lastClick)&&!t[ax]&&(r.input.lastClick.type=="singleClick"?a="doubleClick":r.input.lastClick.type=="doubleClick"&&(a="tripleClick")),r.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:a};let o=r.posAtCoords(sc(t));!o||(a=="singleClick"?(r.input.mouseDown&&r.input.mouseDown.done(),r.input.mouseDown=new IP(r,o,t,!!n)):(a=="doubleClick"?LP:DP)(r,o.pos,o.inside,t)?t.preventDefault():li(r,"pointer"))};class IP{constructor(e,t,n,i){this.view=e,this.pos=t,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[ax],this.allowDefault=n.shiftKey;let a,o;if(t.inside>-1)a=e.state.doc.nodeAt(t.inside),o=t.inside;else{let h=e.state.doc.resolve(t.pos);a=h.parent,o=h.depth?h.before():0}const l=i?null:n.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c?c.dom:null;let{selection:f}=e.state;(n.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||f instanceof ie&&f.from<=o&&f.to>o)&&(this.mightDrag={node:a,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Hr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),li(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ln(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(sc(e))),this.updateAllowDefault(e),this.allowDefault||!t?li(this.view,"pointer"):_P(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||_t&&this.mightDrag&&!this.mightDrag.node.isAtom||Ht&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Ga(this.view,he.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):li(this.view,"pointer")}move(e){this.updateAllowDefault(e),li(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Lt.touchstart=r=>{r.input.lastTouch=Date.now(),_p(r),li(r,"pointer")};Lt.touchmove=r=>{r.input.lastTouch=Date.now(),li(r,"pointer")};Lt.contextmenu=r=>_p(r);function ox(r,e){return r.composing?!0:_t&&Math.abs(e.timeStamp-r.input.compositionEndedAt)<500?(r.input.compositionEndedAt=-2e8,!0):!1}const RP=en?5e3:-1;Dt.compositionstart=Dt.compositionupdate=r=>{if(!r.composing){r.domObserver.flush();let{state:e}=r,t=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))r.markCursor=r.state.storedMarks||t.marks(),vu(r,!0),r.markCursor=null;else if(vu(r),Hr&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let n=r.domSelectionRange();for(let i=n.focusNode,a=n.focusOffset;i&&i.nodeType==1&&a!=0;){let o=a<0?i.lastChild:i.childNodes[a-1];if(!o)break;if(o.nodeType==3){r.domSelection().collapse(o,o.nodeValue.length);break}else i=o,a=-1}}r.input.composing=!0}sx(r,RP)};Dt.compositionend=(r,e)=>{r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=e.timeStamp,sx(r,20))};function sx(r,e){clearTimeout(r.input.composingTimeout),e>-1&&(r.input.composingTimeout=setTimeout(()=>vu(r),e))}function lx(r){for(r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=PP());r.input.compositionNodes.length>0;)r.input.compositionNodes.pop().markParentsDirty()}function PP(){let r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function vu(r,e=!1){if(!(en&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),lx(r),e||r.docView&&r.docView.dirty){let t=Sp(r);return t&&!t.eq(r.state.selection)?r.dispatch(r.state.tr.setSelection(t)):r.updateState(r.state),!0}return!1}}function BP(r,e){if(!r.dom.parentNode)return;let t=r.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),r.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),r.focus()},50)}const ro=$t&&ui<15||to&&FR<604;Lt.copy=Dt.cut=(r,e)=>{let t=e,n=r.state.selection,i=t.type=="cut";if(n.empty)return;let a=ro?null:t.clipboardData,o=n.content(),{dom:l,text:c}=ZC(r,o);a?(t.preventDefault(),a.clearData(),a.setData("text/html",l.innerHTML),a.setData("text/plain",c)):BP(r,l),i&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function FP(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function HP(r,e){if(!r.dom.parentNode)return;let t=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,n=r.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{r.focus(),n.parentNode&&n.parentNode.removeChild(n),t?kh(r,n.value,null,e):kh(r,n.textContent,n.innerHTML,e)},50)}function kh(r,e,t,n){let i=QC(r,e,t,r.input.shiftKey,r.state.selection.$from);if(r.someProp("handlePaste",l=>l(r,n,i||W.empty)))return!0;if(!i)return!1;let a=FP(i),o=a?r.state.tr.replaceSelectionWith(a,r.input.shiftKey):r.state.tr.replaceSelection(i);return r.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Dt.paste=(r,e)=>{let t=e;if(r.composing&&!en)return;let n=ro?null:t.clipboardData;n&&kh(r,n.getData("text/plain"),n.getData("text/html"),t)?t.preventDefault():HP(r,t)};class qP{constructor(e,t){this.slice=e,this.move=t}}const ux=gr?"altKey":"ctrlKey";Lt.dragstart=(r,e)=>{let t=e,n=r.input.mouseDown;if(n&&n.done(),!t.dataTransfer)return;let i=r.state.selection,a=i.empty?null:r.posAtCoords(sc(t));if(!(a&&a.pos>=i.from&&a.pos<=(i instanceof ie?i.to-1:i.to))){if(n&&n.mightDrag)r.dispatch(r.state.tr.setSelection(ie.create(r.state.doc,n.mightDrag.pos)));else if(t.target&&t.target.nodeType==1){let f=r.docView.nearestDesc(t.target,!0);f&&f.node.type.spec.draggable&&f!=r.docView&&r.dispatch(r.state.tr.setSelection(ie.create(r.state.doc,f.posBefore)))}}let o=r.state.selection.content(),{dom:l,text:c}=ZC(r,o);t.dataTransfer.clearData(),t.dataTransfer.setData(ro?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",ro||t.dataTransfer.setData("text/plain",c),r.dragging=new qP(o,!t[ux])};Lt.dragend=r=>{let e=r.dragging;window.setTimeout(()=>{r.dragging==e&&(r.dragging=null)},50)};Dt.dragover=Dt.dragenter=(r,e)=>e.preventDefault();Dt.drop=(r,e)=>{let t=e,n=r.dragging;if(r.dragging=null,!t.dataTransfer)return;let i=r.posAtCoords(sc(t));if(!i)return;let a=r.state.doc.resolve(i.pos),o=n&&n.slice;o?r.someProp("transformPasted",y=>{o=y(o,r)}):o=QC(r,t.dataTransfer.getData(ro?"Text":"text/plain"),ro?null:t.dataTransfer.getData("text/html"),!1,a);let l=!!(n&&!t[ux]);if(r.someProp("handleDrop",y=>y(r,t,o||W.empty,l))){t.preventDefault();return}if(!o)return;t.preventDefault();let c=o?xR(r.state.doc,a.pos,o):a.pos;c==null&&(c=a.pos);let f=r.state.tr;l&&f.deleteSelection();let h=f.mapping.map(c),p=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,v=f.doc;if(p?f.replaceRangeWith(h,h,o.content.firstChild):f.replaceRange(h,h,o),f.doc.eq(v))return;let g=f.doc.resolve(h);if(p&&ie.isSelectable(o.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(o.content.firstChild))f.setSelection(new ie(g));else{let y=f.mapping.map(c);f.mapping.maps[f.mapping.maps.length-1].forEach((x,T,E,L)=>y=L),f.setSelection(Mp(r,g,f.doc.resolve(y)))}r.focus(),r.dispatch(f.setMeta("uiEvent","drop"))};Lt.focus=r=>{r.input.lastFocus=Date.now(),r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(()=>{r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.domSelectionRange())&&Ln(r)},20))};Lt.blur=(r,e)=>{let t=e;r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),t.relatedTarget&&r.dom.contains(t.relatedTarget)&&r.domObserver.currentSelection.clear(),r.focused=!1)};Lt.beforeinput=(r,e)=>{if(Ht&&en&&e.inputType=="deleteContentBackward"){r.domObserver.flushSoon();let{domChangeCount:n}=r.input;setTimeout(()=>{if(r.input.domChangeCount!=n||(r.dom.blur(),r.focus(),r.someProp("handleKeyDown",a=>a(r,Ha(8,"Backspace")))))return;let{$cursor:i}=r.state.selection;i&&i.pos>0&&r.dispatch(r.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let r in Dt)Lt[r]=Dt[r];function bs(r,e){if(r==e)return!0;for(let t in r)if(r[t]!==e[t])return!1;for(let t in e)if(!(t in r))return!1;return!0}class Lp{constructor(e,t){this.toDOM=e,this.spec=t||Xi,this.side=this.spec.side||0}map(e,t,n,i){let{pos:a,deleted:o}=e.mapResult(t.from+i,this.side<0?-1:1);return o?null:new qt(a-n,a-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Lp&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&bs(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class ci{constructor(e,t){this.attrs=e,this.spec=t||Xi}map(e,t,n,i){let a=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-n;return a>=o?null:new qt(a,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof ci&&bs(this.attrs,e.attrs)&&bs(this.spec,e.spec)}static is(e){return e.type instanceof ci}destroy(){}}class Dp{constructor(e,t){this.attrs=e,this.spec=t||Xi}map(e,t,n,i){let a=e.mapResult(t.from+i,1);if(a.deleted)return null;let o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=a.pos?null:new qt(a.pos-n,o.pos-n,this)}valid(e,t){let{index:n,offset:i}=e.content.findIndex(t.from),a;return i==t.from&&!(a=e.child(n)).isText&&i+a.nodeSize==t.to}eq(e){return this==e||e instanceof Dp&&bs(this.attrs,e.attrs)&&bs(this.spec,e.spec)}destroy(){}}class qt{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new qt(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new qt(e,e,new Lp(t,n))}static inline(e,t,n,i){return new qt(e,t,new ci(n,i))}static node(e,t,n,i){return new qt(e,t,new Dp(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof ci}}const Ba=[],Xi={};class Ge{constructor(e,t){this.local=e.length?e:Ba,this.children=t.length?t:Ba}static create(e,t){return t.length?mu(t,e,0,Xi):wt}find(e,t,n){let i=[];return this.findInner(e==null?0:e,t==null?1e9:t,i,0,n),i}findInner(e,t,n,i,a){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=t&&l.to>=e&&(!a||a(l.spec))&&n.push(l.copy(l.from+i,l.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,t-l,n,i+l,a)}}map(e,t,n){return this==wt||e.maps.length==0?this:this.mapInner(e,t,0,0,n||Xi)}mapInner(e,t,n,i,a){let o;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,n,i);c&&c.type.valid(t,c)?(o||(o=[])).push(c):a.onRemove&&a.onRemove(this.local[l].spec)}return this.children.length?$P(this.children,o||[],e,t,n,i,a):o?new Ge(o.sort(Yi),Ba):wt}add(e,t){return t.length?this==wt?Ge.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let i,a=0;e.forEach((l,c)=>{let f=c+n,h;if(!!(h=fx(t,l,f))){for(i||(i=this.children.slice());a<i.length&&i[a]<c;)a+=3;i[a]==c?i[a+2]=i[a+2].addInner(l,h,f+1):i.splice(a,0,c,c+l.nodeSize,mu(h,l,f+1,Xi)),a+=3}});let o=cx(a?dx(t):t,-n);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new Ge(o.length?this.local.concat(o).sort(Yi):this.local,i||this.children)}remove(e){return e.length==0||this==wt?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,i=this.local;for(let a=0;a<n.length;a+=3){let o,l=n[a]+t,c=n[a+1]+t;for(let h=0,p;h<e.length;h++)(p=e[h])&&p.from>l&&p.to<c&&(e[h]=null,(o||(o=[])).push(p));if(!o)continue;n==this.children&&(n=this.children.slice());let f=n[a+2].removeInner(o,l+1);f!=wt?n[a+2]=f:(n.splice(a,3),a-=3)}if(i.length){for(let a=0,o;a<e.length;a++)if(o=e[a])for(let l=0;l<i.length;l++)i[l].eq(o,t)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new Ge(i,n):wt}forChild(e,t){if(this==wt)return this;if(t.isLeaf)return Ge.empty;let n,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(n=this.children[l+2]);break}let a=e+1,o=a+t.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<o&&c.to>a&&c.type instanceof ci){let f=Math.max(a,c.from)-a,h=Math.min(o,c.to)-a;f<h&&(i||(i=[])).push(c.copy(f,h))}}if(i){let l=new Ge(i.sort(Yi),Ba);return n?new ni([l,n]):l}return n||wt}eq(e){if(this==e)return!0;if(!(e instanceof Ge)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Np(this.localsInner(e))}localsInner(e){if(this==wt)return Ba;if(e.inlineContent||!this.local.some(ci.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof ci||t.push(this.local[n]);return t}}Ge.empty=new Ge([],[]);Ge.removeOverlap=Np;const wt=Ge.empty;class ni{constructor(e){this.members=e}map(e,t){const n=this.members.map(i=>i.map(e,t,Xi));return ni.from(n)}forChild(e,t){if(t.isLeaf)return Ge.empty;let n=[];for(let i=0;i<this.members.length;i++){let a=this.members[i].forChild(e,t);a!=wt&&(a instanceof ni?n=n.concat(a.members):n.push(a))}return ni.from(n)}eq(e){if(!(e instanceof ni)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let i=0;i<this.members.length;i++){let a=this.members[i].localsInner(e);if(!!a.length)if(!t)t=a;else{n&&(t=t.slice(),n=!1);for(let o=0;o<a.length;o++)t.push(a[o])}}return t?Np(n?t:t.sort(Yi)):Ba}static from(e){switch(e.length){case 0:return wt;case 1:return e[0];default:return new ni(e)}}}function $P(r,e,t,n,i,a,o){let l=r.slice();for(let f=0,h=a;f<t.maps.length;f++){let p=0;t.maps[f].forEach((v,g,y,x)=>{let T=x-y-(g-v);for(let E=0;E<l.length;E+=3){let L=l[E+1];if(L<0||v>L+h-p)continue;let N=l[E]+h-p;g>=N?l[E+1]=v<=N?-2:-1:y>=i&&T&&(l[E]+=T,l[E+1]+=T)}p+=T}),h=t.maps[f].map(h,-1)}let c=!1;for(let f=0;f<l.length;f+=3)if(l[f+1]<0){if(l[f+1]==-2){c=!0,l[f+1]=-1;continue}let h=t.map(r[f]+a),p=h-i;if(p<0||p>=n.content.size){c=!0;continue}let v=t.map(r[f+1]+a,-1),g=v-i,{index:y,offset:x}=n.content.findIndex(p),T=n.maybeChild(y);if(T&&x==p&&x+T.nodeSize==g){let E=l[f+2].mapInner(t,T,h+1,r[f]+a+1,o);E!=wt?(l[f]=p,l[f+1]=g,l[f+2]=E):(l[f+1]=-2,c=!0)}else c=!0}if(c){let f=UP(l,r,e,t,i,a,o),h=mu(f,n,0,o);e=h.local;for(let p=0;p<l.length;p+=3)l[p+1]<0&&(l.splice(p,3),p-=3);for(let p=0,v=0;p<h.children.length;p+=3){let g=h.children[p];for(;v<l.length&&l[v]<g;)v+=3;l.splice(v,0,h.children[p],h.children[p+1],h.children[p+2])}}return new Ge(e.sort(Yi),l)}function cx(r,e){if(!e||!r.length)return r;let t=[];for(let n=0;n<r.length;n++){let i=r[n];t.push(new qt(i.from+e,i.to+e,i.type))}return t}function UP(r,e,t,n,i,a,o){function l(c,f){for(let h=0;h<c.local.length;h++){let p=c.local[h].map(n,i,f);p?t.push(p):o.onRemove&&o.onRemove(c.local[h].spec)}for(let h=0;h<c.children.length;h+=3)l(c.children[h+2],c.children[h]+f+1)}for(let c=0;c<r.length;c+=3)r[c+1]==-1&&l(r[c+2],e[c]+a+1);return t}function fx(r,e,t){if(e.isLeaf)return null;let n=t+e.nodeSize,i=null;for(let a=0,o;a<r.length;a++)(o=r[a])&&o.from>t&&o.to<n&&((i||(i=[])).push(o),r[a]=null);return i}function dx(r){let e=[];for(let t=0;t<r.length;t++)r[t]!=null&&e.push(r[t]);return e}function mu(r,e,t,n){let i=[],a=!1;e.forEach((l,c)=>{let f=fx(r,l,c+t);if(f){a=!0;let h=mu(f,l,t+c+1,n);h!=wt&&i.push(c,c+l.nodeSize,h)}});let o=cx(a?dx(r):r,-t).sort(Yi);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(n.onRemove&&n.onRemove(o[l].spec),o.splice(l--,1));return o.length||i.length?new Ge(o,i):wt}function Yi(r,e){return r.from-e.from||r.to-e.to}function Np(r){let e=r;for(let t=0;t<e.length-1;t++){let n=e[t];if(n.from!=n.to)for(let i=t+1;i<e.length;i++){let a=e[i];if(a.from==n.from){a.to!=n.to&&(e==r&&(e=r.slice()),e[i]=a.copy(a.from,n.to),eb(e,i+1,a.copy(n.to,a.to)));continue}else{a.from<n.to&&(e==r&&(e=r.slice()),e[t]=n.copy(n.from,a.from),eb(e,i,n.copy(a.from,n.to)));break}}}return e}function eb(r,e,t){for(;e<r.length&&Yi(t,r[e])>0;)e++;r.splice(e,0,t)}function yd(r){let e=[];return r.someProp("decorations",t=>{let n=t(r.state);n&&n!=wt&&e.push(n)}),r.cursorWrapper&&e.push(Ge.create(r.state.doc,[r.cursorWrapper.deco])),ni.from(e)}const zP={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},VP=$t&&ui<=11;class WP{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class jP{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new WP,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);$t&&ui<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),VP&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,zP)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!Gy(this.view)){if(this.suppressingSelectionUpdates)return Ln(this.view);if($t&&ui<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ra(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,n;for(let a=e.focusNode;a;a=ys(a))t.add(a);for(let a=e.anchorNode;a;a=ys(a))if(t.has(a)){n=a;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Gy(e)&&!this.ignoreSelectionChange(n),a=-1,o=-1,l=!1,c=[];if(e.editable)for(let h=0;h<t.length;h++){let p=this.registerMutation(t[h],c);p&&(a=a<0?p.from:Math.min(p.from,a),o=o<0?p.to:Math.max(p.to,o),p.typeOver&&(l=!0))}if(Hr&&c.length>1){let h=c.filter(p=>p.nodeName=="BR");if(h.length==2){let p=h[0],v=h[1];p.parentNode&&p.parentNode.parentNode==v.parentNode?v.remove():p.remove()}}let f=null;a<0&&i&&e.input.lastFocus>Date.now()-200&&e.input.lastTouch<Date.now()-300&&ic(n)&&(f=Sp(e))&&f.eq(he.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ln(e),this.currentSelection.set(n),e.scrollToSelection()):(a>-1||i)&&(a>-1&&(e.docView.markDirty(a,o),GP(e)),this.handleDOMChange(a,o,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Ln(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let h=0;h<e.addedNodes.length;h++)t.push(e.addedNodes[h]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,a=e.nextSibling;if($t&&ui<=11&&e.addedNodes.length)for(let h=0;h<e.addedNodes.length;h++){let{previousSibling:p,nextSibling:v}=e.addedNodes[h];(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p),(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(a=v)}let o=i&&i.parentNode==e.target?er(i)+1:0,l=n.localPosFromDOM(e.target,o,-1),c=a&&a.parentNode==e.target?er(a):e.target.childNodes.length,f=n.localPosFromDOM(e.target,c,1);return{from:l,to:f}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let tb=new WeakMap,rb=!1;function GP(r){if(!tb.has(r)&&(tb.set(r,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(r.dom).whiteSpace)!==-1)){if(r.requiresGeckoHackNode=Hr,rb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),rb=!0}}function KP(r){let e;function t(c){c.preventDefault(),c.stopImmediatePropagation(),e=c.getTargetRanges()[0]}r.dom.addEventListener("beforeinput",t,!0),document.execCommand("indent"),r.dom.removeEventListener("beforeinput",t,!0);let n=e.startContainer,i=e.startOffset,a=e.endContainer,o=e.endOffset,l=r.domAtPos(r.state.selection.anchor);return ra(l.node,l.offset,a,o)&&([n,i,a,o]=[a,o,n,i]),{anchorNode:n,anchorOffset:i,focusNode:a,focusOffset:o}}function JP(r,e,t){let{node:n,fromOffset:i,toOffset:a,from:o,to:l}=r.docView.parseRange(e,t),c=r.domSelectionRange(),f,h=c.anchorNode;if(h&&r.dom.contains(h.nodeType==1?h:h.parentNode)&&(f=[{node:h,offset:c.anchorOffset}],ic(c)||f.push({node:c.focusNode,offset:c.focusOffset})),Ht&&r.input.lastKeyCode===8)for(let T=a;T>i;T--){let E=n.childNodes[T-1],L=E.pmViewDesc;if(E.nodeName=="BR"&&!L){a=T;break}if(!L||L.size)break}let p=r.state.doc,v=r.someProp("domParser")||ta.fromSchema(r.state.schema),g=p.resolve(o),y=null,x=v.parse(n,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:i,to:a,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:XP,context:g});if(f&&f[0].pos!=null){let T=f[0].pos,E=f[1]&&f[1].pos;E==null&&(E=T),y={anchor:T+o,head:E+o}}return{doc:x,sel:y,from:o,to:l}}function XP(r){let e=r.pmViewDesc;if(e)return e.parseRule();if(r.nodeName=="BR"&&r.parentNode){if(_t&&/^(ul|ol)$/i.test(r.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(r.parentNode.lastChild==r||_t&&/^(tr|table)$/i.test(r.parentNode.nodeName))return{ignore:!0}}else if(r.nodeName=="IMG"&&r.getAttribute("mark-placeholder"))return{ignore:!0};return null}function YP(r,e,t,n,i){if(e<0){let $=r.input.lastSelectionTime>Date.now()-50?r.input.lastSelectionOrigin:null,le=Sp(r,$);if(le&&!r.state.selection.eq(le)){let we=r.state.tr.setSelection(le);$=="pointer"?we.setMeta("pointer",!0):$=="key"&&we.scrollIntoView(),r.dispatch(we)}return}let a=r.state.doc.resolve(e),o=a.sharedDepth(t);e=a.before(o+1),t=r.state.doc.resolve(t).after(o+1);let l=r.state.selection,c=JP(r,e,t),f=r.state.doc,h=f.slice(c.from,c.to),p,v;r.input.lastKeyCode===8&&Date.now()-100<r.input.lastKeyCodeTime?(p=r.state.selection.to,v="end"):(p=r.state.selection.from,v="start"),r.input.lastKeyCode=null;let g=eB(h.content,c.doc.content,c.from,p,v);if((to&&r.input.lastIOSEnter>Date.now()-225||en)&&i.some($=>$.nodeName=="DIV"||$.nodeName=="P"||$.nodeName=="LI")&&(!g||g.endA>=g.endB)&&r.someProp("handleKeyDown",$=>$(r,Ha(13,"Enter")))){r.input.lastIOSEnter=0;return}if(!g)if(n&&l instanceof ye&&!l.empty&&l.$head.sameParent(l.$anchor)&&!r.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))g={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let $=nb(r,r.state.doc,c.sel);$&&!$.eq(r.state.selection)&&r.dispatch(r.state.tr.setSelection($))}return}if(Ht&&r.cursorWrapper&&c.sel&&c.sel.anchor==r.cursorWrapper.deco.from&&c.sel.head==c.sel.anchor){let $=g.endB-g.start;c.sel={anchor:c.sel.anchor+$,head:c.sel.anchor+$}}r.input.domChangeCount++,r.state.selection.from<r.state.selection.to&&g.start==g.endB&&r.state.selection instanceof ye&&(g.start>r.state.selection.from&&g.start<=r.state.selection.from+2&&r.state.selection.from>=c.from?g.start=r.state.selection.from:g.endA<r.state.selection.to&&g.endA>=r.state.selection.to-2&&r.state.selection.to<=c.to&&(g.endB+=r.state.selection.to-g.endA,g.endA=r.state.selection.to)),$t&&ui<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>c.from&&c.doc.textBetween(g.start-c.from-1,g.start-c.from+1)==" \xA0"&&(g.start--,g.endA--,g.endB--);let y=c.doc.resolveNoCache(g.start-c.from),x=c.doc.resolveNoCache(g.endB-c.from),T=f.resolve(g.start),E=y.sameParent(x)&&y.parent.inlineContent&&T.end()>=g.endA,L;if((to&&r.input.lastIOSEnter>Date.now()-225&&(!E||i.some($=>$.nodeName=="DIV"||$.nodeName=="P"))||!E&&y.pos<c.doc.content.size&&(L=he.findFrom(c.doc.resolve(y.pos+1),1,!0))&&L.head==x.pos)&&r.someProp("handleKeyDown",$=>$(r,Ha(13,"Enter")))){r.input.lastIOSEnter=0;return}if(r.state.selection.anchor>g.start&&QP(f,g.start,g.endA,y,x)&&r.someProp("handleKeyDown",$=>$(r,Ha(8,"Backspace")))){en&&Ht&&r.domObserver.suppressSelectionUpdates();return}Ht&&en&&g.endB==g.start&&(r.input.lastAndroidDelete=Date.now()),en&&!E&&y.start()!=x.start()&&x.parentOffset==0&&y.depth==x.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==g.endA&&(g.endB-=2,x=c.doc.resolveNoCache(g.endB-c.from),setTimeout(()=>{r.someProp("handleKeyDown",function($){return $(r,Ha(13,"Enter"))})},20));let N=g.start,B=g.endA,_,z,K;if(E){if(y.pos==x.pos)$t&&ui<=11&&y.parentOffset==0&&(r.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ln(r),20)),_=r.state.tr.delete(N,B),z=f.resolve(g.start).marksAcross(f.resolve(g.endA));else if(g.endA==g.endB&&(K=ZP(y.parent.content.cut(y.parentOffset,x.parentOffset),T.parent.content.cut(T.parentOffset,g.endA-T.start()))))_=r.state.tr,K.type=="add"?_.addMark(N,B,K.mark):_.removeMark(N,B,K.mark);else if(y.parent.child(y.index()).isText&&y.index()==x.index()-(x.textOffset?0:1)){let $=y.parent.textBetween(y.parentOffset,x.parentOffset);if(r.someProp("handleTextInput",le=>le(r,N,B,$)))return;_=r.state.tr.insertText($,N,B)}}if(_||(_=r.state.tr.replace(N,B,c.doc.slice(g.start-c.from,g.endB-c.from))),c.sel){let $=nb(r,_.doc,c.sel);$&&!(Ht&&en&&r.composing&&$.empty&&(g.start!=g.endB||r.input.lastAndroidDelete<Date.now()-100)&&($.head==N||$.head==_.mapping.map(B)-1)||$t&&$.empty&&$.head==N)&&_.setSelection($)}z&&_.ensureMarks(z),r.dispatch(_.scrollIntoView())}function nb(r,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Mp(r,e.resolve(t.anchor),e.resolve(t.head))}function ZP(r,e){let t=r.firstChild.marks,n=e.firstChild.marks,i=t,a=n,o,l,c;for(let h=0;h<n.length;h++)i=n[h].removeFromSet(i);for(let h=0;h<t.length;h++)a=t[h].removeFromSet(a);if(i.length==1&&a.length==0)l=i[0],o="add",c=h=>h.mark(l.addToSet(h.marks));else if(i.length==0&&a.length==1)l=a[0],o="remove",c=h=>h.mark(l.removeFromSet(h.marks));else return null;let f=[];for(let h=0;h<e.childCount;h++)f.push(c(e.child(h)));if(q.from(f).eq(r))return{mark:l,type:o}}function QP(r,e,t,n,i){if(!n.parent.isTextblock||t-e<=i.pos-n.pos||bd(n,!0,!1)<i.pos)return!1;let a=r.resolve(e);if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let o=r.resolve(bd(a,!0,!0));return!o.parent.isTextblock||o.pos>t||bd(o,!0,!1)<t?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function bd(r,e,t){let n=r.depth,i=e?r.end():r.pos;for(;n>0&&(e||r.indexAfter(n)==r.node(n).childCount);)n--,i++,e=!1;if(t){let a=r.node(n).maybeChild(r.indexAfter(n));for(;a&&!a.isLeaf;)a=a.firstChild,i++}return i}function eB(r,e,t,n,i){let a=r.findDiffStart(e,t);if(a==null)return null;let{a:o,b:l}=r.findDiffEnd(e,t+r.size,t+e.size);if(i=="end"){let c=Math.max(0,a-Math.min(o,l));n-=o+c-a}return o<a&&r.size<e.size?(a-=n<=a&&n>=o?a-n:0,l=a+(l-o),o=a):l<a&&(a-=n<=a&&n>=l?a-n:0,o=a+(o-l),l=a),{start:a,endA:o,endB:l}}class Ip{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new xP,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(lb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=ob(this),ab(this),this.nodeViews=sb(this),this.docView=$y(this.state.doc,ib(this),yd(this),this.dom,this),this.domObserver=new jP(this,(n,i,a,o)=>YP(this,n,i,a,o)),this.domObserver.start(),TP(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Th(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(lb),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){let n=this.state,i=!1,a=!1;e.storedMarks&&this.composing&&(lx(this),a=!0),this.state=e;let o=n.plugins!=e.plugins||this._props.plugins!=t.plugins;if(o||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let v=sb(this);rB(v,this.nodeViews)&&(this.nodeViews=v,i=!0)}(o||t.handleDOMEvents!=this._props.handleDOMEvents)&&Th(this),this.editable=ob(this),ab(this);let l=yd(this),c=ib(this),f=n.plugins!=e.plugins&&!n.doc.eq(e.doc)?"reset":e.scrollToSelection>n.scrollToSelection?"to selection":"preserve",h=i||!this.docView.matchesNode(e.doc,c,l);(h||!e.selection.eq(n.selection))&&(a=!0);let p=f=="preserve"&&a&&this.dom.style.overflowAnchor==null&&$R(this);if(a){this.domObserver.stop();let v=h&&($t||Ht)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&tB(n.selection,e.selection);if(h){let g=Ht?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=$y(e.doc,c,l,this.dom,this)),g&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&dP(this))?Ln(this,v):(JC(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():p&&UR(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof ie){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&Py(this,t.getBoundingClientRect(),e)}else Py(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let n=this.directPlugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let n=this.state.plugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}}someProp(e,t){let n=this._props&&this._props[e],i;if(n!=null&&(i=t?t(n):n))return i;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(i=t?t(l):l))return i}let a=this.state.plugins;if(a)for(let o=0;o<a.length;o++){let l=a[o].props[e];if(l!=null&&(i=t?t(l):l))return i}}hasFocus(){if($t){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&zR(this.dom),Ln(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}posAtCoords(e){return KR(this,e)}coordsAtPos(e,t=1){return $C(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let i=this.docView.posFromDOM(e,t,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return QR(this,t||this.state,e)}destroy(){!this.docView||(kP(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],yd(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return SP(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return _t&&this.root.nodeType===11&&PR(this.dom.ownerDocument)==this.dom?KP(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function ib(r){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(r.editable),e.translate="no",r.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(r.state)),t)for(let n in t)n=="class"&&(e.class+=" "+t[n]),n=="style"?e.style=(e.style?e.style+";":"")+t[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(t[n]))}),[qt.node(0,r.state.doc.content.size,e)]}function ab(r){if(r.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),r.cursorWrapper={dom:e,deco:qt.widget(r.state.selection.head,e,{raw:!0,marks:r.markCursor})}}else r.cursorWrapper=null}function ob(r){return!r.someProp("editable",e=>e(r.state)===!1)}function tB(r,e){let t=Math.min(r.$anchor.sharedDepth(r.head),e.$anchor.sharedDepth(e.head));return r.$anchor.start(t)!=e.$anchor.start(t)}function sb(r){let e=Object.create(null);function t(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return r.someProp("nodeViews",t),r.someProp("markViews",t),e}function rB(r,e){let t=0,n=0;for(let i in r){if(r[i]!=e[i])return!0;t++}for(let i in e)n++;return t!=n}function lb(r){if(r.spec.state||r.spec.filterTransaction||r.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var mi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},gu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},ub=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent);typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent);var nB=typeof navigator<"u"&&/Mac/.test(navigator.platform),iB=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),aB=nB||ub&&+ub[1]<57;for(var ht=0;ht<10;ht++)mi[48+ht]=mi[96+ht]=String(ht);for(var ht=1;ht<=24;ht++)mi[ht+111]="F"+ht;for(var ht=65;ht<=90;ht++)mi[ht]=String.fromCharCode(ht+32),gu[ht]=String.fromCharCode(ht);for(var wd in mi)gu.hasOwnProperty(wd)||(gu[wd]=mi[wd]);function oB(r){var e=aB&&(r.ctrlKey||r.altKey||r.metaKey)||iB&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?gu:mi)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const sB=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function lB(r){let e=r.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let n,i,a,o;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))a=!0;else if(/^mod$/i.test(c))sB?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(t="Alt-"+t),i&&(t="Ctrl-"+t),o&&(t="Meta-"+t),a&&(t="Shift-"+t),t}function uB(r){let e=Object.create(null);for(let t in r)e[lB(t)]=r[t];return e}function Cd(r,e,t){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t!==!1&&e.shiftKey&&(r="Shift-"+r),r}function ws(r){return new Wt({props:{handleKeyDown:cB(r)}})}function cB(r){let e=uB(r);return function(t,n){let i=oB(n),a=i.length==1&&i!=" ",o,l=e[Cd(i,n,!a)];if(l&&l(t.state,t.dispatch,t))return!0;if(a&&(n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(o=mi[n.keyCode])&&o!=i){let c=e[Cd(o,n,!0)];if(c&&c(t.state,t.dispatch,t))return!0}else if(a&&n.shiftKey){let c=e[Cd(i,n,!0)];if(c&&c(t.state,t.dispatch,t))return!0}return!1}}const Rp=(r,e)=>r.selection.empty?!1:(e&&e(r.tr.deleteSelection().scrollIntoView()),!0),fB=(r,e,t)=>{let{$cursor:n}=r.selection;if(!n||(t?!t.endOfTextblock("backward",r):n.parentOffset>0))return!1;let i=hx(n);if(!i){let o=n.blockRange(),l=o&&rc(o);return l==null?!1:(e&&e(r.tr.lift(o,l).scrollIntoView()),!0)}let a=i.nodeBefore;if(!a.type.spec.isolating&&yx(r,i,e))return!0;if(n.parent.content.size==0&&(no(a,"end")||ie.isSelectable(a))){let o=Tp(r.doc,n.before(),n.after(),W.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=r.tr.step(o);l.setSelection(no(a,"end")?he.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):ie.create(l.doc,i.pos-a.nodeSize)),e(l.scrollIntoView())}return!0}}return a.isAtom&&i.depth==n.depth-1?(e&&e(r.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0):!1};function no(r,e,t=!1){for(let n=r;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(t&&n.childCount!=1)return!1}return!1}const dB=(r,e,t)=>{let{$head:n,empty:i}=r.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("backward",r):n.parentOffset>0)return!1;a=hx(n)}let o=a&&a.nodeBefore;return!o||!ie.isSelectable(o)?!1:(e&&e(r.tr.setSelection(ie.create(r.doc,a.pos-o.nodeSize)).scrollIntoView()),!0)};function hx(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){if(r.index(e)>0)return r.doc.resolve(r.before(e+1));if(r.node(e).type.spec.isolating)break}return null}const px=(r,e,t)=>{let{$cursor:n}=r.selection;if(!n||(t?!t.endOfTextblock("forward",r):n.parentOffset<n.parent.content.size))return!1;let i=vx(n);if(!i)return!1;let a=i.nodeAfter;if(yx(r,i,e))return!0;if(n.parent.content.size==0&&(no(a,"start")||ie.isSelectable(a))){let o=Tp(r.doc,n.before(),n.after(),W.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=r.tr.step(o);l.setSelection(no(a,"start")?he.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):ie.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return a.isAtom&&i.depth==n.depth-1?(e&&e(r.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0):!1},hB=(r,e,t)=>{let{$head:n,empty:i}=r.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("forward",r):n.parentOffset<n.parent.content.size)return!1;a=vx(n)}let o=a&&a.nodeAfter;return!o||!ie.isSelectable(o)?!1:(e&&e(r.tr.setSelection(ie.create(r.doc,a.pos)).scrollIntoView()),!0)};function vx(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){let t=r.node(e);if(r.index(e)+1<t.childCount)return r.doc.resolve(r.after(e+1));if(t.type.spec.isolating)break}return null}const mx=(r,e)=>{let{$head:t,$anchor:n}=r.selection;return!t.parent.type.spec.code||!t.sameParent(n)?!1:(e&&e(r.tr.insertText(`
`).scrollIntoView()),!0)};function Pp(r){for(let e=0;e<r.edgeCount;e++){let{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const Bp=(r,e)=>{let{$head:t,$anchor:n}=r.selection;if(!t.parent.type.spec.code||!t.sameParent(n))return!1;let i=t.node(-1),a=t.indexAfter(-1),o=Pp(i.contentMatchAt(a));if(!o||!i.canReplaceWith(a,a,o))return!1;if(e){let l=t.after(),c=r.tr.replaceWith(l,l,o.createAndFill());c.setSelection(he.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},pB=(r,e)=>{let t=r.selection,{$from:n,$to:i}=t;if(t instanceof At||n.parent.inlineContent||i.parent.inlineContent)return!1;let a=Pp(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let o=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,l=r.tr.insert(o,a.createAndFill());l.setSelection(ye.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},vB=(r,e)=>{let{$cursor:t}=r.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let a=t.before();if(Wa(r.doc,a))return e&&e(r.tr.split(a).scrollIntoView()),!0}let n=t.blockRange(),i=n&&rc(n);return i==null?!1:(e&&e(r.tr.lift(n,i).scrollIntoView()),!0)},mB=(r,e)=>{let{$from:t,$to:n}=r.selection;if(r.selection instanceof ie&&r.selection.node.isBlock)return!t.parentOffset||!Wa(r.doc,t.pos)?!1:(e&&e(r.tr.split(t.pos).scrollIntoView()),!0);if(!t.parent.isBlock)return!1;if(e){let i=n.parentOffset==n.parent.content.size,a=r.tr;(r.selection instanceof ye||r.selection instanceof At)&&a.deleteSelection();let o=t.depth==0?null:Pp(t.node(-1).contentMatchAt(t.indexAfter(-1))),l=i&&o?[{type:o}]:void 0,c=Wa(a.doc,a.mapping.map(t.pos),1,l);if(!l&&!c&&Wa(a.doc,a.mapping.map(t.pos),1,o?[{type:o}]:void 0)&&(o&&(l=[{type:o}]),c=!0),c&&(a.split(a.mapping.map(t.pos),1,l),!i&&!t.parentOffset&&t.parent.type!=o)){let f=a.mapping.map(t.before()),h=a.doc.resolve(f);o&&t.node(-1).canReplaceWith(h.index(),h.index()+1,o)&&a.setNodeMarkup(a.mapping.map(t.before()),o)}e(a.scrollIntoView())}return!0},gx=(r,e)=>(e&&e(r.tr.setSelection(new At(r.doc))),!0);function gB(r,e,t){let n=e.nodeBefore,i=e.nodeAfter,a=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(a-1,a)?(t&&t(r.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(i.isTextblock||OC(r.doc,e.pos))?!1:(t&&t(r.tr.clearIncompatible(e.pos,n.type,n.contentMatchAt(n.childCount)).join(e.pos).scrollIntoView()),!0)}function yx(r,e,t){let n=e.nodeBefore,i=e.nodeAfter,a,o;if(n.type.spec.isolating||i.type.spec.isolating)return!1;if(gB(r,e,t))return!0;let l=e.parent.canReplace(e.index(),e.index()+1);if(l&&(a=(o=n.contentMatchAt(n.childCount)).findWrapping(i.type))&&o.matchType(a[0]||i.type).validEnd){if(t){let p=e.pos+i.nodeSize,v=q.empty;for(let x=a.length-1;x>=0;x--)v=q.from(a[x].create(null,v));v=q.from(n.copy(v));let g=r.tr.step(new at(e.pos-1,p,e.pos,p,new W(v,1,0),a.length,!0)),y=p+2*a.length;OC(g.doc,y)&&g.join(y),t(g.scrollIntoView())}return!0}let c=he.findFrom(e,1),f=c&&c.$from.blockRange(c.$to),h=f&&rc(f);if(h!=null&&h>=e.depth)return t&&t(r.tr.lift(f,h).scrollIntoView()),!0;if(l&&no(i,"start",!0)&&no(n,"end")){let p=n,v=[];for(;v.push(p),!p.isTextblock;)p=p.lastChild;let g=i,y=1;for(;!g.isTextblock;g=g.firstChild)y++;if(p.canReplace(p.childCount,p.childCount,g.content)){if(t){let x=q.empty;for(let E=v.length-1;E>=0;E--)x=q.from(v[E].copy(x));let T=r.tr.step(new at(e.pos-v.length,e.pos+i.nodeSize,e.pos+y,e.pos+i.nodeSize-y,new W(x,v.length,0),0,!0));t(T.scrollIntoView())}return!0}}return!1}function bx(r){return function(e,t){let n=e.selection,i=r<0?n.$from:n.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return i.node(a).isTextblock?(t&&t(e.tr.setSelection(ye.create(e.doc,r<0?i.start(a):i.end(a)))),!0):!1}}const yB=bx(-1),bB=bx(1);function wB(r,e=null){return function(t,n){let{$from:i,$to:a}=t.selection,o=i.blockRange(a),l=o&&fR(o,r,e);return l?(n&&n(t.tr.wrap(o,l).scrollIntoView()),!0):!1}}function Fp(r,e=null){return function(t,n){let{from:i,to:a}=t.selection,o=!1;return t.doc.nodesBetween(i,a,(l,c)=>{if(o)return!1;if(!(!l.isTextblock||l.hasMarkup(r,e)))if(l.type==r)o=!0;else{let f=t.doc.resolve(c),h=f.index();o=f.parent.canReplaceWith(h,h+1,r)}}),o?(n&&n(t.tr.setBlockType(i,a,r,e).scrollIntoView()),!0):!1}}function CB(r,e,t){for(let n=0;n<e.length;n++){let{$from:i,$to:a}=e[n],o=i.depth==0?r.inlineContent&&r.type.allowsMarkType(t):!1;if(r.nodesBetween(i.pos,a.pos,l=>{if(o)return!1;o=l.inlineContent&&l.type.allowsMarkType(t)}),o)return!0}return!1}function As(r,e=null){return function(t,n){let{empty:i,$cursor:a,ranges:o}=t.selection;if(i&&!a||!CB(t.doc,o,r))return!1;if(n)if(a)r.isInSet(t.storedMarks||a.marks())?n(t.tr.removeStoredMark(r)):n(t.tr.addStoredMark(r.create(e)));else{let l=!1,c=t.tr;for(let f=0;!l&&f<o.length;f++){let{$from:h,$to:p}=o[f];l=t.doc.rangeHasMark(h.pos,p.pos,r)}for(let f=0;f<o.length;f++){let{$from:h,$to:p}=o[f];if(l)c.removeMark(h.pos,p.pos,r);else{let v=h.pos,g=p.pos,y=h.nodeAfter,x=p.nodeBefore,T=y&&y.isText?/^\s*/.exec(y.text)[0].length:0,E=x&&x.isText?/\s*$/.exec(x.text)[0].length:0;v+T<g&&(v+=T,g-=E),c.addMark(v,g,r.create(e))}}n(c.scrollIntoView())}return!0}}function lc(...r){return function(e,t,n){for(let i=0;i<r.length;i++)if(r[i](e,t,n))return!0;return!1}}let xd=lc(Rp,fB,dB),cb=lc(Rp,px,hB);const Mn={Enter:lc(mx,pB,vB,mB),"Mod-Enter":Bp,Backspace:xd,"Mod-Backspace":xd,"Shift-Backspace":xd,Delete:cb,"Mod-Delete":cb,"Mod-a":gx},wx={"Ctrl-h":Mn.Backspace,"Alt-Backspace":Mn["Mod-Backspace"],"Ctrl-d":Mn.Delete,"Ctrl-Alt-Backspace":Mn["Mod-Delete"],"Alt-Delete":Mn["Mod-Delete"],"Alt-d":Mn["Mod-Delete"],"Ctrl-a":yB,"Ctrl-e":bB};for(let r in Mn)wx[r]=Mn[r];const xB=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,fb=xB?wx:Mn;class bi{constructor(e,t){this.match=e,this.match=e,this.handler=typeof t=="string"?TB(t):t}}function TB(r){return function(e,t,n,i){let a=r;if(t[1]){let o=t[0].lastIndexOf(t[1]);a+=t[0].slice(o+t[1].length),n+=o;let l=n-i;l>0&&(a=t[0].slice(o-l,o)+a,n=i)}return e.tr.insertText(a,n,i)}}const kB=500;function Cx({rules:r}){let e=new Wt({state:{init(){return null},apply(t,n){let i=t.getMeta(this);return i||(t.selectionSet||t.docChanged?null:n)}},props:{handleTextInput(t,n,i,a){return db(t,n,i,a,r,e)},handleDOMEvents:{compositionend:t=>{setTimeout(()=>{let{$cursor:n}=t.state.selection;n&&db(t,n.pos,n.pos,"",r,e)})}}},isInputRules:!0});return e}function db(r,e,t,n,i,a){if(r.composing)return!1;let o=r.state,l=o.doc.resolve(e);if(l.parent.type.spec.code)return!1;let c=l.parent.textBetween(Math.max(0,l.parentOffset-kB),l.parentOffset,null,"\uFFFC")+n;for(let f=0;f<i.length;f++){let h=i[f].match.exec(c),p=h&&i[f].handler(o,h,e-(h[0].length-n.length),t);if(!!p)return r.dispatch(p.setMeta(a,{transform:p,from:e,to:t,text:n})),!0}return!1}const EB=(r,e)=>{let t=r.plugins;for(let n=0;n<t.length;n++){let i=t[n],a;if(i.spec.isInputRules&&(a=i.getState(r))){if(e){let o=r.tr,l=a.transform;for(let c=l.steps.length-1;c>=0;c--)o.step(l.steps[c].invert(l.docs[c]));if(a.text){let c=o.doc.resolve(a.from).marks();o.replaceWith(a.from,a.to,r.schema.text(a.text,c))}else o.delete(a.from,a.to);e(o)}return!0}}return!1};new bi(/--$/,"\u2014");new bi(/\.\.\.$/,"\u2026");new bi(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C");new bi(/"$/,"\u201D");new bi(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018");new bi(/'$/,"\u2019");var yu=200,pt=function(){};pt.prototype.append=function(e){return e.length?(e=pt.from(e),!this.length&&e||e.length<yu&&this.leafAppend(e)||this.length<yu&&e.leafPrepend(this)||this.appendInner(e)):this};pt.prototype.prepend=function(e){return e.length?pt.from(e).append(this):this};pt.prototype.appendInner=function(e){return new SB(this,e)};pt.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?pt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};pt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};pt.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)};pt.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(a,o){return i.push(e(a,o))},t,n),i};pt.from=function(e){return e instanceof pt?e:e&&e.length?new xx(e):pt.empty};var xx=function(r){function e(n){r.call(this),this.values=n}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,a){return i==0&&a==this.length?this:new e(this.values.slice(i,a))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,a,o,l){for(var c=a;c<o;c++)if(i(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,a,o,l){for(var c=a-1;c>=o;c--)if(i(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=yu)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=yu)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(pt);pt.empty=new xx([]);var SB=function(r){function e(t,n){r.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,a,o){var l=this.left.length;if(i<l&&this.left.forEachInner(n,i,Math.min(a,l),o)===!1||a>l&&this.right.forEachInner(n,Math.max(i-l,0),Math.min(this.length,a)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,a,o){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(n,i-l,Math.max(a,l)-l,o+l)===!1||a<l&&this.left.forEachInvertedInner(n,Math.min(i,l),a,o)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var a=this.left.length;return i<=a?this.left.slice(n,i):n>=a?this.right.slice(n-a,i-a):this.left.slice(n,a).append(this.right.slice(0,i-a))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(pt),Tx=pt;const MB=500;class Dr{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,a;t&&(i=this.remapping(n,this.items.length),a=i.maps.length);let o=e.tr,l,c,f=[],h=[];return this.items.forEach((p,v)=>{if(!p.step){i||(i=this.remapping(n,v+1),a=i.maps.length),a--,h.push(p);return}if(i){h.push(new Yr(p.map));let g=p.step.map(i.slice(a)),y;g&&o.maybeStep(g).doc&&(y=o.mapping.maps[o.mapping.maps.length-1],f.push(new Yr(y,void 0,void 0,f.length+h.length))),a--,y&&i.appendMap(y,a)}else o.maybeStep(p.step);if(p.selection)return l=i?p.selection.map(i.slice(a)):p.selection,c=new Dr(this.items.slice(0,n).append(h.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:l}}addTransform(e,t,n,i){let a=[],o=this.eventCount,l=this.items,c=!i&&l.length?l.get(l.length-1):null;for(let h=0;h<e.steps.length;h++){let p=e.steps[h].invert(e.docs[h]),v=new Yr(e.mapping.maps[h],p,t),g;(g=c&&c.merge(v))&&(v=g,h?a.pop():l=l.slice(0,l.length-1)),a.push(v),t&&(o++,t=void 0),i||(c=v)}let f=o-n.depth;return f>AB&&(l=OB(l,f),o-=f),new Dr(l.append(a),o)}remapping(e,t){let n=new Va;return this.items.forEach((i,a)=>{let o=i.mirrorOffset!=null&&a-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,o)},e,t),n}addMaps(e){return this.eventCount==0?this:new Dr(this.items.append(e.map(t=>new Yr(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-t),a=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(v=>{v.selection&&l--},i);let c=t;this.items.forEach(v=>{let g=a.getMirror(--c);if(g==null)return;o=Math.min(o,g);let y=a.maps[g];if(v.step){let x=e.steps[g].invert(e.docs[g]),T=v.selection&&v.selection.map(a.slice(c+1,g));T&&l++,n.push(new Yr(y,x,T))}else n.push(new Yr(y))},i);let f=[];for(let v=t;v<o;v++)f.push(new Yr(a.maps[v]));let h=this.items.slice(0,i).append(f).append(n),p=new Dr(h,l);return p.emptyItemCount()>MB&&(p=p.compress(this.items.length-n.length)),p}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,i=[],a=0;return this.items.forEach((o,l)=>{if(l>=e)i.push(o),o.selection&&a++;else if(o.step){let c=o.step.map(t.slice(n)),f=c&&c.getMap();if(n--,f&&t.appendMap(f,n),c){let h=o.selection&&o.selection.map(t.slice(n));h&&a++;let p=new Yr(f.invert(),c,h),v,g=i.length-1;(v=i.length&&i[g].merge(p))?i[g]=v:i.push(p)}}else o.map&&n--},this.items.length,0),new Dr(Tx.from(i.reverse()),a)}}Dr.empty=new Dr(Tx.empty,0);function OB(r,e){let t;return r.forEach((n,i)=>{if(n.selection&&e--==0)return t=i,!1}),r.slice(t)}class Yr{constructor(e,t,n,i){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Yr(t.getMap().invert(),t,this.selection)}}}class ri{constructor(e,t,n,i){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=i}}const AB=20;function _B(r,e,t,n){let i=t.getMeta(Dn),a;if(i)return i.historyState;t.getMeta(DB)&&(r=new ri(r.done,r.undone,null,0));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return r;if(o&&o.getMeta(Dn))return o.getMeta(Dn).redo?new ri(r.done.addTransform(t,void 0,n,Jl(e)),r.undone,hb(t.mapping.maps[t.steps.length-1]),r.prevTime):new ri(r.done,r.undone.addTransform(t,void 0,n,Jl(e)),null,r.prevTime);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=r.prevTime==0||!o&&(r.prevTime<(t.time||0)-n.newGroupDelay||!LB(t,r.prevRanges)),c=o?Td(r.prevRanges,t.mapping):hb(t.mapping.maps[t.steps.length-1]);return new ri(r.done.addTransform(t,l?e.selection.getBookmark():void 0,n,Jl(e)),Dr.empty,c,t.time)}else return(a=t.getMeta("rebased"))?new ri(r.done.rebased(t,a),r.undone.rebased(t,a),Td(r.prevRanges,t.mapping),r.prevTime):new ri(r.done.addMaps(t.mapping.maps),r.undone.addMaps(t.mapping.maps),Td(r.prevRanges,t.mapping),r.prevTime)}function LB(r,e){if(!e)return!1;if(!r.docChanged)return!0;let t=!1;return r.mapping.maps[0].forEach((n,i)=>{for(let a=0;a<e.length;a+=2)n<=e[a+1]&&i>=e[a]&&(t=!0)}),t}function hb(r){let e=[];return r.forEach((t,n,i,a)=>e.push(i,a)),e}function Td(r,e){if(!r)return null;let t=[];for(let n=0;n<r.length;n+=2){let i=e.map(r[n],1),a=e.map(r[n+1],-1);i<=a&&t.push(i,a)}return t}function kx(r,e,t,n){let i=Jl(e),a=Dn.get(e).spec.config,o=(n?r.undone:r.done).popEvent(e,i);if(!o)return;let l=o.selection.resolve(o.transform.doc),c=(n?r.done:r.undone).addTransform(o.transform,e.selection.getBookmark(),a,i),f=new ri(n?c:o.remaining,n?o.remaining:c,null,0);t(o.transform.setSelection(l).setMeta(Dn,{redo:n,historyState:f}).scrollIntoView())}let kd=!1,pb=null;function Jl(r){let e=r.plugins;if(pb!=e){kd=!1,pb=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){kd=!0;break}}return kd}const Dn=new Ms("history"),DB=new Ms("closeHistory");function Ex(r={}){return r={depth:r.depth||100,newGroupDelay:r.newGroupDelay||500},new Wt({key:Dn,state:{init(){return new ri(Dr.empty,Dr.empty,null,0)},apply(e,t,n){return _B(t,n,e,r)}},config:r,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,i=n=="historyUndo"?hs:n=="historyRedo"?Hp:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const hs=(r,e)=>{let t=Dn.getState(r);return!t||t.done.eventCount==0?!1:(e&&kx(t,r,e,!1),!0)},Hp=(r,e)=>{let t=Dn.getState(r);return!t||t.undone.eventCount==0?!1:(e&&kx(t,r,e,!0),!0)};function NB(r){let e=Dn.getState(r);return e?e.done.eventCount:0}/**
 * @toast-ui/editor
 * @version 3.2.1 | Thu Sep 29 2022
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Eh=function(r,e){return Eh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},Eh(r,e)};function G(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Eh(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var I=function(){return I=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},I.apply(this,arguments)};function zt(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}function me(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function IB(r,e,t){var n;t=t||null;for(n in r)if(r.hasOwnProperty(n)&&e.call(t,r[n],n,r)===!1)break}var io=IB;function RB(r,e){var t=Object.prototype.hasOwnProperty,n,i,a,o;for(a=1,o=arguments.length;a<o;a+=1){n=arguments[a];for(i in n)t.call(n,i)&&(r[i]=n[i])}return r}var qp=RB;function PB(r){return typeof r=="string"||r instanceof String}var Pn=PB;function BB(r){return r instanceof Array}var bo=BB;function FB(r,e,t){var n=0,i=r.length;for(t=t||null;n<i&&e.call(t,r[n],n,r)!==!1;n+=1);}var ao=FB,HB=bo,qB=ao,$B=io;function UB(r,e,t){HB(r)?qB(r,e,t):$B(r,e,t)}var uc=UB,zB=Pn,VB=uc;function WB(r,e,t){var n=r.style;if(zB(e)){n[e]=t;return}VB(e,function(i,a){n[a]=i})}var on=WB,jB=bo;function GB(r,e,t){var n,i;if(t=t||0,!jB(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,r,t);for(i=e.length,n=t;t>=0&&n<i;n+=1)if(e[n]===r)return n;return-1}var aa=GB;function KB(r){return r===void 0}var qr=KB,JB=qr;function XB(r){return!r||!r.className?"":JB(r.className.baseVal)?r.className:r.className.baseVal}var $p=XB,YB=bo,ZB=qr;function QB(r,e){if(e=YB(e)?e.join(" "):e,e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),ZB(r.className.baseVal)){r.className=e;return}r.className.baseVal=e}var Sx=QB,vb=uc,eF=aa,tF=$p,rF=Sx;function nF(r){var e=Array.prototype.slice.call(arguments,1),t=r.classList,n=[],i;if(t){vb(e,function(a){r.classList.add(a)});return}i=tF(r),i&&(e=[].concat(i.split(/\s+/),e)),vb(e,function(a){eF(a,n)<0&&n.push(a)}),rF(r,n)}var rn=nF,mb=ao,iF=aa,aF=$p,oF=Sx;function sF(r){var e=Array.prototype.slice.call(arguments,1),t=r.classList,n,i;if(t){mb(e,function(a){t.remove(a)});return}n=aF(r).split(/\s+/),i=[],mb(n,function(a){iF(a,e)<0&&i.push(a)}),oF(r,i)}var Nr=sF;function lF(r){return typeof r=="number"||r instanceof Number}var On=lF;function uF(r){return r===null}var bu=uF,cF=io;function fF(r,e){var t=document.createElement("img"),n="";return cF(e,function(i,a){n+="&"+a+"="+i}),n=n.substring(1),t.src=r+"?"+n,t.style.display="none",document.body.appendChild(t),document.body.removeChild(t),t}var dF=fF,hF=qr,pF=dF,vF=7*24*60*60*1e3;function mF(r){var e=new Date().getTime();return e-r>vF}function gF(r,e){var t="https://www.google-analytics.com/collect",n=location.hostname,i="event",a="use",o="TOAST UI "+r+" for "+n+": Statistics",l=window.localStorage.getItem(o);!hF(window.tui)&&window.tui.usageStatistics===!1||l&&!mF(l)||(window.localStorage.setItem(o,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&pF(t,{v:1,t:i,tid:e,cid:n,dp:n,dh:r,el:r,ec:a})},1e3))}var yF=gF;/Mac/.test(navigator.platform);var bF=/[\u0020]+/g,wF=/[>(){}[\]+-.!#|]/g,gb=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,yb=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,CF=/[*_~`]/g,bb=/!\[.*\]\(.*\)/g,xF=/[[\]]/g,wb=/(?:^|[^\\])\\(?!\\)/g,TF='[&<>"]',Cb=new RegExp(TF,"g");function kF(r){switch(r){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return r}}function $a(r){return Cb.test(r)?r.replace(Cb,kF):r}function EF(){yF("editor","UA-129966929-1")}function mt(r,e){return r.indexOf(e)!==-1}var SF=["rel","target","hreflang","type"],MF={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function Mx(r){if(!r)return null;var e={};return SF.forEach(function(t){qr(r[t])||(e[t]=r[t])}),e}function wu(r,e){for(var t="",n=0;n<e;n+=1)t+=r;return t}function OF(r){var e=!1;return io(MF,function(t){return t.test(r)&&(e=!0),!e}),e}function Cu(r){for(var e=[],t=bb.exec(r);t;)e.push([t.index,t.index+t[0].length]),t=bb.exec(r);return r.replace(xF,function(n,i){var a=e.some(function(o){return i>o[0]&&i<o[1]});return a?n:"\\"+n})}function AF(r){var e=function(i){return"\\"+i},t=function(i){return i+"\\"},n=r.replace(bF," ");return yb.test(n)&&(n=n.replace(yb,e)),wb.test(n)&&(n=n.replace(wb,t)),n=n.replace(CF,e),gb.test(n)&&(n=n.replace(gb,e)),OF(n)&&(n=n.replace(wF,e)),n}function _F(r){var e;return r.indexOf('"')===-1?e='""':e=r.indexOf("'")===-1?"''":"()",e[0]+r+e[1]}function Sh(r){return bu(r)||qr(r)}function Up(r,e){if(r===null&&r===e)return!0;if(typeof r!="object"||typeof e!="object"||Sh(r)||Sh(e))return r===e;for(var t in r)if(r[t]!==e[t])return!1;for(var t in e)if(!(t in r))return!1;return!0}function Ct(r){return r[r.length-1]}function LF(r,e,t){return r>=e&&r<=t}function zp(r){return typeof r=="object"&&r!==null}function xu(r,e){var t=I({},r);return r&&e&&Object.keys(e).forEach(function(n){zp(t[n])?Array.isArray(e[n])?t[n]=Vp(e[n]):t.hasOwnProperty(n)?t[n]=xu(t[n],e[n]):t[n]=Wp(e[n]):t[n]=e[n]}),t}function Vp(r){return r.map(function(e){return zp(e)?Array.isArray(e)?Vp(e):Wp(e):e})}function Wp(r){var e=Object.keys(r);return e.length?e.reduce(function(t,n){return zp(r[n])?t[n]=Array.isArray(r[n])?Vp(r[n]):Wp(r[n]):t[n]=r[n],t},{}):r}function jp(r,e){return e===void 0&&(e={}),Object.keys(e).forEach(function(t){r.hasOwnProperty(t)&&typeof r[t]=="object"?Array.isArray(e[t])?r[t]=e[t]:jp(r[t],e[t]):r[t]=e[t]}),r}function xb(r,e){return r>e?[e,r]:[r,e]}function DF(r){var e=/^\s(\S*)/g;return e.test(r)}function NF(r){var e=/(\S*)\s$/g;return e.test(r)}var IF=ao;function RF(r){var e;try{e=Array.prototype.slice.call(r)}catch{e=[],IF(r,function(n){e.push(n)})}return e}var sn=RF;function Tu(r,e){var t=r.nodes.paragraph;return e?t.create(null,Pn(e)?r.text(e):e):t.createAndFill()}function vt(r,e,t){return r.text(e,t)}function Ie(r,e,t){t===void 0&&(t=e);var n=r.doc.content.size,i=n>0?n-1:1;return ye.create(r.doc,Math.min(e,i),Math.min(t,i))}function Gp(r,e,t){var n=e.pos;return r.replaceWith(n,n,Tu(t)),r.setSelection(Ie(r,n+1))}function ku(r){for(var e=r.state,t=r.from,n=r.startIndex,i=r.endIndex,a=r.createText,o=e.tr,l=e.doc,c=e.schema,f=n;f<=i;f+=1){var h=l.child(f),p=h.nodeSize,v=h.textContent,g=h.content,y=a(v),x=y?vt(c,y):q.empty,T=o.mapping.map(t),E=T+g.size;o.replaceWith(T,E,x),t+=p}return o}function Kp(r,e,t,n){var i=t.length;r.split(e).delete(e-i,e).insert(r.mapping.map(e),n).setSelection(Ie(r,r.mapping.map(e)-i))}function _s(r){return r.sourcepos[0][0]}function cc(r){return r.sourcepos[1][0]}function fc(r){return r.sourcepos[0][1]}function fi(r){return r.sourcepos[1][1]}function PF(r){var e=r.type;return e==="htmlBlock"||e==="htmlInline"}function BF(r){var e=r.type;return e==="strike"||e==="strong"||e==="emph"||e==="code"||e==="link"||e==="image"}function FF(r){return r&&r.type==="codeBlock"}function oa(r){return r&&(r.type==="item"||r.type==="list")}function Ox(r){return oa(r)&&r.listData.type==="ordered"}function HF(r){return oa(r)&&r.listData.type!=="ordered"}function Tb(r){return r&&(r.type==="tableCell"||r.type==="tableDelimCell")}function qF(r){switch(r.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function oo(r,e,t){for(t===void 0&&(t=!0),r=t?r:r.parent;r&&r.type!=="document";){if(e(r))return r;r=r.parent}return null}function $F(r,e,t){for(t===void 0&&(t=!0),r=t?r:r.parent;r&&r.type!=="document";)e(r),r=r.parent}function nt(r,e){return[r[0],r[1]+e]}function di(r,e){return[r[0],e]}function UF(r){var e=r.firstChild.literal;switch(r.type){case"emph":return"*"+e+"*";case"strong":return"**"+e+"**";case"strike":return"~~"+e+"~~";case"code":return"`"+e+"`";case"link":case"image":var t=r,n=t.destination,i=t.title,a=r.type==="link"?"":"!";return a+"["+e+"]("+n+(i?' "'+i+'"':"")+")";default:return null}}function zF(r){switch(r.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function VF(r){for(var e=[],t=r.walker(),n=null;n=t.next();){var i=n.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var Cs=[],Ax={},kb=/\$\$widget\d+\s/;function dc(r){var e=r.search(kb);if(e!==-1){var t=r.substring(e),n=t.replace(kb,"").replace("$$","");r=r.substring(0,e),r+=dc(n)}return r}function _x(r,e){return"$$"+r+" "+e+"$$"}function Lx(r,e){var t=Ax[r],n=t.rule,i=t.toDOM,a=dc(e).match(n);return a&&(e=a[0]),i(e)}function WF(){return Cs}function jF(r){Cs=r,Cs.forEach(function(e,t){Ax["widget"+t]=e})}function Ed(r,e,t,n){return r.concat(Zi(e,t,n))}function Zi(r,e,t){t===void 0&&(t=0);var n=[],i=(Cs[t]||{}).rule,a=t+1;if(r=dc(r),i&&i.test(r)){for(var o=void 0;(o=r.search(i))!==-1;){var l=r.substring(0,o);l&&(n=Ed(n,l,e,a)),r=r.substring(o);var c=r.match(i)[0],f="widget"+t;n.push(e.nodes.widget.create({info:f},e.text(_x(f,c)))),r=r.substring(c.length)}r&&(n=Ed(n,r,e,a))}else r&&(n=t<Cs.length-1?Ed(n,r,e,a):[e.text(r)]);return n}function Dx(r){for(var e,t="",n=r.walker();e=n.next();){var i=e.node,a=e.entering;a&&(i!==r&&i.type!=="text"?(t+=UF(i),n.resumeAt(r,!1),n.next()):i.type==="text"&&(t+=i.literal))}return t}function Nx(){return{deleteSelection:function(){return Rp},selectAll:function(){return gx},undo:function(){return hs},redo:function(){return Hp}}}function GF(r){return new Wt({props:{decorations:function(e){var t=e.doc;if(r.text&&t.childCount===1&&t.firstChild.isTextblock&&t.firstChild.content.size===0){var n=document.createElement("span");return rn(n,"placeholder"),r.className&&rn(n,r.className),n.textContent=r.text,Ge.create(t,[qt.widget(1,n)])}return null}}})}var KF=aa,JF=$p;function XF(r,e){var t;return r.classList?r.classList.contains(e):(t=JF(r).split(/\s+/),KF(e,t)>-1)}var Ix=XF,YF=aa,ZF=sn,Il=Element.prototype,QF=Il.matches||Il.webkitMatchesSelector||Il.mozMatchesSelector||Il.msMatchesSelector||function(r){var e=this.document||this.ownerDocument;return YF(this,ZF(e.querySelectorAll(r)))>-1};function eH(r,e){return QF.call(r,e)}var tH=eH,Rx="[A-Za-z][A-Za-z0-9-]*",rH="[a-zA-Z_:][a-zA-Z0-9:._-]*",nH="[^\"'=<>`\\x00-\\x20]+",iH="'[^']*'",aH='"[^"]*"',oH="(?:"+nH+"|"+iH+"|"+aH+")",sH="(?:\\s*=\\s*"+oH+")",Px="(?:\\s+"+rH+sH+"?)",Bx="<("+Rx+")("+Px+")*\\s*/?>",lH="</("+Rx+")\\s*[>]",Fx="(?:"+Bx+"|"+lH+")",so=new RegExp("^"+Fx,"i"),Mh=/<br\s*\/*>/i,uH=/<! ---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,Hx="</p><p>",Eb="a";function Jp(r,e,t){var n=parseInt(r.left,10),i=parseInt(r.top,10),a=parseInt(r.width,10)+parseInt(r.paddingLeft,10)+parseInt(r.paddingRight,10),o=parseInt(r.height,10)+parseInt(r.paddingTop,10)+parseInt(r.paddingBottom,10);return e>=n&&e<=n+a&&t>=i&&t<=i+o}var qx="toastui-editor-";function J(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=[],n=0,i=r;n<i.length;n++){var a=i[n],o=void 0;Array.isArray(a)?o=a[0]?a[1]:null:o=a,o&&t.push(""+qx+o)}return t.join(" ")}function Xe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.map(function(t){return qx+"md-"+t}).join(" ")}function cH(r){return(r==null?void 0:r.nodeType)===Node.TEXT_NODE}function hc(r){return r&&r.nodeType===Node.ELEMENT_NODE}function fH(r,e){var t=sn(r.querySelectorAll(e));return t.length?t:[]}function dH(r,e){e=bo(e)?sn(e):[e],e.forEach(function(t){r.appendChild(t)})}function hH(r,e){e.parentNode&&e.parentNode.insertBefore(r,e)}function sa(r){r.parentNode&&r.parentNode.removeChild(r)}function pH(r){for(var e=[];r.firstChild;)e.push(r.firstChild),r.parentNode&&r.parentNode.insertBefore(r.firstChild,r);return sa(r),e}function Xp(r,e,t){qr(t)&&(t=!Ix(r,e));var n=t?rn:Nr;n(r,e)}function $x(r,e){var t=document.createElement("div");Pn(r)?t.innerHTML=r:t.appendChild(r);var n=t.firstChild;return e&&e.appendChild(n),n}function Yp(r){var e=window.getComputedStyle(r);return["margin-left","margin-right"].reduce(function(t,n){return t+parseInt(e.getPropertyValue(n),10)},0)+r.offsetWidth}function nn(r,e){var t;for(Pn(e)?t=function(n){return tH(n,e)}:t=function(n){return n===e};r&&r!==document;){if(hc(r)&&t(r))return r;r=r.parentNode}return null}function Ux(r,e){for(var t=0,n=0;r&&r!==e;){var i=r.offsetTop,a=r.offsetLeft,o=r.offsetParent;if(t+=i,n+=a,o===e.offsetParent)break;r=r.offsetParent}return{offsetTop:t,offsetLeft:n}}function Zp(r,e){Object.keys(r).forEach(function(t){Sh(r[t])?e.removeAttribute(t):e.setAttribute(t,r[t])})}function vH(r){var e=r.replace(/<p><br\s*\/*><\/p>/gi,"<p></p>"),t=new RegExp(Fx,"ig"),n=e.match(t);return n==null||n.forEach(function(i,a){if(Mh.test(i)){var o=Hx;if(a){var l=n[a-1],c=l.match(Bx);if(c&&!/br/i.test(c[1])){var f=c[1];o="</"+f+"><"+f+">"}}e=e.replace(Mh,o)}}),e}function Qp(r){var e=/<img class="ProseMirror-separator" alt="">/g,t=/ class="ProseMirror-trailingBreak"/g,n=r;return n=n.replace(e,""),n=n.replace(t,""),n}var zx=new Ms("widget"),Sb=5,mH=function(){function r(e,t){var n=this;this.popup=null,this.removeWidget=function(){n.popup&&(n.rootEl.removeChild(n.popup),n.popup=null)},this.rootEl=e.dom.parentElement,this.eventEmitter=t,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("loadUI",function(){n.rootEl=nn(e.dom.parentElement,"."+J("defaultUI"))}),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return r.prototype.update=function(e){var t=zx.getState(e.state);if(this.removeWidget(),t){var n=t.node,i=t.style,a=e.coordsAtPos(t.pos),o=a.top,l=a.left,c=a.bottom,f=c-o,h=this.rootEl.getBoundingClientRect(),p=o-h.top;on(n,{opacity:"0"}),this.rootEl.appendChild(n),on(n,{position:"absolute",left:l-h.left+Sb+"px",top:(i==="bottom"?p+f-Sb:p-f)+"px",opacity:"1"}),this.popup=n,e.focus()}},r.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},r}();function gH(r){return new Wt({key:zx,state:{init:function(){return null},apply:function(e){return e.getMeta("widget")}},view:function(e){return new mH(e,r)}})}function yH(r){r.listen("addImageBlobHook",function(e,t){var n=new FileReader;n.onload=function(i){var a=i.target;return t(a.result)},n.readAsDataURL(e)})}function ev(r,e,t){var n=function(i,a){r.emit("command","addImage",{imageUrl:i,altText:a||e.name||"image"})};r.emit("addImageBlobHook",e,n,t)}function Vx(r){var e=sn(r).filter(function(n){var i=n.type;return i.indexOf("image")!==-1});if(e.length===1){var t=e[0];if(t)return t.getAsFile()}return null}function bH(r){var e=r.eventEmitter;return new Wt({props:{handleDOMEvents:{drop:function(t,n){var i,a=(i=n.dataTransfer)===null||i===void 0?void 0:i.files;return a&&ao(a,function(o){return o.type.indexOf("image")!==-1?(n.preventDefault(),n.stopPropagation(),ev(e,o,n.type),!1):!0}),!0}}}})}var Le=function(){function r(){}return Object.defineProperty(r.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),r.prototype.setContext=function(e){this.context=e},r}();function Wx(r){var e=document.createElement("span"),t=Lx(r.attrs.info,r.textContent);return e.className="tui-widget",e.appendChild(t),{dom:e}}function Oh(r){return r.type.name==="widget"}var jx=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(t){var n=t.textContent,i=n.match(/\$\$(widget\d+)/),a=i[1];return{info:a}}}]}},enumerable:!1,configurable:!0}),e}(Le),Gx=function(){function r(e){this.timer=null,this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=e,this.placeholder={text:""}}return r.prototype.createState=function(){return zi.create({schema:this.schema,plugins:this.createPlugins()})},r.prototype.initEvent=function(){var e=this,t=e.eventEmitter,n=e.view,i=e.editorType;n.dom.addEventListener("focus",function(){return t.emit("focus",i)}),n.dom.addEventListener("blur",function(){return t.emit("blur",i)})},r.prototype.emitChangeEvent=function(e){this.eventEmitter.emit("caretChange",this.editorType),e.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(r.prototype,"defaultPlugins",{get:function(){var e=this.createInputRules(),t=zt(zt([],this.keymaps),[ws(I({"Shift-Enter":fb.Enter},fb)),Ex(),GF(this.placeholder),gH(this.eventEmitter),bH(this.context)]);return e?t.concat(e):t},enumerable:!1,configurable:!0}),r.prototype.createInputRules=function(){var e=WF(),t=e.map(function(n){var i=n.rule;return new bi(i,function(a,o,l,c){var f=a.schema,h=a.tr,p=a.doc,v=o.input.match(new RegExp(i,"g")),g=p.resolve(l),y=g.parent,x=0;if(Oh(y)&&(y=g.node(g.depth-1)),y.forEach(function(L){return Oh(L)&&(x+=1)}),v.length>x){var T=Ct(v),E=Zi(T,f);return h.replaceWith(c-T.length+1,c,E)}return null})});return t.length?Cx({rules:t}):null},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.createSchema=function(){return new wC({nodes:this.specs.nodes,marks:this.specs.marks})},r.prototype.createKeymaps=function(e){var t=Nx(),n=t.undo,i=t.redo,a=this.specs.keymaps(e),o={"Mod-z":n(),"Shift-Mod-z":i()};return e?a.concat(ws(o)):a},r.prototype.createCommands=function(){return this.specs.commands(this.view)},r.prototype.createPluginProps=function(){var e=this;return this.extraPlugins.map(function(t){return t(e.eventEmitter)})},r.prototype.focus=function(){var e=this;this.clearTimer(),this.timer=setTimeout(function(){e.view.focus(),e.view.dispatch(e.view.state.tr.scrollIntoView())})},r.prototype.blur=function(){this.view.dom.blur()},r.prototype.destroy=function(){var e=this;this.clearTimer(),this.view.destroy(),Object.keys(this).forEach(function(t){delete e[t]})},r.prototype.moveCursorToStart=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(Ie(t,1)).scrollIntoView()),e&&this.focus()},r.prototype.moveCursorToEnd=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(Ie(t,t.doc.content.size-1)).scrollIntoView()),e&&this.focus()},r.prototype.setScrollTop=function(e){this.view.dom.scrollTop=e},r.prototype.getScrollTop=function(){return this.view.dom.scrollTop},r.prototype.setPlaceholder=function(e){this.placeholder.text=e,this.view.dispatch(this.view.state.tr.scrollIntoView())},r.prototype.setHeight=function(e){on(this.el,{height:e+"px"})},r.prototype.setMinHeight=function(e){on(this.el,{minHeight:e+"px"})},r.prototype.getElement=function(){return this.el},r}();function wH(r){return r instanceof Function}var yr=wH,CH=["Enter","Shift-Enter","Mod-Enter","Tab","Shift-Tab","Delete","Backspace","Mod-Delete","Mod-Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Mod-d","Mod-D","Alt-ArrowUp","Alt-ArrowDown"];function Rl(r,e,t){return r.focus(),e(t)(r.state,r.dispatch,r)}var Kx=function(){function r(e){this.specs=e}return Object.defineProperty(r.prototype,"nodes",{get:function(){return this.specs.filter(function(e){return e.type==="node"}).reduce(function(e,t){var n,i=t.name,a=t.schema;return I(I({},e),(n={},n[i]=a,n))},{})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"marks",{get:function(){return this.specs.filter(function(e){return e.type==="mark"}).reduce(function(e,t){var n,i=t.name,a=t.schema;return I(I({},e),(n={},n[i]=a,n))},{})},enumerable:!1,configurable:!0}),r.prototype.commands=function(e,t){var n=this.specs.filter(function(a){var o=a.commands;return o}).reduce(function(a,o){var l={},c=o.commands();return yr(c)?l[o.name]=function(f){return Rl(e,c,f)}:Object.keys(c).forEach(function(f){l[f]=function(h){return Rl(e,c[f],h)}}),I(I({},a),l)},{}),i=Nx();return Object.keys(i).forEach(function(a){n[a]=function(o){return Rl(e,i[a],o)}}),t&&Object.keys(t).forEach(function(a){n[a]=function(o){return Rl(e,t[a],o)}}),n},r.prototype.keymaps=function(e){var t=this.specs.filter(function(n){return n.keymaps}).map(function(n){return n.keymaps()});return t.map(function(n){return e||Object.keys(n).forEach(function(i){mt(CH,i)||delete n[i]}),ws(n)})},r.prototype.setContext=function(e){this.specs.forEach(function(t){t.setContext(e)})},r}();function Jx(r){var e=r.from,t=r.to;return r instanceof At?[e+1,t-1]:[e,t]}function Mb(r){return r.index(0)+1}function lo(r,e,t){t===void 0&&(t=1);var n=0;return r.forEach(function(i,a){Oh(i)&&a+2<e&&(n+=2*t)}),n}function Xl(r,e,t){t===void 0&&(t=e);var n=e===t,i=r.resolve(e),a=Mb(i),o=a,l=i.start(1),c=l;if(!n){var f=r.resolve(t===r.content.size?t-1:t);c=f.start(1),o=Mb(f),f.pos===r.content.size&&(t=r.content.size-2)}var h=Math.max(e-l+1,1),p=Math.max(t-c+1,1);return[[a,h+lo(r.child(a-1),h,-1)],[o,p+lo(r.child(o-1),p,-1)]]}function Xx(r,e){for(var t=[],n=0,i=0;n<e;n+=1){var a=r.child(n);t[n]=i,i+=a.nodeSize}return t}function $i(r,e,t){var n=Xx(r,t[0]),i=e[0]-1,a=t[0]-1,o=r.child(i),l=r.child(a),c=n[i],f=n[a];return c+=e[1]+lo(o,e[1]-1),f+=t[1]+lo(l,t[1]-1),[c,Math.min(f,r.content.size)]}function Ke(r){var e=r.$from,t=r.$to,n=r.from,i=r.to,a=e.doc;return r instanceof At&&(e=a.resolve(n+1),t=a.resolve(i-1)),e.depth===0&&(e=a.resolve(n-1),t=e),{startFromOffset:e.start(1),endFromOffset:t.start(1),startToOffset:e.end(1),endToOffset:t.end(1),startIndex:e.index(0),endIndex:t.index(0),from:e.pos,to:t.pos}}function Eu(r,e){for(var t=1,n=1,i=0,a=0;i<r.childCount;i+=1){var o=r.child(i).nodeSize;if(t=a+1,n=a+o-1,i===e)break;a+=o}return{startOffset:t,endOffset:n}}var Ob="heading",xH="blockQuote",TH="listItem",kH="table",EH="tableCell",SH="codeBlock",MH="thematicBreak",Yl="link",Pl="code",pc="meta",la="delimiter",OH="taskDelimiter",tv="markedText",AH="html",_H="customBlock",Ab={strong:2,emph:1,strike:2};function Te(r,e,t,n){return{start:r,end:e,spec:{type:t,attrs:n}}}function LH(r,e,t){var n=r.level,i=r.headingType,a=[Te(e,t,Ob,{level:n})];return i==="atx"?a.push(Te(e,nt(e,n),la)):a.push(Te(di(t,0),t,Ob,{seText:!0})),a}function Sd(r,e,t){var n=r.type,i=nt(e,Ab[n]),a=nt(t,-Ab[n]);return[Te(i,a,n),Te(e,i,la),Te(a,t,la)]}function Yx(r,e,t,n){return[Te(r,e,Yl),Te(di(r,t[1]+1),di(e,n),Yl,{desc:!0}),Te(di(e,n+2),nt(e,-1),Yl,{url:!0})]}function DH(r,e,t){var n=r.lastChild,i=n?fi(n)+1:3,a=nt(e,1);return zt([Te(e,a,pc)],Yx(e,t,a,i))}function NH(r,e,t){var n=r.lastChild,i=r.extendedAutolink,a=n?fi(n)+1:2;return i?[Te(e,t,Yl,{desc:!0})]:Yx(e,t,e,a)}function IH(r,e,t){var n=r.tickCount,i=nt(e,n),a=nt(t,-n);return[Te(e,t,Pl),Te(e,i,Pl,{start:!0}),Te(i,a,Pl,{marked:!0}),Te(a,t,Pl,{end:!0})]}function Zx(r,e,t,n){var i={start:e,end:t,spec:{attrs:{className:n+"-line-background",codeStart:e[0],codeEnd:t[0]}},lineBackground:!0};return r.type!=="item"&&r.type!=="blockQuote"?[I(I({},i),{end:e,spec:{attrs:{className:n+"-line-background start"}}}),I(I({},i),{start:[Math.min(e[0]+1,t[0]),e[1]]})]:null}function RH(r,e,t,n){var i=r.fenceOffset,a=r.fenceLength,o=r.fenceChar,l=r.info,c=r.infoPadding,f=r.parent,h=i+a,p=[Te(di(e,1),t,SH)];o&&p.push(Te(e,nt(e,h),la)),l&&p.push(Te(nt(e,a),nt(e,a+c+l.length),pc));var v="^(\\s{0,4})("+o+"{"+a+",})",g=new RegExp(v);g.test(n)&&p.push(Te(di(t,1),t,la));var y=Zx(f,e,t,"code-block");return y?p.concat(y):p}function PH(r,e,t){var n=r,i=n.offset,a=n.syntaxLength,o=n.info,l=n.parent,c=i+a,f=[Te(di(e,1),t,_H)];f.push(Te(e,nt(e,c),la)),o&&f.push(Te(nt(e,c),nt(e,a+o.length),pc)),f.push(Te(di(t,1),t,la));var h=Zx(l,e,t,"custom-block");return h?f.concat(h):f}function Qx(r,e){for(var t=[];r;){var n=r.type;(n==="paragraph"||n==="codeBlock")&&t.push(Te([_s(r),fc(r)-1],[cc(r),fi(r)+1],e)),r=r.next}return t}function BH(r){for(var e=[];r;)e.push(Te([_s(r),fc(r)],[cc(r),fi(r)+1],tv)),r=r.next;return e}function FH(r,e,t){var n=r.parent&&r.parent.type!=="blockQuote"?[Te(e,t,xH)]:[];if(r.firstChild){var i=[];r.firstChild.type==="paragraph"?i=BH(r.firstChild.firstChild):r.firstChild.type==="list"&&(i=Qx(r.firstChild,tv)),n=zt(zt([],n),i)}return n}function HH(r){for(var e=0;r.parent.parent&&r.parent.parent.type==="item";)r=r.parent.parent,e+=1;var t=[{odd:!0},{even:!0}][e%2];return[TH,I(I({},t),{listStyle:!0})]}function qH(r,e){var t=r.listData,n=t.padding,i=t.task,a=HH(r),o=[Te.apply(void 0,zt([e,nt(e,n)],a))];return i&&(o.push(Te(nt(e,n),nt(e,n+3),OH)),o.push(Te(nt(e,n+1),nt(e,n+2),pc))),o.concat(Qx(r.firstChild,tv))}var _b={heading:LH,strong:Sd,emph:Sd,strike:Sd,link:NH,image:DH,code:IH,codeBlock:RH,blockQuote:FH,item:qH,customBlock:PH},Lb={thematicBreak:MH,table:kH,tableCell:EH,htmlInline:AH};function $H(r,e,t,n){var i=r.type;return yr(_b[i])?_b[i](r,e,t,n):Lb[i]?[Te(e,t,Lb[i])]:null}var xs={};function UH(r){var e=r.schema,t=r.toastMark;return new Wt({appendTransaction:function(n,i,a){var o=n[0],l=a.tr;if(o.docChanged){var c=[],f=o.getMeta("editResult");f.forEach(function(h){var p=h.nodes,v=h.removedNodeRange;if(p.length){c=c.concat(KH(l,p));for(var g=0,y=p;g<y.length;g++)for(var x=y[g],T=x.walker(),E=T.next();E;){var L=E.node,N=E.entering;N&&(c=c.concat(JH(L,t))),E=T.next()}}else if(v)for(var B=l.doc.childCount-1,_=v.line,z=_[0],K=_[1],$=Math.min(z,B),le=Math.min(K,B),we=$;we<=le;we+=1)xs[we]=!0}),WH(l,e,c)}return l.setMeta("widget",o.getMeta("widget"))}})}function zH(r,e,t){return Object.keys(t).some(function(n){return t[n]!==r.child(e).attrs[n]})}function VH(r,e,t,n,i){i===void 0&&(i={});for(var a=n.startIndex,o=n.endIndex,l=n.from,c=n.to,f=!1,h=a;h<=o;h+=1)delete xs[h],f=zH(e,h,i);f&&r.setBlockType(l,c,t,i)}function WH(r,e,t){var n=r.doc,i=e.nodes.paragraph,a=Xx(n,n.childCount);t.forEach(function(o){var l=o.start,c=o.end,f=o.spec,h=o.lineBackground,p=Math.min(l[0],n.childCount)-1,v=Math.min(c[0],n.childCount)-1,g=n.child(p),y=n.child(v),x=a[p],T=a[v];if(x+=l[1]+lo(g,l[1]-1),T+=c[1]+lo(y,c[1]-1),f)if(h){var E={from:x,to:T,startIndex:p,endIndex:v};VH(r,n,i,E,f.attrs)}else r.addMark(x,T,e.mark(f.type,f.attrs));else r.removeMark(x,T)}),jH(r,a,i)}function jH(r,e,t){Object.keys(xs).forEach(function(n){var i=Number(n),a=Math.min(Number(n)+1,r.doc.childCount-1),o=e[i],l=e[a]-1;i===a&&(l+=2),r.setBlockType(o,l,t)})}function GH(r,e,t){var n=[];xs={};for(var i=e[0]-1;i<t[0];i+=1){var a=r.child(i),o=a.attrs.codeEnd,l=a.attrs.codeStart;if(l&&o&&!mt(n,l)){n.push(l),o=Math.min(o,r.childCount);for(var c=l-1,f=t[0],h=c;h<f;h+=1)xs[h]=!0}}}function KH(r,e){var t=r.doc,n=e[0].sourcepos[0],i=Ct(e).sourcepos,a=i[1],o=[n[0],n[1]],l=[a[0],a[1]+1],c=[];return GH(t,n,a),c.push({start:o,end:l}),c}function JH(r,e){var t=e.getLineTexts(),n=[_s(r),fc(r)],i=[cc(r),fi(r)+1],a=$H(r,n,i,t[i[0]-1]);return a!=null?a:[]}var XH=["taskList","orderedList","bulletList","table","strong","emph","strike","heading","thematicBreak","blockQuote","code","codeBlock","indent","outdent"];function YH(r){var e=r.type;return oa(r)?r.listData.task?"taskList":r.listData.type==="ordered"?"orderedList":"bulletList":e.indexOf("table")!==-1?"table":mt(XH,e)?e:null}function ZH(r){var e={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}},t=!0;return $F(r,function(n){var i=YH(n);!i||(i==="bulletList"||i==="orderedList"?t&&(e[i]={active:!0},e.indent.disabled=!1,e.outdent.disabled=!1,t=!1):e[i]={active:!0})}),e}function QH(r){var e=r.toastMark,t=r.eventEmitter;return new Wt({view:function(){return{update:function(n,i){var a=n.state,o=a.doc,l=a.selection;if(!(i&&i.doc.eq(o)&&i.selection.eq(l))){var c=l.from,f=a.doc.resolve(c).start(),h=a.doc.content.findIndex(c).index+1,p=c-f;c===f&&(p+=1);var v=[h,p],g=e.findNodeAtPosition(v),y=ZH(g);t.emit("changeToolbarState",{cursorPos:v,mdNode:g,toolbarState:y}),t.emit("setFocusedNode",g)}}}}})}var eq=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(Le),Re=function(){function r(){}return Object.defineProperty(r.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),r.prototype.setContext=function(e){this.context=e},r}();function rr(r,e){return gi(r,e-1)}function gi(r,e){return r.child(e).textContent}var ns=/^\s*> ?/,tq=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Xe("block-quote")},0]}}},enumerable:!1,configurable:!0}),e.prototype.createBlockQuoteText=function(t,n){return n?t.replace(ns,"").trim():"> "+t.trim()},e.prototype.extendBlockQuote=function(){var t=this;return function(n,i){var a=n.selection,o=n.doc,l=n.tr,c=n.schema,f=Ke(a),h=f.endFromOffset,p=f.endToOffset,v=f.endIndex,g=f.to,y=gi(o,v),x=ns.test(y);if(x&&g>h&&a.empty){var T=!y.replace(ns,"").trim();if(T)l.deleteRange(h,p).split(l.mapping.map(p));else{var E=y.slice(g-h).trim(),L=vt(c,t.createBlockQuoteText(E));Kp(l,p,E,L)}return i(l),!0}return!1}},e.prototype.commands=function(){var t=this;return function(){return function(n,i){var a=n.selection,o=n.doc,l=Ke(a),c=l.startFromOffset,f=l.endToOffset,h=l.startIndex,p=l.endIndex,v=ns.test(gi(o,h)),g=ku({state:n,startIndex:h,endIndex:p,from:c,createText:function(y){return t.createBlockQuoteText(y,v)}});return i(g.setSelection(Ie(g,g.mapping.map(f)))),!0}}},e.prototype.keymaps=function(){var t=this.commands()();return{"alt-q":t,"alt-Q":t,Enter:this.extendBlockQuote()}},e}(Re),ua=/(^\s*)([-*+] |[\d]+\. )/,rv=/(^\s*)([\d])+\.( \[[ xX]])? /,Nn=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,Su=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,rq=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,nq=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,iq=/(^\s*)([-*+])( \[[ xX]]) /;function nv(r){return rv.test(r)?"ordered":"bullet"}function iv(r){for(var e=0;r&&r.type!=="document";)r.type==="list"&&(e+=1),r=r.parent;return e}function Ah(r,e,t,n){for(var i=r.getLineTexts(),a=i.length,o=[],l=e;n?l<a:l>1;){l=n?l+1:l-1;var c=r.findFirstNodeAtLine(l),f=iv(c);if(f===t)o.push({line:l,depth:t,mdNode:c});else if(f<t)break}return o}function aq(r){var e=r.toastMark,t=r.mdNode,n=r.line,i=iv(t),a=Ah(e,n,i,!1).reverse(),o=Ah(e,n,i,!0);return a.concat([{line:n,depth:i,mdNode:t}]).concat(o)}function oq(r){if(!ua.test(r))return"* "+r;var e=nv(r);return e==="bullet"&&Su.test(r)?r=r.replace(iq,"$1$2 "):e==="ordered"&&(r=r.replace(rv,"$1* ")),r}function sq(r,e){if(!ua.test(r))return e+". "+r;var t=nv(r);if(t==="bullet"||t==="ordered"&&Su.test(r))r=r.replace(Su,"$1"+e+". ");else if(t==="ordered"){var n=Nn.exec(r)[3];Number(n)!==e&&(r=r.replace(rv,"$1"+e+". "))}return r}function eT(r,e,t,n){n===void 0&&(n=0);var i=Number.MAX_VALUE,a=0,o=e.map(function(l,c){var f=l.line;i=Math.min(f-1,i),a=Math.max(f-1,a);var h=rr(r,f);return h=t==="bullet"?oq(h):sq(h,c+1+n),{text:h,line:f}});return{changedResults:o,firstIndex:i,lastIndex:a}}function Db(r,e){var t=aq(e);return eT(e.doc,t,r)}var lq={bullet:function(r){return Db("bullet",r)},ordered:function(r){return Db("ordered",r)},task:function(r){var e=r.mdNode,t=r.doc,n=r.line,i=rr(t,n);return e.listData.task?i=i.replace(nq,"$1$2"):oa(e)&&(i=i.replace(ua,"$1$2[ ] ")),{changedResults:[{text:i,line:n}]}}},uq={bullet:function(r){var e=r.doc,t=r.line,n=rr(e,t),i=[{text:"* "+n,line:t}];return{changedResults:i}},ordered:function(r){for(var e=r.toastMark,t=r.doc,n=r.line,i=r.startLine,a=rr(t,n),o=1,l=i,c=0,f=i-1;f>0;f-=1){var h=e.findFirstNodeAtLine(f),p=rr(t,f),v=p&&!!oo(h,function(N){return oa(N)}),g=Nn.exec(rr(t,f));if(!g&&!v)break;if(!g&&v){c+=1;continue}var y=g,x=y[1],T=y[3];if(!x){o=Number(T),l=f;break}}var E=o+n-l-c,L=[{text:E+". "+a,line:n}];return{changedResults:L}},task:function(r){var e=r.doc,t=r.line,n=rr(e,t),i=[{text:"* [ ] "+n,line:t}];return{changedResults:i}}},cq={bullet:function(r){var e=r.line,t=r.doc,n=rr(t,e),i=rq.exec(n),a=i[1],o=i[2];return{listSyntax:""+a+o}},ordered:function(r){var e=r.toastMark,t=r.line,n=r.mdNode,i=r.doc,a=iv(n),o=rr(i,t),l=Nn.exec(o),c=l[1],f=l[3],h=l[4],p=Number(f)+1,v=""+c+p+h,g=Ah(e,t,a,!0),y=g.filter(function(x){var T=Nn.exec(rr(i,x.line));return T&&T[1].length===c.length&&!!oo(x.mdNode,function(E){return Ox(E)})});return I({listSyntax:v},eT(i,y,"ordered",p))}};function tT(r,e,t,n,i){for(var a=[],o=rr(r,t),l=Nn.exec(o);l;){var c=l[1],f=l[4],h=l[5],p=c.length;if(p===i)a.push(vt(e,""+c+n+f+h)),n+=1,t+=1;else if(p>i){var v=tT(r,e,t,1,p);t=v.line,a=a.concat(v.nodes)}if(p<i||t>r.childCount)break;o=rr(r,t),l=Nn.exec(o)}return{nodes:a,line:t}}var Nb=/(^\s{1,4})(.*)/;function Ib(r,e,t){return r<e||ua.test(t)||ns.test(t)}function Rb(r,e,t){var n=t.$from;n.depth===0&&(n=r.resolve(n.pos-1));var i=n.node(1),a=n.start(1),o=i.content.size;return i.rangeHasMark(0,o,e.marks.table)&&n.pos-a!==o&&n.pos!==a}function Pb(r,e){var t=e.from,n=e.to;if(e.type==="indent"){var i=4;t+=i,n+=(e.lineLen+1)*i}else{var a=e.spaceLenList;t-=a[0];for(var o=0;o<a.length;o+=1)n-=a[o]}return Ie(r,t,n)}var fq=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(t){var n=t.attrs;return n.className?["div",{class:Xe(n.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),e.prototype.reorderList=function(t,n){for(var i=this.context,a=i.view,o=i.toastMark,l=i.schema,c=a.state,f=c.tr,h=c.selection,p=c.doc,v=o.findFirstNodeAtLine(t),g=v;v&&!HF(v)&&v.parent.type!=="document";)if(v=v.parent,Ox(v)){g=v;break}g&&(t=g.sourcepos[0][0]);var y=Nn.exec(rr(p,t)),x=y[1],T=y[3],E=x.length,L=tT(p,l,t,Number(T),E),N=L.line,B=L.nodes;n=Math.max(n,N-1);for(var _=Eu(p,t-1).startOffset,z=t-1;z<=n-1;z+=1){var K=p.child(z),$=K.nodeSize,le=K.content,we=f.mapping.map(_),De=we+le.size;f.replaceWith(we,De,B[z-t+1]),_+=$}var Se=Ie(f,h.from,h.to);a.dispatch(f.setSelection(Se))},e.prototype.indent=function(t){var n=this;return t===void 0&&(t=!1),function(){return function(i,a){var o=i.schema,l=i.selection,c=i.doc,f=Ke(l),h=f.from,p=f.to,v=f.startFromOffset,g=f.startIndex,y=f.endIndex;if(t&&Rb(c,o,l))return!1;var x=gi(c,g);if(t&&Ib(h,p,x)||!t&&ua.test(x)){var T=ku({state:i,from:v,startIndex:g,endIndex:y,createText:function(L){return"    "+L}}),E={type:"indent",from:h,to:p,lineLen:y-g};a(T.setSelection(Pb(T,E))),Nn.test(x)&&n.reorderList(g+1,y+1)}else t&&a(i.tr.insert(p,vt(o,"    ")));return!0}}},e.prototype.outdent=function(t){var n=this;return t===void 0&&(t=!1),function(){return function(i,a){var o=i.selection,l=i.doc,c=i.schema,f=Ke(o),h=f.from,p=f.to,v=f.startFromOffset,g=f.startIndex,y=f.endIndex;if(t&&Rb(l,c,o))return!1;var x=gi(l,g);if(t&&Ib(h,p,x)||!t&&ua.test(x)){var T=[],E=ku({state:i,from:v,startIndex:g,endIndex:y,createText:function(z){var K=Nb.exec(z);return T.push(K?K[1].length:0),z.replace(Nb,"$2")}}),L={type:"outdent",from:h,to:p,spaceLenList:T};a(E.setSelection(Pb(E,L))),Nn.test(x)&&n.reorderList(g+1,y+1)}else if(t){var N=x.slice(0,p-v),B=N.replace(/\s{1,4}$/,""),_=p-(N.length-B.length);a(i.tr.delete(_,p))}return!0}}},e.prototype.deleteLines=function(){var t=this;return function(n,i){var a=t.context.view,o=Ke(n.selection),l=o.startFromOffset,c=o.endToOffset,f=function(){return i(n.tr.deleteRange(l,c)),!0};return lc(f,px)(n,i,a)}},e.prototype.moveDown=function(){return function(t,n){var i=t.doc,a=t.tr,o=t.selection,l=t.schema,c=Ke(o),f=c.startFromOffset,h=c.endToOffset,p=c.endIndex;if(p<i.content.childCount-1){var v=i.child(p+1),g=v.nodeSize,y=v.textContent;return a.delete(h,h+g).split(f).insert(a.mapping.map(f)-2,vt(l,y)),n(a),!0}return!1}},e.prototype.moveUp=function(){return function(t,n){var i=t.tr,a=t.doc,o=t.selection,l=t.schema,c=Ke(o),f=c.startFromOffset,h=c.endToOffset,p=c.startIndex;if(p>0){var v=a.child(p-1),g=v.nodeSize,y=v.textContent;return i.delete(f-g,f).split(i.mapping.map(h)).insert(i.mapping.map(h),vt(l,y)),n(i),!0}return!1}},e.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},e.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},e}(Le),dq=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e}(Le),hq=/^#{1,6}\s/,pq=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.level,a=n.seText,o="heading|heading"+i;return a&&(o+="|delimiter|setext"),["span",{class:Xe.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.createHeadingText=function(t,n,i){for(var a=n.replace(i,"").trim(),o="";t>0;)o+="#",t-=1;return o+" "+a},e.prototype.commands=function(){var t=this;return function(n){return function(i,a){var o=n.level,l=Ke(i.selection),c=l.startFromOffset,f=l.endToOffset,h=l.startIndex,p=l.endIndex,v=ku({state:i,from:c,startIndex:h,endIndex:p,createText:function(g){var y=g.match(hq),x=y?y[0]:"";return t.createHeadingText(o,g,x)}});return a(v.setSelection(Ie(v,v.mapping.map(f)))),!0}}},e}(Re),Md="```",vq=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Xe("code-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){var i=t.selection,a=t.schema,o=t.tr,l=Ke(i),c=l.startFromOffset,f=l.endToOffset,h=vt(a,Md);return o.insert(c,h).split(c+Md.length),o.split(o.mapping.map(f)).insert(o.mapping.map(f),h),n(o.setSelection(Ie(o,o.mapping.map(f)-(Md.length+2)))),!0}}},e.prototype.keepIndentation=function(){var t=this;return function(n,i){var a=n.selection,o=n.tr,l=n.doc,c=n.schema,f=t.context.toastMark,h=Ke(a),p=h.startFromOffset,v=h.endToOffset,g=h.endIndex,y=h.from,x=h.to,T=gi(l,g);if(y===x&&T.trim()){var E=T.match(/^\s+/),L=f.findFirstNodeAtLine(g+1);if(FF(L)&&E){var N=E[0],B=T.slice(x-p),_=vt(c,N+B);return Kp(o,v,B,_),i(o),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,Enter:this.keepIndentation()}},e}(Re),mq=/\||\s/g;function gq(r){return[Mu(r),Mu(r,!0)]}function yq(r,e){for(var t=[],n=0;n<e;n+=1)t.push(Mu(r));return t}function Mu(r,e){for(var t="|",n=0;n<r;n+=1)t+=e?" --- |":"  |";return t}function bq(r){return r?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}var wq=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Xe("table")},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendTable=function(){var t=this;return function(n,i){var a=n.selection,o=n.doc,l=n.tr,c=n.schema;if(!a.empty)return!1;var f=Ke(a),h=f.endFromOffset,p=f.endToOffset,v=f.endIndex,g=f.to,y=gi(o,v),x=[v+1,g-h+1],T=t.context.toastMark.findNodeAtPosition(x),E=oo(T,function(z){return Tb(z)&&(z.parent.type==="tableDelimRow"||z.parent.parent.type==="tableBody")});if(E){var L=!y.replace(mq,"").trim(),N=E.parent,B=N.parent.parent.columns.length,_=Mu(B);return L?l.deleteRange(h,p).split(l.mapping.map(p)):l.split(p).insert(l.mapping.map(p),vt(c,_)).setSelection(Ie(l,l.mapping.map(p)-2)),i(l),!0}return!1}},e.prototype.moveTableCell=function(t){var n=this;return function(i,a){var o=i.selection,l=i.tr,c=Ke(o),f=c.endFromOffset,h=c.endIndex,p=c.to,v=[h+1,p-f],g=n.context.toastMark.findNodeAtPosition(v),y=oo(g,function(K){return Tb(K)});if(y){var x=y.parent,T=bq(t),E=T.type,L=T.parentType,N=T.childType,B=fi(y);if(y[E])B=fi(y[E])-1;else{var _=!x[E]&&x.parent.type===L?x.parent[E][N]:x[E];if(E==="next"){var z=_?fi(_[N]):0;B+=z+2}else E==="prev"&&(B=_?-4:0)}return a(l.setSelection(Ie(l,f+B))),!0}return!1}},e.prototype.addTable=function(){return function(t){return function(n,i){var a=n.selection,o=n.tr,l=n.schema,c=t,f=c.columnCount,h=c.rowCount,p=Ke(a).endToOffset,v=gq(f),g=yq(f,h-1),y=zt(zt([],v),g);return y.forEach(function(x){o.split(o.mapping.map(p)).insert(o.mapping.map(p),vt(l,x))}),i(o.setSelection(Ie(o,p+4))),!0}}},e.prototype.commands=function(){return{addTable:this.addTable()}},e.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},e}(Re),Cq="***",xq=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Xe("thematic-break")},0]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){return function(){return function(t,n){var i=t.selection,a=t.schema,o=t.tr,l=Ke(i),c=l.from,f=l.to,h=l.endToOffset,p=vt(a,Cq);return o.split(c).replaceWith(o.mapping.map(c),o.mapping.map(f),p).split(o.mapping.map(f)).setSelection(Ie(o,o.mapping.map(h))),n(o),!0}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(Re);function Tq(r,e){var t=r.type,n=r.sourcepos,i=n[0][0];return e<=i&&(t==="codeBlock"||t==="heading"||t.match("table"))}var kq=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.odd,a=n.even,o=n.listStyle,l="list-item";return o&&(l+="|list-item-style"),i&&(l+="|list-item-odd"),a&&(l+="|list-item-even"),["span",{class:Xe.apply(void 0,l.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendList=function(){var t=this;return function(n,i){var a=n.selection,o=n.doc,l=n.schema,c=n.tr,f=t.context.toastMark,h=Ke(a),p=h.to,v=h.startFromOffset,g=h.endFromOffset,y=h.endIndex,x=h.endToOffset,T=gi(o,y),E=ua.test(T);if(!E||a.from===v||!a.empty)return!1;var L=!T.replace(Su,"").trim();if(L)c.deleteRange(g,x).split(c.mapping.map(x));else{var N=nv(T),B=f.findFirstNodeAtLine(y+1),_=T.slice(p-g),z={toastMark:f,mdNode:B,doc:o,line:y+1},K=cq[N](z),$=K.listSyntax,le=K.changedResults;if(le!=null&&le.length){c.split(p),le.unshift({text:$+_,line:y+1}),t.changeToListPerLine(c,le,{from:p,startLine:le[0].line,endLine:Ct(le).line});var we=c.mapping.map(x)-_.length;c.setSelection(Ie(c,we))}else{var De=vt(l,$+_);Kp(c,x,_,De)}}return i(c),!0}},e.prototype.toList=function(t){var n=this;return function(){return function(i,a){for(var o=i.doc,l=i.tr,c=i.selection,f=n.context.toastMark,h=Ke(c),p=h.startIndex+1,v=h.endIndex+1,g=h.endToOffset,y=[],x=p;x<=v;x+=1){var T=f.findFirstNodeAtLine(x);if(T&&Tq(T,x))break;if(y.indexOf(x)===-1){var E={toastMark:f,mdNode:T,doc:o,line:x,startLine:p},L=(oa(T)?lq[t](E):uq[t](E)).changedResults,N=n.changeToListPerLine(l,L,{from:Eu(o,L[0].line-1).startOffset,startLine:L[0].line,endLine:Ct(L).line,indexDiff:1});g=Math.max(N,g),L&&(y=y.concat(L.map(function(B){return B.line})))}}return a(l.setSelection(Ie(l,l.mapping.map(g)))),!0}}},e.prototype.changeToListPerLine=function(t,n,i){for(var a=i.from,o=i.startLine,l=i.endLine,c=i.indexDiff,f=c===void 0?0:c,h=0,p=function(y){var x=t.doc.child(y),T=x.nodeSize,E=x.content,L=t.mapping.map(a),N=L+E.size,B=n.filter(function(_){return _.line-f===y})[0];B&&(t.replaceWith(L,N,vt(v.context.schema,B.text)),h=Math.max(h,a+E.size)),a+=T},v=this,g=o-f;g<=l-f;g+=1)p(g);return h},e.prototype.toggleTask=function(){var t=this;return function(n,i){for(var a=n.selection,o=n.tr,l=n.doc,c=n.schema,f=t.context.toastMark,h=Ke(a),p=h.startIndex,v=h.endIndex,g=null,y=p;y<=v;y+=1){var x=f.findFirstNodeAtLine(y+1);if(oa(x)&&x.listData.task){var T=x.listData,E=T.checked,L=T.padding,N=E?" ":"x",B=x.sourcepos[0],_=Eu(l,B[0]-1).startOffset;_+=B[1]+L,g=o.replaceWith(_,_+1,c.text(N))}}return g?(i(g),!0):!1}},e.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},e.prototype.keymaps=function(){var t=this.toList("bullet")(),n=this.toList("ordered")(),i=this.toList("task")(),a=this.toggleTask();return{"Mod-u":t,"Mod-U":t,"Mod-o":n,"Mod-O":n,"alt-t":i,"alt-T":i,"Shift-Ctrl-x":a,"Shift-Ctrl-X":a,Enter:this.extendList()}},e}(Re);function vc(r,e){return function(){return function(t,n){var i=t.tr,a=t.selection,o=yr(r)?r:function(N){return r.test(N)},l=e.length,c=i.doc,f=Jx(a),h=f[0],p=f[1],v=Math.max(h-l,1),g=Math.min(p+l,c.content.size-1),y=a.content(),x=y.content.textBetween(0,y.content.size,`
`),T=c.textBetween(v,h,`
`),E=c.textBetween(p,g,`
`);if(x=""+T+x+E,T&&E&&o(x))i.delete(g-l,g).delete(v,v+l);else{i.insertText(e,p).insertText(e,h);var L=a.empty?Ie(i,h+l):Ie(i,h+l,p+l);i.setSelection(L)}return n(i),!0}}}var Eq=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,Sq="**",Mq=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Xe("strong")},0]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return vc(Eq,Sq)},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(Re),Oq=/^(~{2}).*([\s\S]*)\1$/m,Aq="~~",_q=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Xe("strike")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return vc(Oq,Aq)},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(Re),Lq=/^(\*|_).*([\s\S]*)\1$/m,Dq="*",Nq=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Xe("emph")},0]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return vc(Lq,Dq)},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(Re),Iq=/^(`).*([\s\S]*)\1$/m,Rq="`",Pq=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.start,a=n.end,o=n.marked,l="code";return i&&(l+="|delimiter|start"),a&&(l+="|delimiter|end"),o&&(l+="|marked-text"),["span",{class:Xe.apply(void 0,l.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return vc(Iq,Rq)},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(Re),Bq=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.url,a=n.desc,o="link";return i&&(o+="|link-url|marked-text"),a&&(o+="|link-desc|marked-text"),["span",{class:Xe.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.addLinkOrImage=function(t){return function(n){return function(i,a){var o=i.selection,l=i.tr,c=i.schema,f=Jx(o),h=f[0],p=f[1],v=n,g=v.linkText,y=v.altText,x=v.linkUrl,T=v.imageUrl,E=g,L=x,N="";return t==="image"&&(E=y,L=T,N="!"),E=Cu(E),N+="["+E+"]("+L+")",a(l.replaceWith(h,p,vt(c,N))),!0}}},e.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},e}(Re),Fq=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Xe("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),e}(Re),Hq=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Xe("delimiter")},0]}}},enumerable:!1,configurable:!0}),e}(Re),qq=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Xe("meta")},0]}}},enumerable:!1,configurable:!0}),e}(Re),$q=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Xe("marked-text")},0]}}},enumerable:!1,configurable:!0}),e}(Re),Uq=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Xe("table-cell")},0]}}},enumerable:!1,configurable:!0}),e}(Re),zq=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Xe("html")},0]}}},enumerable:!1,configurable:!0}),e}(Re),Od="$$",Vq=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Xe("custom-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,i){var a=n.selection,o=n.schema,l=n.tr,c=Ke(a),f=c.startFromOffset,h=c.endToOffset;if(!(t!=null&&t.info))return!1;var p=""+Od+t.info,v=vt(o,p),g=vt(o,Od);return l.insert(f,v).split(f+p.length),l.split(l.mapping.map(h)).insert(l.mapping.map(h),g),i(l.setSelection(Ie(l,l.mapping.map(h)-(Od.length+2)))),!0}}},e}(Re),Wq=/x|backspace/i,jq=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function Gq(r){var e=r.schema,t=r.toastMark;return new Wt({props:{handleDOMEvents:{keyup:function(n,i){var a,o=n.state,l=o.doc,c=o.tr,f=o.selection;if(f.empty&&Wq.test(i.key)){var h=Ke(f),p=h.startIndex,v=h.startFromOffset,g=h.from,y=[p+1,g-v+1],x=t.findNodeAtPosition(y),T=oo(x,function(De){var Se;return De.type==="paragraph"&&((Se=De.parent)===null||Se===void 0?void 0:Se.type)==="item"});if(!((a=T==null?void 0:T.firstChild)===null||a===void 0)&&a.literal){var E=T.firstChild,L=E.literal.match(jq);if(L){var N=E.sourcepos[0],B=L[1],_=L[2],z=L[3],K=B.length+z.length,$=Eu(l,N[0]-1).startOffset,le=N[1]+$;if(_){var we=K?K+1:0;c.replaceWith(le,we+le,e.text(_)),n.dispatch(c)}else K||(c.insertText(" ",le),n.dispatch(c))}}}return!1}}}})}var Ad="cut",Bb=/\r\n|\n|\r/,Kq=function(r){G(e,r);function e(t,n){var i=r.call(this,t)||this,a=n.toastMark,o=n.useCommandShortcut,l=o===void 0?!0:o,c=n.mdPlugins,f=c===void 0?[]:c;return i.editorType="markdown",i.el.classList.add("md-mode"),i.toastMark=a,i.extraPlugins=f,i.specs=i.createSpecs(),i.schema=i.createSchema(),i.context=i.createContext(),i.keymaps=i.createKeymaps(l),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(I(I({},i.context),{view:i.view})),i.createClipboard(),i.eventEmitter.listen("changePreviewTabWrite",function(h){return i.toggleActive(!0,h)}),i.eventEmitter.listen("changePreviewTabPreview",function(){return i.toggleActive(!1)}),i.initEvent(),i}return e.prototype.toggleActive=function(t,n){Xp(this.el,"active",t),t?n||this.focus():this.blur()},e.prototype.createClipboard=function(){var t=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=J("pseudo-clipboard"),this.clipboard.addEventListener("paste",function(n){var i=n.clipboardData||window.clipboardData,a=i&&i.items;if(a){var o=sn(a).some(function(c){return c.kind==="string"&&c.type==="text/rtf"});if(!o){var l=Vx(a);l&&(n.preventDefault(),ev(t.eventEmitter,l,n.type))}}}),this.clipboard.addEventListener("input",function(n){var i=n.target.value;t.replaceSelection(i),n.preventDefault(),n.target.value=""}),this.el.insertBefore(this.clipboard,this.view.dom)},e.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSpecs=function(){return new Kx([new eq,new fq,new jx,new dq,new pq,new tq,new vq,new Vq,new wq,new Uq,new xq,new kq,new Mq,new _q,new Nq,new Pq,new Bq,new Hq,new Fq,new $q,new qq,new zq])},e.prototype.createPlugins=function(){return zt([UH(this.context),QH(this.context),Gq(this.context)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createView=function(){var t=this;return new Ip(this.el,{state:this.createState(),dispatchTransaction:function(n){t.updateMarkdown(n);var i=t.view.state.applyTransaction(n).state;t.view.updateState(i),t.emitChangeEvent(n)},handleKeyDown:function(n,i){return(i.metaKey||i.ctrlKey)&&i.key.toUpperCase()==="V"&&t.clipboard.focus(),t.eventEmitter.emit("keydown",t.editorType,i),!1},handleDOMEvents:{copy:function(n,i){return t.captureCopy(i)},cut:function(n,i){return t.captureCopy(i,Ad)},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0},keyup:function(n,i){return t.eventEmitter.emit("keyup",t.editorType,i),!1}},nodeViews:{widget:Wx}})},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.captureCopy=function(t,n){t.preventDefault();var i=this.view.state,a=i.selection,o=i.tr;if(a.empty)return!0;var l=this.getChanged(a.content());return t.clipboardData?t.clipboardData.setData("text/plain",l):window.clipboardData.setData("Text",l),n===Ad&&this.view.dispatch(o.deleteSelection().scrollIntoView().setMeta("uiEvent",Ad)),!0},e.prototype.updateMarkdown=function(t){var n=this;t.docChanged&&t.steps.forEach(function(i,a){if(i.slice&&!(i instanceof at)){var o=t.docs[a],l=[i.from,i.to],c=l[0],f=l[1],h=Xl(o,c,f),p=h[0],v=h[1],g=n.getChanged(i.slice);p[0]===v[0]&&p[1]===v[1]&&g===""&&(g=`
`);var y=n.toastMark.editMarkdown(p,v,g);n.eventEmitter.emit("updatePreview",y),t.setMeta("editResult",y).scrollIntoView()}})},e.prototype.getChanged=function(t){var n="",i=0,a=t.content.size;return t.content.nodesBetween(i,a,function(o,l){o.isText?n+=o.text.slice(Math.max(i,l)-l,a-l):o.isBlock&&l>0&&(n+=`
`)}),n},e.prototype.setSelection=function(t,n){n===void 0&&(n=t);var i=this.view.state.tr,a=$i(i.doc,t,n),o=a[0],l=a[1];this.view.dispatch(i.setSelection(Ie(i,o,l)).scrollIntoView())},e.prototype.replaceSelection=function(t,n,i){var a,o=this.view.state,l=o.tr,c=o.schema,f=o.doc,h=t.split(Bb),p=h.map(function(T){return Tu(c,Zi(T,c))}),v=new W(q.from(p),1,1);if(this.focus(),n&&i){var g=$i(f,n,i),y=g[0],x=g[1];a=l.replaceRange(y,x,v)}else a=l.replaceSelection(v);this.view.dispatch(a.scrollIntoView())},e.prototype.deleteSelection=function(t,n){var i,a=this.view.state,o=a.tr,l=a.doc;if(t&&n){var c=$i(l,t,n),f=c[0],h=c[1];i=o.deleteRange(f,h)}else i=o.deleteSelection();this.view.dispatch(i.scrollIntoView())},e.prototype.getSelectedText=function(t,n){var i=this.view.state,a=i.doc,o=i.selection,l=o.from,c=o.to;if(t&&n){var f=$i(a,t,n);l=f[0],c=f[1]}return a.textBetween(l,c,`
`)},e.prototype.getSelection=function(){var t=this.view.state.selection,n=t.from,i=t.to;return Xl(this.view.state.tr.doc,n,i)},e.prototype.setMarkdown=function(t,n){n===void 0&&(n=!0);var i=t.split(Bb),a=this.view.state,o=a.tr,l=a.doc,c=a.schema,f=i.map(function(h){return Tu(c,Zi(h,c))});this.view.dispatch(o.replaceWith(0,l.content.size,f)),n&&this.moveCursorToEnd(!0)},e.prototype.addWidget=function(t,n,i){var a=this.view.state,o=a.tr,l=a.doc,c=a.selection,f=i?$i(l,i,i)[0]:c.to;this.view.dispatch(o.setMeta("widget",{pos:f,node:t,style:n}))},e.prototype.replaceWithWidget=function(t,n,i){var a=this.view.state,o=a.tr,l=a.schema,c=a.doc,f=$i(c,t,n),h=Zi(i,l);this.view.dispatch(o.replaceWith(f[0],f[1],h))},e.prototype.getRangeInfoOfNode=function(t){var n=this.view.state,i=n.doc,a=n.selection,o=t||Xl(i,a.from)[0],l=this.toastMark.findNodeAtPosition(o);return l.type==="text"&&l.parent.type!=="paragraph"&&(l=l.parent),l.sourcepos[1][1]+=1,{range:l.sourcepos,type:l.type}},e.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map(function(t){return dc(t)}).join(`
`)},e.prototype.getToastMark=function(){return this.toastMark},e}(Gx),Fb="_feEventKey";function Jq(r,e){var t=r[Fb],n;return t||(t=r[Fb]={}),n=t[e],n||(n=t[e]=[]),n}var rT=Jq,Xq=Pn,Ou=uc,Yq=rT;function Zq(r,e,t){if(Xq(e)){Ou(e.split(/\s+/g),function(n){Hb(r,n,t)});return}Ou(e,function(n,i){Hb(r,i,n)})}function Hb(r,e,t){var n=Yq(r,e),i;t?(Ou(n,function(a,o){return t===a.handler?(qb(r,e,a.wrappedHandler),i=o,!1):!0}),n.splice(i,1)):(Ou(n,function(a){qb(r,e,a.wrappedHandler)}),n.splice(0,n.length))}function qb(r,e,t){"removeEventListener"in r?r.removeEventListener(e,t):"detachEvent"in r&&r.detachEvent("on"+e,t)}var nT=Zq,Qq=Pn,_h=uc,e$=rT;function t$(r,e,t,n){if(Qq(e)){_h(e.split(/\s+/g),function(i){$b(r,i,t,n)});return}_h(e,function(i,a){$b(r,a,i,t)})}function $b(r,e,t,n){function i(a){t.call(n||r,a||window.event)}"addEventListener"in r?r.addEventListener(e,i):"attachEvent"in r&&r.attachEvent("on"+e,i),r$(r,e,t,i)}function r$(r,e,t,n){var i=e$(r,e),a=!1;_h(i,function(o){return o.handler===t?(a=!0,!1):!0}),a||i.push({handler:t,wrappedHandler:n})}var iT=t$;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Lh=function(r,e){return Lh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},Lh(r,e)};function br(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Lh(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var dt=function(){return dt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},dt.apply(this,arguments)};function Dh(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}var uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ub={};function n$(r){var e,t,n=Ub[r];if(n)return n;for(n=Ub[r]=[],e=0;e<128;e++)t=String.fromCharCode(e),/^[0-9a-z]$/i.test(t)?n.push(t):n.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<r.length;e++)n[r.charCodeAt(e)]=r[e];return n}function mc(r,e,t){var n,i,a,o,l,c="";for(typeof e!="string"&&(t=e,e=mc.defaultChars),typeof t>"u"&&(t=!0),l=n$(e),n=0,i=r.length;n<i;n++){if(a=r.charCodeAt(n),t&&a===37&&n+2<i&&/^[0-9a-f]{2}$/i.test(r.slice(n+1,n+3))){c+=r.slice(n,n+3),n+=2;continue}if(a<128){c+=l[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&n+1<i&&(o=r.charCodeAt(n+1),o>=56320&&o<=57343)){c+=encodeURIComponent(r[n]+r[n+1]),n++;continue}c+="%EF%BF%BD";continue}c+=encodeURIComponent(r[n])}return c}mc.defaultChars=";/?:@&=+$,-_.!~*'()#";mc.componentChars="-_.!~*'()";var i$=mc,av={},In={},a$="\xC1",o$="\xE1",s$="\u0102",l$="\u0103",u$="\u223E",c$="\u223F",f$="\u223E\u0333",d$="\xC2",h$="\xE2",p$="\xB4",v$="\u0410",m$="\u0430",g$="\xC6",y$="\xE6",b$="\u2061",w$="\u{1D504}",C$="\u{1D51E}",x$="\xC0",T$="\xE0",k$="\u2135",E$="\u2135",S$="\u0391",M$="\u03B1",O$="\u0100",A$="\u0101",_$="\u2A3F",L$="&",D$="&",N$="\u2A55",I$="\u2A53",R$="\u2227",P$="\u2A5C",B$="\u2A58",F$="\u2A5A",H$="\u2220",q$="\u29A4",$$="\u2220",U$="\u29A8",z$="\u29A9",V$="\u29AA",W$="\u29AB",j$="\u29AC",G$="\u29AD",K$="\u29AE",J$="\u29AF",X$="\u2221",Y$="\u221F",Z$="\u22BE",Q$="\u299D",e2="\u2222",t2="\xC5",r2="\u237C",n2="\u0104",i2="\u0105",a2="\u{1D538}",o2="\u{1D552}",s2="\u2A6F",l2="\u2248",u2="\u2A70",c2="\u224A",f2="\u224B",d2="'",h2="\u2061",p2="\u2248",v2="\u224A",m2="\xC5",g2="\xE5",y2="\u{1D49C}",b2="\u{1D4B6}",w2="\u2254",C2="*",x2="\u2248",T2="\u224D",k2="\xC3",E2="\xE3",S2="\xC4",M2="\xE4",O2="\u2233",A2="\u2A11",_2="\u224C",L2="\u03F6",D2="\u2035",N2="\u223D",I2="\u22CD",R2="\u2216",P2="\u2AE7",B2="\u22BD",F2="\u2305",H2="\u2306",q2="\u2305",$2="\u23B5",U2="\u23B6",z2="\u224C",V2="\u0411",W2="\u0431",j2="\u201E",G2="\u2235",K2="\u2235",J2="\u2235",X2="\u29B0",Y2="\u03F6",Z2="\u212C",Q2="\u212C",eU="\u0392",tU="\u03B2",rU="\u2136",nU="\u226C",iU="\u{1D505}",aU="\u{1D51F}",oU="\u22C2",sU="\u25EF",lU="\u22C3",uU="\u2A00",cU="\u2A01",fU="\u2A02",dU="\u2A06",hU="\u2605",pU="\u25BD",vU="\u25B3",mU="\u2A04",gU="\u22C1",yU="\u22C0",bU="\u290D",wU="\u29EB",CU="\u25AA",xU="\u25B4",TU="\u25BE",kU="\u25C2",EU="\u25B8",SU="\u2423",MU="\u2592",OU="\u2591",AU="\u2593",_U="\u2588",LU="=\u20E5",DU="\u2261\u20E5",NU="\u2AED",IU="\u2310",RU="\u{1D539}",PU="\u{1D553}",BU="\u22A5",FU="\u22A5",HU="\u22C8",qU="\u29C9",$U="\u2510",UU="\u2555",zU="\u2556",VU="\u2557",WU="\u250C",jU="\u2552",GU="\u2553",KU="\u2554",JU="\u2500",XU="\u2550",YU="\u252C",ZU="\u2564",QU="\u2565",ez="\u2566",tz="\u2534",rz="\u2567",nz="\u2568",iz="\u2569",az="\u229F",oz="\u229E",sz="\u22A0",lz="\u2518",uz="\u255B",cz="\u255C",fz="\u255D",dz="\u2514",hz="\u2558",pz="\u2559",vz="\u255A",mz="\u2502",gz="\u2551",yz="\u253C",bz="\u256A",wz="\u256B",Cz="\u256C",xz="\u2524",Tz="\u2561",kz="\u2562",Ez="\u2563",Sz="\u251C",Mz="\u255E",Oz="\u255F",Az="\u2560",_z="\u2035",Lz="\u02D8",Dz="\u02D8",Nz="\xA6",Iz="\u{1D4B7}",Rz="\u212C",Pz="\u204F",Bz="\u223D",Fz="\u22CD",Hz="\u29C5",qz="\\",$z="\u27C8",Uz="\u2022",zz="\u2022",Vz="\u224E",Wz="\u2AAE",jz="\u224F",Gz="\u224E",Kz="\u224F",Jz="\u0106",Xz="\u0107",Yz="\u2A44",Zz="\u2A49",Qz="\u2A4B",eV="\u2229",tV="\u22D2",rV="\u2A47",nV="\u2A40",iV="\u2145",aV="\u2229\uFE00",oV="\u2041",sV="\u02C7",lV="\u212D",uV="\u2A4D",cV="\u010C",fV="\u010D",dV="\xC7",hV="\xE7",pV="\u0108",vV="\u0109",mV="\u2230",gV="\u2A4C",yV="\u2A50",bV="\u010A",wV="\u010B",CV="\xB8",xV="\xB8",TV="\u29B2",kV="\xA2",EV="\xB7",SV="\xB7",MV="\u{1D520}",OV="\u212D",AV="\u0427",_V="\u0447",LV="\u2713",DV="\u2713",NV="\u03A7",IV="\u03C7",RV="\u02C6",PV="\u2257",BV="\u21BA",FV="\u21BB",HV="\u229B",qV="\u229A",$V="\u229D",UV="\u2299",zV="\xAE",VV="\u24C8",WV="\u2296",jV="\u2295",GV="\u2297",KV="\u25CB",JV="\u29C3",XV="\u2257",YV="\u2A10",ZV="\u2AEF",QV="\u29C2",eW="\u2232",tW="\u201D",rW="\u2019",nW="\u2663",iW="\u2663",aW=":",oW="\u2237",sW="\u2A74",lW="\u2254",uW="\u2254",cW=",",fW="@",dW="\u2201",hW="\u2218",pW="\u2201",vW="\u2102",mW="\u2245",gW="\u2A6D",yW="\u2261",bW="\u222E",wW="\u222F",CW="\u222E",xW="\u{1D554}",TW="\u2102",kW="\u2210",EW="\u2210",SW="\xA9",MW="\xA9",OW="\u2117",AW="\u2233",_W="\u21B5",LW="\u2717",DW="\u2A2F",NW="\u{1D49E}",IW="\u{1D4B8}",RW="\u2ACF",PW="\u2AD1",BW="\u2AD0",FW="\u2AD2",HW="\u22EF",qW="\u2938",$W="\u2935",UW="\u22DE",zW="\u22DF",VW="\u21B6",WW="\u293D",jW="\u2A48",GW="\u2A46",KW="\u224D",JW="\u222A",XW="\u22D3",YW="\u2A4A",ZW="\u228D",QW="\u2A45",e3="\u222A\uFE00",t3="\u21B7",r3="\u293C",n3="\u22DE",i3="\u22DF",a3="\u22CE",o3="\u22CF",s3="\xA4",l3="\u21B6",u3="\u21B7",c3="\u22CE",f3="\u22CF",d3="\u2232",h3="\u2231",p3="\u232D",v3="\u2020",m3="\u2021",g3="\u2138",y3="\u2193",b3="\u21A1",w3="\u21D3",C3="\u2010",x3="\u2AE4",T3="\u22A3",k3="\u290F",E3="\u02DD",S3="\u010E",M3="\u010F",O3="\u0414",A3="\u0434",_3="\u2021",L3="\u21CA",D3="\u2145",N3="\u2146",I3="\u2911",R3="\u2A77",P3="\xB0",B3="\u2207",F3="\u0394",H3="\u03B4",q3="\u29B1",$3="\u297F",U3="\u{1D507}",z3="\u{1D521}",V3="\u2965",W3="\u21C3",j3="\u21C2",G3="\xB4",K3="\u02D9",J3="\u02DD",X3="`",Y3="\u02DC",Z3="\u22C4",Q3="\u22C4",ej="\u22C4",tj="\u2666",rj="\u2666",nj="\xA8",ij="\u2146",aj="\u03DD",oj="\u22F2",sj="\xF7",lj="\xF7",uj="\u22C7",cj="\u22C7",fj="\u0402",dj="\u0452",hj="\u231E",pj="\u230D",vj="$",mj="\u{1D53B}",gj="\u{1D555}",yj="\xA8",bj="\u02D9",wj="\u20DC",Cj="\u2250",xj="\u2251",Tj="\u2250",kj="\u2238",Ej="\u2214",Sj="\u22A1",Mj="\u2306",Oj="\u222F",Aj="\xA8",_j="\u21D3",Lj="\u21D0",Dj="\u21D4",Nj="\u2AE4",Ij="\u27F8",Rj="\u27FA",Pj="\u27F9",Bj="\u21D2",Fj="\u22A8",Hj="\u21D1",qj="\u21D5",$j="\u2225",Uj="\u2913",zj="\u2193",Vj="\u2193",Wj="\u21D3",jj="\u21F5",Gj="\u0311",Kj="\u21CA",Jj="\u21C3",Xj="\u21C2",Yj="\u2950",Zj="\u295E",Qj="\u2956",eG="\u21BD",tG="\u295F",rG="\u2957",nG="\u21C1",iG="\u21A7",aG="\u22A4",oG="\u2910",sG="\u231F",lG="\u230C",uG="\u{1D49F}",cG="\u{1D4B9}",fG="\u0405",dG="\u0455",hG="\u29F6",pG="\u0110",vG="\u0111",mG="\u22F1",gG="\u25BF",yG="\u25BE",bG="\u21F5",wG="\u296F",CG="\u29A6",xG="\u040F",TG="\u045F",kG="\u27FF",EG="\xC9",SG="\xE9",MG="\u2A6E",OG="\u011A",AG="\u011B",_G="\xCA",LG="\xEA",DG="\u2256",NG="\u2255",IG="\u042D",RG="\u044D",PG="\u2A77",BG="\u0116",FG="\u0117",HG="\u2251",qG="\u2147",$G="\u2252",UG="\u{1D508}",zG="\u{1D522}",VG="\u2A9A",WG="\xC8",jG="\xE8",GG="\u2A96",KG="\u2A98",JG="\u2A99",XG="\u2208",YG="\u23E7",ZG="\u2113",QG="\u2A95",e4="\u2A97",t4="\u0112",r4="\u0113",n4="\u2205",i4="\u2205",a4="\u25FB",o4="\u2205",s4="\u25AB",l4="\u2004",u4="\u2005",c4="\u2003",f4="\u014A",d4="\u014B",h4="\u2002",p4="\u0118",v4="\u0119",m4="\u{1D53C}",g4="\u{1D556}",y4="\u22D5",b4="\u29E3",w4="\u2A71",C4="\u03B5",x4="\u0395",T4="\u03B5",k4="\u03F5",E4="\u2256",S4="\u2255",M4="\u2242",O4="\u2A96",A4="\u2A95",_4="\u2A75",L4="=",D4="\u2242",N4="\u225F",I4="\u21CC",R4="\u2261",P4="\u2A78",B4="\u29E5",F4="\u2971",H4="\u2253",q4="\u212F",$4="\u2130",U4="\u2250",z4="\u2A73",V4="\u2242",W4="\u0397",j4="\u03B7",G4="\xD0",K4="\xF0",J4="\xCB",X4="\xEB",Y4="\u20AC",Z4="!",Q4="\u2203",eK="\u2203",tK="\u2130",rK="\u2147",nK="\u2147",iK="\u2252",aK="\u0424",oK="\u0444",sK="\u2640",lK="\uFB03",uK="\uFB00",cK="\uFB04",fK="\u{1D509}",dK="\u{1D523}",hK="\uFB01",pK="\u25FC",vK="\u25AA",mK="fj",gK="\u266D",yK="\uFB02",bK="\u25B1",wK="\u0192",CK="\u{1D53D}",xK="\u{1D557}",TK="\u2200",kK="\u2200",EK="\u22D4",SK="\u2AD9",MK="\u2131",OK="\u2A0D",AK="\xBD",_K="\u2153",LK="\xBC",DK="\u2155",NK="\u2159",IK="\u215B",RK="\u2154",PK="\u2156",BK="\xBE",FK="\u2157",HK="\u215C",qK="\u2158",$K="\u215A",UK="\u215D",zK="\u215E",VK="\u2044",WK="\u2322",jK="\u{1D4BB}",GK="\u2131",KK="\u01F5",JK="\u0393",XK="\u03B3",YK="\u03DC",ZK="\u03DD",QK="\u2A86",e5="\u011E",t5="\u011F",r5="\u0122",n5="\u011C",i5="\u011D",a5="\u0413",o5="\u0433",s5="\u0120",l5="\u0121",u5="\u2265",c5="\u2267",f5="\u2A8C",d5="\u22DB",h5="\u2265",p5="\u2267",v5="\u2A7E",m5="\u2AA9",g5="\u2A7E",y5="\u2A80",b5="\u2A82",w5="\u2A84",C5="\u22DB\uFE00",x5="\u2A94",T5="\u{1D50A}",k5="\u{1D524}",E5="\u226B",S5="\u22D9",M5="\u22D9",O5="\u2137",A5="\u0403",_5="\u0453",L5="\u2AA5",D5="\u2277",N5="\u2A92",I5="\u2AA4",R5="\u2A8A",P5="\u2A8A",B5="\u2A88",F5="\u2269",H5="\u2A88",q5="\u2269",$5="\u22E7",U5="\u{1D53E}",z5="\u{1D558}",V5="`",W5="\u2265",j5="\u22DB",G5="\u2267",K5="\u2AA2",J5="\u2277",X5="\u2A7E",Y5="\u2273",Z5="\u{1D4A2}",Q5="\u210A",e8="\u2273",t8="\u2A8E",r8="\u2A90",n8="\u2AA7",i8="\u2A7A",a8=">",o8=">",s8="\u226B",l8="\u22D7",u8="\u2995",c8="\u2A7C",f8="\u2A86",d8="\u2978",h8="\u22D7",p8="\u22DB",v8="\u2A8C",m8="\u2277",g8="\u2273",y8="\u2269\uFE00",b8="\u2269\uFE00",w8="\u02C7",C8="\u200A",x8="\xBD",T8="\u210B",k8="\u042A",E8="\u044A",S8="\u2948",M8="\u2194",O8="\u21D4",A8="\u21AD",_8="^",L8="\u210F",D8="\u0124",N8="\u0125",I8="\u2665",R8="\u2665",P8="\u2026",B8="\u22B9",F8="\u{1D525}",H8="\u210C",q8="\u210B",$8="\u2925",U8="\u2926",z8="\u21FF",V8="\u223B",W8="\u21A9",j8="\u21AA",G8="\u{1D559}",K8="\u210D",J8="\u2015",X8="\u2500",Y8="\u{1D4BD}",Z8="\u210B",Q8="\u210F",e6="\u0126",t6="\u0127",r6="\u224E",n6="\u224F",i6="\u2043",a6="\u2010",o6="\xCD",s6="\xED",l6="\u2063",u6="\xCE",c6="\xEE",f6="\u0418",d6="\u0438",h6="\u0130",p6="\u0415",v6="\u0435",m6="\xA1",g6="\u21D4",y6="\u{1D526}",b6="\u2111",w6="\xCC",C6="\xEC",x6="\u2148",T6="\u2A0C",k6="\u222D",E6="\u29DC",S6="\u2129",M6="\u0132",O6="\u0133",A6="\u012A",_6="\u012B",L6="\u2111",D6="\u2148",N6="\u2110",I6="\u2111",R6="\u0131",P6="\u2111",B6="\u22B7",F6="\u01B5",H6="\u21D2",q6="\u2105",$6="\u221E",U6="\u29DD",z6="\u0131",V6="\u22BA",W6="\u222B",j6="\u222C",G6="\u2124",K6="\u222B",J6="\u22BA",X6="\u22C2",Y6="\u2A17",Z6="\u2A3C",Q6="\u2063",e9="\u2062",t9="\u0401",r9="\u0451",n9="\u012E",i9="\u012F",a9="\u{1D540}",o9="\u{1D55A}",s9="\u0399",l9="\u03B9",u9="\u2A3C",c9="\xBF",f9="\u{1D4BE}",d9="\u2110",h9="\u2208",p9="\u22F5",v9="\u22F9",m9="\u22F4",g9="\u22F3",y9="\u2208",b9="\u2062",w9="\u0128",C9="\u0129",x9="\u0406",T9="\u0456",k9="\xCF",E9="\xEF",S9="\u0134",M9="\u0135",O9="\u0419",A9="\u0439",_9="\u{1D50D}",L9="\u{1D527}",D9="\u0237",N9="\u{1D541}",I9="\u{1D55B}",R9="\u{1D4A5}",P9="\u{1D4BF}",B9="\u0408",F9="\u0458",H9="\u0404",q9="\u0454",$9="\u039A",U9="\u03BA",z9="\u03F0",V9="\u0136",W9="\u0137",j9="\u041A",G9="\u043A",K9="\u{1D50E}",J9="\u{1D528}",X9="\u0138",Y9="\u0425",Z9="\u0445",Q9="\u040C",eJ="\u045C",tJ="\u{1D542}",rJ="\u{1D55C}",nJ="\u{1D4A6}",iJ="\u{1D4C0}",aJ="\u21DA",oJ="\u0139",sJ="\u013A",lJ="\u29B4",uJ="\u2112",cJ="\u039B",fJ="\u03BB",dJ="\u27E8",hJ="\u27EA",pJ="\u2991",vJ="\u27E8",mJ="\u2A85",gJ="\u2112",yJ="\xAB",bJ="\u21E4",wJ="\u291F",CJ="\u2190",xJ="\u219E",TJ="\u21D0",kJ="\u291D",EJ="\u21A9",SJ="\u21AB",MJ="\u2939",OJ="\u2973",AJ="\u21A2",_J="\u2919",LJ="\u291B",DJ="\u2AAB",NJ="\u2AAD",IJ="\u2AAD\uFE00",RJ="\u290C",PJ="\u290E",BJ="\u2772",FJ="{",HJ="[",qJ="\u298B",$J="\u298F",UJ="\u298D",zJ="\u013D",VJ="\u013E",WJ="\u013B",jJ="\u013C",GJ="\u2308",KJ="{",JJ="\u041B",XJ="\u043B",YJ="\u2936",ZJ="\u201C",QJ="\u201E",e7="\u2967",t7="\u294B",r7="\u21B2",n7="\u2264",i7="\u2266",a7="\u27E8",o7="\u21E4",s7="\u2190",l7="\u2190",u7="\u21D0",c7="\u21C6",f7="\u21A2",d7="\u2308",h7="\u27E6",p7="\u2961",v7="\u2959",m7="\u21C3",g7="\u230A",y7="\u21BD",b7="\u21BC",w7="\u21C7",C7="\u2194",x7="\u2194",T7="\u21D4",k7="\u21C6",E7="\u21CB",S7="\u21AD",M7="\u294E",O7="\u21A4",A7="\u22A3",_7="\u295A",L7="\u22CB",D7="\u29CF",N7="\u22B2",I7="\u22B4",R7="\u2951",P7="\u2960",B7="\u2958",F7="\u21BF",H7="\u2952",q7="\u21BC",$7="\u2A8B",U7="\u22DA",z7="\u2264",V7="\u2266",W7="\u2A7D",j7="\u2AA8",G7="\u2A7D",K7="\u2A7F",J7="\u2A81",X7="\u2A83",Y7="\u22DA\uFE00",Z7="\u2A93",Q7="\u2A85",eX="\u22D6",tX="\u22DA",rX="\u2A8B",nX="\u22DA",iX="\u2266",aX="\u2276",oX="\u2276",sX="\u2AA1",lX="\u2272",uX="\u2A7D",cX="\u2272",fX="\u297C",dX="\u230A",hX="\u{1D50F}",pX="\u{1D529}",vX="\u2276",mX="\u2A91",gX="\u2962",yX="\u21BD",bX="\u21BC",wX="\u296A",CX="\u2584",xX="\u0409",TX="\u0459",kX="\u21C7",EX="\u226A",SX="\u22D8",MX="\u231E",OX="\u21DA",AX="\u296B",_X="\u25FA",LX="\u013F",DX="\u0140",NX="\u23B0",IX="\u23B0",RX="\u2A89",PX="\u2A89",BX="\u2A87",FX="\u2268",HX="\u2A87",qX="\u2268",$X="\u22E6",UX="\u27EC",zX="\u21FD",VX="\u27E6",WX="\u27F5",jX="\u27F5",GX="\u27F8",KX="\u27F7",JX="\u27F7",XX="\u27FA",YX="\u27FC",ZX="\u27F6",QX="\u27F6",eY="\u27F9",tY="\u21AB",rY="\u21AC",nY="\u2985",iY="\u{1D543}",aY="\u{1D55D}",oY="\u2A2D",sY="\u2A34",lY="\u2217",uY="_",cY="\u2199",fY="\u2198",dY="\u25CA",hY="\u25CA",pY="\u29EB",vY="(",mY="\u2993",gY="\u21C6",yY="\u231F",bY="\u21CB",wY="\u296D",CY="\u200E",xY="\u22BF",TY="\u2039",kY="\u{1D4C1}",EY="\u2112",SY="\u21B0",MY="\u21B0",OY="\u2272",AY="\u2A8D",_Y="\u2A8F",LY="[",DY="\u2018",NY="\u201A",IY="\u0141",RY="\u0142",PY="\u2AA6",BY="\u2A79",FY="<",HY="<",qY="\u226A",$Y="\u22D6",UY="\u22CB",zY="\u22C9",VY="\u2976",WY="\u2A7B",jY="\u25C3",GY="\u22B4",KY="\u25C2",JY="\u2996",XY="\u294A",YY="\u2966",ZY="\u2268\uFE00",QY="\u2268\uFE00",eZ="\xAF",tZ="\u2642",rZ="\u2720",nZ="\u2720",iZ="\u21A6",aZ="\u21A6",oZ="\u21A7",sZ="\u21A4",lZ="\u21A5",uZ="\u25AE",cZ="\u2A29",fZ="\u041C",dZ="\u043C",hZ="\u2014",pZ="\u223A",vZ="\u2221",mZ="\u205F",gZ="\u2133",yZ="\u{1D510}",bZ="\u{1D52A}",wZ="\u2127",CZ="\xB5",xZ="*",TZ="\u2AF0",kZ="\u2223",EZ="\xB7",SZ="\u229F",MZ="\u2212",OZ="\u2238",AZ="\u2A2A",_Z="\u2213",LZ="\u2ADB",DZ="\u2026",NZ="\u2213",IZ="\u22A7",RZ="\u{1D544}",PZ="\u{1D55E}",BZ="\u2213",FZ="\u{1D4C2}",HZ="\u2133",qZ="\u223E",$Z="\u039C",UZ="\u03BC",zZ="\u22B8",VZ="\u22B8",WZ="\u2207",jZ="\u0143",GZ="\u0144",KZ="\u2220\u20D2",JZ="\u2249",XZ="\u2A70\u0338",YZ="\u224B\u0338",ZZ="\u0149",QZ="\u2249",eQ="\u266E",tQ="\u2115",rQ="\u266E",nQ="\xA0",iQ="\u224E\u0338",aQ="\u224F\u0338",oQ="\u2A43",sQ="\u0147",lQ="\u0148",uQ="\u0145",cQ="\u0146",fQ="\u2247",dQ="\u2A6D\u0338",hQ="\u2A42",pQ="\u041D",vQ="\u043D",mQ="\u2013",gQ="\u2924",yQ="\u2197",bQ="\u21D7",wQ="\u2197",CQ="\u2260",xQ="\u2250\u0338",TQ="\u200B",kQ="\u200B",EQ="\u200B",SQ="\u200B",MQ="\u2262",OQ="\u2928",AQ="\u2242\u0338",_Q="\u226B",LQ="\u226A",DQ=`
`,NQ="\u2204",IQ="\u2204",RQ="\u{1D511}",PQ="\u{1D52B}",BQ="\u2267\u0338",FQ="\u2271",HQ="\u2271",qQ="\u2267\u0338",$Q="\u2A7E\u0338",UQ="\u2A7E\u0338",zQ="\u22D9\u0338",VQ="\u2275",WQ="\u226B\u20D2",jQ="\u226F",GQ="\u226F",KQ="\u226B\u0338",JQ="\u21AE",XQ="\u21CE",YQ="\u2AF2",ZQ="\u220B",QQ="\u22FC",eee="\u22FA",tee="\u220B",ree="\u040A",nee="\u045A",iee="\u219A",aee="\u21CD",oee="\u2025",see="\u2266\u0338",lee="\u2270",uee="\u219A",cee="\u21CD",fee="\u21AE",dee="\u21CE",hee="\u2270",pee="\u2266\u0338",vee="\u2A7D\u0338",mee="\u2A7D\u0338",gee="\u226E",yee="\u22D8\u0338",bee="\u2274",wee="\u226A\u20D2",Cee="\u226E",xee="\u22EA",Tee="\u22EC",kee="\u226A\u0338",Eee="\u2224",See="\u2060",Mee="\xA0",Oee="\u{1D55F}",Aee="\u2115",_ee="\u2AEC",Lee="\xAC",Dee="\u2262",Nee="\u226D",Iee="\u2226",Ree="\u2209",Pee="\u2260",Bee="\u2242\u0338",Fee="\u2204",Hee="\u226F",qee="\u2271",$ee="\u2267\u0338",Uee="\u226B\u0338",zee="\u2279",Vee="\u2A7E\u0338",Wee="\u2275",jee="\u224E\u0338",Gee="\u224F\u0338",Kee="\u2209",Jee="\u22F5\u0338",Xee="\u22F9\u0338",Yee="\u2209",Zee="\u22F7",Qee="\u22F6",ete="\u29CF\u0338",tte="\u22EA",rte="\u22EC",nte="\u226E",ite="\u2270",ate="\u2278",ote="\u226A\u0338",ste="\u2A7D\u0338",lte="\u2274",ute="\u2AA2\u0338",cte="\u2AA1\u0338",fte="\u220C",dte="\u220C",hte="\u22FE",pte="\u22FD",vte="\u2280",mte="\u2AAF\u0338",gte="\u22E0",yte="\u220C",bte="\u29D0\u0338",wte="\u22EB",Cte="\u22ED",xte="\u228F\u0338",Tte="\u22E2",kte="\u2290\u0338",Ete="\u22E3",Ste="\u2282\u20D2",Mte="\u2288",Ote="\u2281",Ate="\u2AB0\u0338",_te="\u22E1",Lte="\u227F\u0338",Dte="\u2283\u20D2",Nte="\u2289",Ite="\u2241",Rte="\u2244",Pte="\u2247",Bte="\u2249",Fte="\u2224",Hte="\u2226",qte="\u2226",$te="\u2AFD\u20E5",Ute="\u2202\u0338",zte="\u2A14",Vte="\u2280",Wte="\u22E0",jte="\u2280",Gte="\u2AAF\u0338",Kte="\u2AAF\u0338",Jte="\u2933\u0338",Xte="\u219B",Yte="\u21CF",Zte="\u219D\u0338",Qte="\u219B",ere="\u21CF",tre="\u22EB",rre="\u22ED",nre="\u2281",ire="\u22E1",are="\u2AB0\u0338",ore="\u{1D4A9}",sre="\u{1D4C3}",lre="\u2224",ure="\u2226",cre="\u2241",fre="\u2244",dre="\u2244",hre="\u2224",pre="\u2226",vre="\u22E2",mre="\u22E3",gre="\u2284",yre="\u2AC5\u0338",bre="\u2288",wre="\u2282\u20D2",Cre="\u2288",xre="\u2AC5\u0338",Tre="\u2281",kre="\u2AB0\u0338",Ere="\u2285",Sre="\u2AC6\u0338",Mre="\u2289",Ore="\u2283\u20D2",Are="\u2289",_re="\u2AC6\u0338",Lre="\u2279",Dre="\xD1",Nre="\xF1",Ire="\u2278",Rre="\u22EA",Pre="\u22EC",Bre="\u22EB",Fre="\u22ED",Hre="\u039D",qre="\u03BD",$re="#",Ure="\u2116",zre="\u2007",Vre="\u224D\u20D2",Wre="\u22AC",jre="\u22AD",Gre="\u22AE",Kre="\u22AF",Jre="\u2265\u20D2",Xre=">\u20D2",Yre="\u2904",Zre="\u29DE",Qre="\u2902",ene="\u2264\u20D2",tne="<\u20D2",rne="\u22B4\u20D2",nne="\u2903",ine="\u22B5\u20D2",ane="\u223C\u20D2",one="\u2923",sne="\u2196",lne="\u21D6",une="\u2196",cne="\u2927",fne="\xD3",dne="\xF3",hne="\u229B",pne="\xD4",vne="\xF4",mne="\u229A",gne="\u041E",yne="\u043E",bne="\u229D",wne="\u0150",Cne="\u0151",xne="\u2A38",Tne="\u2299",kne="\u29BC",Ene="\u0152",Sne="\u0153",Mne="\u29BF",One="\u{1D512}",Ane="\u{1D52C}",_ne="\u02DB",Lne="\xD2",Dne="\xF2",Nne="\u29C1",Ine="\u29B5",Rne="\u03A9",Pne="\u222E",Bne="\u21BA",Fne="\u29BE",Hne="\u29BB",qne="\u203E",$ne="\u29C0",Une="\u014C",zne="\u014D",Vne="\u03A9",Wne="\u03C9",jne="\u039F",Gne="\u03BF",Kne="\u29B6",Jne="\u2296",Xne="\u{1D546}",Yne="\u{1D560}",Zne="\u29B7",Qne="\u201C",eie="\u2018",tie="\u29B9",rie="\u2295",nie="\u21BB",iie="\u2A54",aie="\u2228",oie="\u2A5D",sie="\u2134",lie="\u2134",uie="\xAA",cie="\xBA",fie="\u22B6",die="\u2A56",hie="\u2A57",pie="\u2A5B",vie="\u24C8",mie="\u{1D4AA}",gie="\u2134",yie="\xD8",bie="\xF8",wie="\u2298",Cie="\xD5",xie="\xF5",Tie="\u2A36",kie="\u2A37",Eie="\u2297",Sie="\xD6",Mie="\xF6",Oie="\u233D",Aie="\u203E",_ie="\u23DE",Lie="\u23B4",Die="\u23DC",Nie="\xB6",Iie="\u2225",Rie="\u2225",Pie="\u2AF3",Bie="\u2AFD",Fie="\u2202",Hie="\u2202",qie="\u041F",$ie="\u043F",Uie="%",zie=".",Vie="\u2030",Wie="\u22A5",jie="\u2031",Gie="\u{1D513}",Kie="\u{1D52D}",Jie="\u03A6",Xie="\u03C6",Yie="\u03D5",Zie="\u2133",Qie="\u260E",eae="\u03A0",tae="\u03C0",rae="\u22D4",nae="\u03D6",iae="\u210F",aae="\u210E",oae="\u210F",sae="\u2A23",lae="\u229E",uae="\u2A22",cae="+",fae="\u2214",dae="\u2A25",hae="\u2A72",pae="\xB1",vae="\xB1",mae="\u2A26",gae="\u2A27",yae="\xB1",bae="\u210C",wae="\u2A15",Cae="\u{1D561}",xae="\u2119",Tae="\xA3",kae="\u2AB7",Eae="\u2ABB",Sae="\u227A",Mae="\u227C",Oae="\u2AB7",Aae="\u227A",_ae="\u227C",Lae="\u227A",Dae="\u2AAF",Nae="\u227C",Iae="\u227E",Rae="\u2AAF",Pae="\u2AB9",Bae="\u2AB5",Fae="\u22E8",Hae="\u2AAF",qae="\u2AB3",$ae="\u227E",Uae="\u2032",zae="\u2033",Vae="\u2119",Wae="\u2AB9",jae="\u2AB5",Gae="\u22E8",Kae="\u220F",Jae="\u220F",Xae="\u232E",Yae="\u2312",Zae="\u2313",Qae="\u221D",eoe="\u221D",toe="\u2237",roe="\u221D",noe="\u227E",ioe="\u22B0",aoe="\u{1D4AB}",ooe="\u{1D4C5}",soe="\u03A8",loe="\u03C8",uoe="\u2008",coe="\u{1D514}",foe="\u{1D52E}",doe="\u2A0C",hoe="\u{1D562}",poe="\u211A",voe="\u2057",moe="\u{1D4AC}",goe="\u{1D4C6}",yoe="\u210D",boe="\u2A16",woe="?",Coe="\u225F",xoe='"',Toe='"',koe="\u21DB",Eoe="\u223D\u0331",Soe="\u0154",Moe="\u0155",Ooe="\u221A",Aoe="\u29B3",_oe="\u27E9",Loe="\u27EB",Doe="\u2992",Noe="\u29A5",Ioe="\u27E9",Roe="\xBB",Poe="\u2975",Boe="\u21E5",Foe="\u2920",Hoe="\u2933",qoe="\u2192",$oe="\u21A0",Uoe="\u21D2",zoe="\u291E",Voe="\u21AA",Woe="\u21AC",joe="\u2945",Goe="\u2974",Koe="\u2916",Joe="\u21A3",Xoe="\u219D",Yoe="\u291A",Zoe="\u291C",Qoe="\u2236",ese="\u211A",tse="\u290D",rse="\u290F",nse="\u2910",ise="\u2773",ase="}",ose="]",sse="\u298C",lse="\u298E",use="\u2990",cse="\u0158",fse="\u0159",dse="\u0156",hse="\u0157",pse="\u2309",vse="}",mse="\u0420",gse="\u0440",yse="\u2937",bse="\u2969",wse="\u201D",Cse="\u201D",xse="\u21B3",Tse="\u211C",kse="\u211B",Ese="\u211C",Sse="\u211D",Mse="\u211C",Ose="\u25AD",Ase="\xAE",_se="\xAE",Lse="\u220B",Dse="\u21CB",Nse="\u296F",Ise="\u297D",Rse="\u230B",Pse="\u{1D52F}",Bse="\u211C",Fse="\u2964",Hse="\u21C1",qse="\u21C0",$se="\u296C",Use="\u03A1",zse="\u03C1",Vse="\u03F1",Wse="\u27E9",jse="\u21E5",Gse="\u2192",Kse="\u2192",Jse="\u21D2",Xse="\u21C4",Yse="\u21A3",Zse="\u2309",Qse="\u27E7",ele="\u295D",tle="\u2955",rle="\u21C2",nle="\u230B",ile="\u21C1",ale="\u21C0",ole="\u21C4",sle="\u21CC",lle="\u21C9",ule="\u219D",cle="\u21A6",fle="\u22A2",dle="\u295B",hle="\u22CC",ple="\u29D0",vle="\u22B3",mle="\u22B5",gle="\u294F",yle="\u295C",ble="\u2954",wle="\u21BE",Cle="\u2953",xle="\u21C0",Tle="\u02DA",kle="\u2253",Ele="\u21C4",Sle="\u21CC",Mle="\u200F",Ole="\u23B1",Ale="\u23B1",_le="\u2AEE",Lle="\u27ED",Dle="\u21FE",Nle="\u27E7",Ile="\u2986",Rle="\u{1D563}",Ple="\u211D",Ble="\u2A2E",Fle="\u2A35",Hle="\u2970",qle=")",$le="\u2994",Ule="\u2A12",zle="\u21C9",Vle="\u21DB",Wle="\u203A",jle="\u{1D4C7}",Gle="\u211B",Kle="\u21B1",Jle="\u21B1",Xle="]",Yle="\u2019",Zle="\u2019",Qle="\u22CC",eue="\u22CA",tue="\u25B9",rue="\u22B5",nue="\u25B8",iue="\u29CE",aue="\u29F4",oue="\u2968",sue="\u211E",lue="\u015A",uue="\u015B",cue="\u201A",fue="\u2AB8",due="\u0160",hue="\u0161",pue="\u2ABC",vue="\u227B",mue="\u227D",gue="\u2AB0",yue="\u2AB4",bue="\u015E",wue="\u015F",Cue="\u015C",xue="\u015D",Tue="\u2ABA",kue="\u2AB6",Eue="\u22E9",Sue="\u2A13",Mue="\u227F",Oue="\u0421",Aue="\u0441",_ue="\u22A1",Lue="\u22C5",Due="\u2A66",Nue="\u2925",Iue="\u2198",Rue="\u21D8",Pue="\u2198",Bue="\xA7",Fue=";",Hue="\u2929",que="\u2216",$ue="\u2216",Uue="\u2736",zue="\u{1D516}",Vue="\u{1D530}",Wue="\u2322",jue="\u266F",Gue="\u0429",Kue="\u0449",Jue="\u0428",Xue="\u0448",Yue="\u2193",Zue="\u2190",Que="\u2223",ece="\u2225",tce="\u2192",rce="\u2191",nce="\xAD",ice="\u03A3",ace="\u03C3",oce="\u03C2",sce="\u03C2",lce="\u223C",uce="\u2A6A",cce="\u2243",fce="\u2243",dce="\u2A9E",hce="\u2AA0",pce="\u2A9D",vce="\u2A9F",mce="\u2246",gce="\u2A24",yce="\u2972",bce="\u2190",wce="\u2218",Cce="\u2216",xce="\u2A33",Tce="\u29E4",kce="\u2223",Ece="\u2323",Sce="\u2AAA",Mce="\u2AAC",Oce="\u2AAC\uFE00",Ace="\u042C",_ce="\u044C",Lce="\u233F",Dce="\u29C4",Nce="/",Ice="\u{1D54A}",Rce="\u{1D564}",Pce="\u2660",Bce="\u2660",Fce="\u2225",Hce="\u2293",qce="\u2293\uFE00",$ce="\u2294",Uce="\u2294\uFE00",zce="\u221A",Vce="\u228F",Wce="\u2291",jce="\u228F",Gce="\u2291",Kce="\u2290",Jce="\u2292",Xce="\u2290",Yce="\u2292",Zce="\u25A1",Qce="\u25A1",efe="\u2293",tfe="\u228F",rfe="\u2291",nfe="\u2290",ife="\u2292",afe="\u2294",ofe="\u25AA",sfe="\u25A1",lfe="\u25AA",ufe="\u2192",cfe="\u{1D4AE}",ffe="\u{1D4C8}",dfe="\u2216",hfe="\u2323",pfe="\u22C6",vfe="\u22C6",mfe="\u2606",gfe="\u2605",yfe="\u03F5",bfe="\u03D5",wfe="\xAF",Cfe="\u2282",xfe="\u22D0",Tfe="\u2ABD",kfe="\u2AC5",Efe="\u2286",Sfe="\u2AC3",Mfe="\u2AC1",Ofe="\u2ACB",Afe="\u228A",_fe="\u2ABF",Lfe="\u2979",Dfe="\u2282",Nfe="\u22D0",Ife="\u2286",Rfe="\u2AC5",Pfe="\u2286",Bfe="\u228A",Ffe="\u2ACB",Hfe="\u2AC7",qfe="\u2AD5",$fe="\u2AD3",Ufe="\u2AB8",zfe="\u227B",Vfe="\u227D",Wfe="\u227B",jfe="\u2AB0",Gfe="\u227D",Kfe="\u227F",Jfe="\u2AB0",Xfe="\u2ABA",Yfe="\u2AB6",Zfe="\u22E9",Qfe="\u227F",ede="\u220B",tde="\u2211",rde="\u2211",nde="\u266A",ide="\xB9",ade="\xB2",ode="\xB3",sde="\u2283",lde="\u22D1",ude="\u2ABE",cde="\u2AD8",fde="\u2AC6",dde="\u2287",hde="\u2AC4",pde="\u2283",vde="\u2287",mde="\u27C9",gde="\u2AD7",yde="\u297B",bde="\u2AC2",wde="\u2ACC",Cde="\u228B",xde="\u2AC0",Tde="\u2283",kde="\u22D1",Ede="\u2287",Sde="\u2AC6",Mde="\u228B",Ode="\u2ACC",Ade="\u2AC8",_de="\u2AD4",Lde="\u2AD6",Dde="\u2926",Nde="\u2199",Ide="\u21D9",Rde="\u2199",Pde="\u292A",Bde="\xDF",Fde="	",Hde="\u2316",qde="\u03A4",$de="\u03C4",Ude="\u23B4",zde="\u0164",Vde="\u0165",Wde="\u0162",jde="\u0163",Gde="\u0422",Kde="\u0442",Jde="\u20DB",Xde="\u2315",Yde="\u{1D517}",Zde="\u{1D531}",Qde="\u2234",ehe="\u2234",the="\u2234",rhe="\u0398",nhe="\u03B8",ihe="\u03D1",ahe="\u03D1",ohe="\u2248",she="\u223C",lhe="\u205F\u200A",uhe="\u2009",che="\u2009",fhe="\u2248",dhe="\u223C",hhe="\xDE",phe="\xFE",vhe="\u02DC",mhe="\u223C",ghe="\u2243",yhe="\u2245",bhe="\u2248",whe="\u2A31",Che="\u22A0",xhe="\xD7",The="\u2A30",khe="\u222D",Ehe="\u2928",She="\u2336",Mhe="\u2AF1",Ohe="\u22A4",Ahe="\u{1D54B}",_he="\u{1D565}",Lhe="\u2ADA",Dhe="\u2929",Nhe="\u2034",Ihe="\u2122",Rhe="\u2122",Phe="\u25B5",Bhe="\u25BF",Fhe="\u25C3",Hhe="\u22B4",qhe="\u225C",$he="\u25B9",Uhe="\u22B5",zhe="\u25EC",Vhe="\u225C",Whe="\u2A3A",jhe="\u20DB",Ghe="\u2A39",Khe="\u29CD",Jhe="\u2A3B",Xhe="\u23E2",Yhe="\u{1D4AF}",Zhe="\u{1D4C9}",Qhe="\u0426",epe="\u0446",tpe="\u040B",rpe="\u045B",npe="\u0166",ipe="\u0167",ape="\u226C",ope="\u219E",spe="\u21A0",lpe="\xDA",upe="\xFA",cpe="\u2191",fpe="\u219F",dpe="\u21D1",hpe="\u2949",ppe="\u040E",vpe="\u045E",mpe="\u016C",gpe="\u016D",ype="\xDB",bpe="\xFB",wpe="\u0423",Cpe="\u0443",xpe="\u21C5",Tpe="\u0170",kpe="\u0171",Epe="\u296E",Spe="\u297E",Mpe="\u{1D518}",Ope="\u{1D532}",Ape="\xD9",_pe="\xF9",Lpe="\u2963",Dpe="\u21BF",Npe="\u21BE",Ipe="\u2580",Rpe="\u231C",Ppe="\u231C",Bpe="\u230F",Fpe="\u25F8",Hpe="\u016A",qpe="\u016B",$pe="\xA8",Upe="_",zpe="\u23DF",Vpe="\u23B5",Wpe="\u23DD",jpe="\u22C3",Gpe="\u228E",Kpe="\u0172",Jpe="\u0173",Xpe="\u{1D54C}",Ype="\u{1D566}",Zpe="\u2912",Qpe="\u2191",eve="\u2191",tve="\u21D1",rve="\u21C5",nve="\u2195",ive="\u2195",ave="\u21D5",ove="\u296E",sve="\u21BF",lve="\u21BE",uve="\u228E",cve="\u2196",fve="\u2197",dve="\u03C5",hve="\u03D2",pve="\u03D2",vve="\u03A5",mve="\u03C5",gve="\u21A5",yve="\u22A5",bve="\u21C8",wve="\u231D",Cve="\u231D",xve="\u230E",Tve="\u016E",kve="\u016F",Eve="\u25F9",Sve="\u{1D4B0}",Mve="\u{1D4CA}",Ove="\u22F0",Ave="\u0168",_ve="\u0169",Lve="\u25B5",Dve="\u25B4",Nve="\u21C8",Ive="\xDC",Rve="\xFC",Pve="\u29A7",Bve="\u299C",Fve="\u03F5",Hve="\u03F0",qve="\u2205",$ve="\u03D5",Uve="\u03D6",zve="\u221D",Vve="\u2195",Wve="\u21D5",jve="\u03F1",Gve="\u03C2",Kve="\u228A\uFE00",Jve="\u2ACB\uFE00",Xve="\u228B\uFE00",Yve="\u2ACC\uFE00",Zve="\u03D1",Qve="\u22B2",eme="\u22B3",tme="\u2AE8",rme="\u2AEB",nme="\u2AE9",ime="\u0412",ame="\u0432",ome="\u22A2",sme="\u22A8",lme="\u22A9",ume="\u22AB",cme="\u2AE6",fme="\u22BB",dme="\u2228",hme="\u22C1",pme="\u225A",vme="\u22EE",mme="|",gme="\u2016",yme="|",bme="\u2016",wme="\u2223",Cme="|",xme="\u2758",Tme="\u2240",kme="\u200A",Eme="\u{1D519}",Sme="\u{1D533}",Mme="\u22B2",Ome="\u2282\u20D2",Ame="\u2283\u20D2",_me="\u{1D54D}",Lme="\u{1D567}",Dme="\u221D",Nme="\u22B3",Ime="\u{1D4B1}",Rme="\u{1D4CB}",Pme="\u2ACB\uFE00",Bme="\u228A\uFE00",Fme="\u2ACC\uFE00",Hme="\u228B\uFE00",qme="\u22AA",$me="\u299A",Ume="\u0174",zme="\u0175",Vme="\u2A5F",Wme="\u2227",jme="\u22C0",Gme="\u2259",Kme="\u2118",Jme="\u{1D51A}",Xme="\u{1D534}",Yme="\u{1D54E}",Zme="\u{1D568}",Qme="\u2118",ege="\u2240",tge="\u2240",rge="\u{1D4B2}",nge="\u{1D4CC}",ige="\u22C2",age="\u25EF",oge="\u22C3",sge="\u25BD",lge="\u{1D51B}",uge="\u{1D535}",cge="\u27F7",fge="\u27FA",dge="\u039E",hge="\u03BE",pge="\u27F5",vge="\u27F8",mge="\u27FC",gge="\u22FB",yge="\u2A00",bge="\u{1D54F}",wge="\u{1D569}",Cge="\u2A01",xge="\u2A02",Tge="\u27F6",kge="\u27F9",Ege="\u{1D4B3}",Sge="\u{1D4CD}",Mge="\u2A06",Oge="\u2A04",Age="\u25B3",_ge="\u22C1",Lge="\u22C0",Dge="\xDD",Nge="\xFD",Ige="\u042F",Rge="\u044F",Pge="\u0176",Bge="\u0177",Fge="\u042B",Hge="\u044B",qge="\xA5",$ge="\u{1D51C}",Uge="\u{1D536}",zge="\u0407",Vge="\u0457",Wge="\u{1D550}",jge="\u{1D56A}",Gge="\u{1D4B4}",Kge="\u{1D4CE}",Jge="\u042E",Xge="\u044E",Yge="\xFF",Zge="\u0178",Qge="\u0179",eye="\u017A",tye="\u017D",rye="\u017E",nye="\u0417",iye="\u0437",aye="\u017B",oye="\u017C",sye="\u2128",lye="\u200B",uye="\u0396",cye="\u03B6",fye="\u{1D537}",dye="\u2128",hye="\u0416",pye="\u0436",vye="\u21DD",mye="\u{1D56B}",gye="\u2124",yye="\u{1D4B5}",bye="\u{1D4CF}",wye="\u200D",Cye="\u200C",aT={Aacute:a$,aacute:o$,Abreve:s$,abreve:l$,ac:u$,acd:c$,acE:f$,Acirc:d$,acirc:h$,acute:p$,Acy:v$,acy:m$,AElig:g$,aelig:y$,af:b$,Afr:w$,afr:C$,Agrave:x$,agrave:T$,alefsym:k$,aleph:E$,Alpha:S$,alpha:M$,Amacr:O$,amacr:A$,amalg:_$,amp:L$,AMP:D$,andand:N$,And:I$,and:R$,andd:P$,andslope:B$,andv:F$,ang:H$,ange:q$,angle:$$,angmsdaa:U$,angmsdab:z$,angmsdac:V$,angmsdad:W$,angmsdae:j$,angmsdaf:G$,angmsdag:K$,angmsdah:J$,angmsd:X$,angrt:Y$,angrtvb:Z$,angrtvbd:Q$,angsph:e2,angst:t2,angzarr:r2,Aogon:n2,aogon:i2,Aopf:a2,aopf:o2,apacir:s2,ap:l2,apE:u2,ape:c2,apid:f2,apos:d2,ApplyFunction:h2,approx:p2,approxeq:v2,Aring:m2,aring:g2,Ascr:y2,ascr:b2,Assign:w2,ast:C2,asymp:x2,asympeq:T2,Atilde:k2,atilde:E2,Auml:S2,auml:M2,awconint:O2,awint:A2,backcong:_2,backepsilon:L2,backprime:D2,backsim:N2,backsimeq:I2,Backslash:R2,Barv:P2,barvee:B2,barwed:F2,Barwed:H2,barwedge:q2,bbrk:$2,bbrktbrk:U2,bcong:z2,Bcy:V2,bcy:W2,bdquo:j2,becaus:G2,because:K2,Because:J2,bemptyv:X2,bepsi:Y2,bernou:Z2,Bernoullis:Q2,Beta:eU,beta:tU,beth:rU,between:nU,Bfr:iU,bfr:aU,bigcap:oU,bigcirc:sU,bigcup:lU,bigodot:uU,bigoplus:cU,bigotimes:fU,bigsqcup:dU,bigstar:hU,bigtriangledown:pU,bigtriangleup:vU,biguplus:mU,bigvee:gU,bigwedge:yU,bkarow:bU,blacklozenge:wU,blacksquare:CU,blacktriangle:xU,blacktriangledown:TU,blacktriangleleft:kU,blacktriangleright:EU,blank:SU,blk12:MU,blk14:OU,blk34:AU,block:_U,bne:LU,bnequiv:DU,bNot:NU,bnot:IU,Bopf:RU,bopf:PU,bot:BU,bottom:FU,bowtie:HU,boxbox:qU,boxdl:$U,boxdL:UU,boxDl:zU,boxDL:VU,boxdr:WU,boxdR:jU,boxDr:GU,boxDR:KU,boxh:JU,boxH:XU,boxhd:YU,boxHd:ZU,boxhD:QU,boxHD:ez,boxhu:tz,boxHu:rz,boxhU:nz,boxHU:iz,boxminus:az,boxplus:oz,boxtimes:sz,boxul:lz,boxuL:uz,boxUl:cz,boxUL:fz,boxur:dz,boxuR:hz,boxUr:pz,boxUR:vz,boxv:mz,boxV:gz,boxvh:yz,boxvH:bz,boxVh:wz,boxVH:Cz,boxvl:xz,boxvL:Tz,boxVl:kz,boxVL:Ez,boxvr:Sz,boxvR:Mz,boxVr:Oz,boxVR:Az,bprime:_z,breve:Lz,Breve:Dz,brvbar:Nz,bscr:Iz,Bscr:Rz,bsemi:Pz,bsim:Bz,bsime:Fz,bsolb:Hz,bsol:qz,bsolhsub:$z,bull:Uz,bullet:zz,bump:Vz,bumpE:Wz,bumpe:jz,Bumpeq:Gz,bumpeq:Kz,Cacute:Jz,cacute:Xz,capand:Yz,capbrcup:Zz,capcap:Qz,cap:eV,Cap:tV,capcup:rV,capdot:nV,CapitalDifferentialD:iV,caps:aV,caret:oV,caron:sV,Cayleys:lV,ccaps:uV,Ccaron:cV,ccaron:fV,Ccedil:dV,ccedil:hV,Ccirc:pV,ccirc:vV,Cconint:mV,ccups:gV,ccupssm:yV,Cdot:bV,cdot:wV,cedil:CV,Cedilla:xV,cemptyv:TV,cent:kV,centerdot:EV,CenterDot:SV,cfr:MV,Cfr:OV,CHcy:AV,chcy:_V,check:LV,checkmark:DV,Chi:NV,chi:IV,circ:RV,circeq:PV,circlearrowleft:BV,circlearrowright:FV,circledast:HV,circledcirc:qV,circleddash:$V,CircleDot:UV,circledR:zV,circledS:VV,CircleMinus:WV,CirclePlus:jV,CircleTimes:GV,cir:KV,cirE:JV,cire:XV,cirfnint:YV,cirmid:ZV,cirscir:QV,ClockwiseContourIntegral:eW,CloseCurlyDoubleQuote:tW,CloseCurlyQuote:rW,clubs:nW,clubsuit:iW,colon:aW,Colon:oW,Colone:sW,colone:lW,coloneq:uW,comma:cW,commat:fW,comp:dW,compfn:hW,complement:pW,complexes:vW,cong:mW,congdot:gW,Congruent:yW,conint:bW,Conint:wW,ContourIntegral:CW,copf:xW,Copf:TW,coprod:kW,Coproduct:EW,copy:SW,COPY:MW,copysr:OW,CounterClockwiseContourIntegral:AW,crarr:_W,cross:LW,Cross:DW,Cscr:NW,cscr:IW,csub:RW,csube:PW,csup:BW,csupe:FW,ctdot:HW,cudarrl:qW,cudarrr:$W,cuepr:UW,cuesc:zW,cularr:VW,cularrp:WW,cupbrcap:jW,cupcap:GW,CupCap:KW,cup:JW,Cup:XW,cupcup:YW,cupdot:ZW,cupor:QW,cups:e3,curarr:t3,curarrm:r3,curlyeqprec:n3,curlyeqsucc:i3,curlyvee:a3,curlywedge:o3,curren:s3,curvearrowleft:l3,curvearrowright:u3,cuvee:c3,cuwed:f3,cwconint:d3,cwint:h3,cylcty:p3,dagger:v3,Dagger:m3,daleth:g3,darr:y3,Darr:b3,dArr:w3,dash:C3,Dashv:x3,dashv:T3,dbkarow:k3,dblac:E3,Dcaron:S3,dcaron:M3,Dcy:O3,dcy:A3,ddagger:_3,ddarr:L3,DD:D3,dd:N3,DDotrahd:I3,ddotseq:R3,deg:P3,Del:B3,Delta:F3,delta:H3,demptyv:q3,dfisht:$3,Dfr:U3,dfr:z3,dHar:V3,dharl:W3,dharr:j3,DiacriticalAcute:G3,DiacriticalDot:K3,DiacriticalDoubleAcute:J3,DiacriticalGrave:X3,DiacriticalTilde:Y3,diam:Z3,diamond:Q3,Diamond:ej,diamondsuit:tj,diams:rj,die:nj,DifferentialD:ij,digamma:aj,disin:oj,div:sj,divide:lj,divideontimes:uj,divonx:cj,DJcy:fj,djcy:dj,dlcorn:hj,dlcrop:pj,dollar:vj,Dopf:mj,dopf:gj,Dot:yj,dot:bj,DotDot:wj,doteq:Cj,doteqdot:xj,DotEqual:Tj,dotminus:kj,dotplus:Ej,dotsquare:Sj,doublebarwedge:Mj,DoubleContourIntegral:Oj,DoubleDot:Aj,DoubleDownArrow:_j,DoubleLeftArrow:Lj,DoubleLeftRightArrow:Dj,DoubleLeftTee:Nj,DoubleLongLeftArrow:Ij,DoubleLongLeftRightArrow:Rj,DoubleLongRightArrow:Pj,DoubleRightArrow:Bj,DoubleRightTee:Fj,DoubleUpArrow:Hj,DoubleUpDownArrow:qj,DoubleVerticalBar:$j,DownArrowBar:Uj,downarrow:zj,DownArrow:Vj,Downarrow:Wj,DownArrowUpArrow:jj,DownBreve:Gj,downdownarrows:Kj,downharpoonleft:Jj,downharpoonright:Xj,DownLeftRightVector:Yj,DownLeftTeeVector:Zj,DownLeftVectorBar:Qj,DownLeftVector:eG,DownRightTeeVector:tG,DownRightVectorBar:rG,DownRightVector:nG,DownTeeArrow:iG,DownTee:aG,drbkarow:oG,drcorn:sG,drcrop:lG,Dscr:uG,dscr:cG,DScy:fG,dscy:dG,dsol:hG,Dstrok:pG,dstrok:vG,dtdot:mG,dtri:gG,dtrif:yG,duarr:bG,duhar:wG,dwangle:CG,DZcy:xG,dzcy:TG,dzigrarr:kG,Eacute:EG,eacute:SG,easter:MG,Ecaron:OG,ecaron:AG,Ecirc:_G,ecirc:LG,ecir:DG,ecolon:NG,Ecy:IG,ecy:RG,eDDot:PG,Edot:BG,edot:FG,eDot:HG,ee:qG,efDot:$G,Efr:UG,efr:zG,eg:VG,Egrave:WG,egrave:jG,egs:GG,egsdot:KG,el:JG,Element:XG,elinters:YG,ell:ZG,els:QG,elsdot:e4,Emacr:t4,emacr:r4,empty:n4,emptyset:i4,EmptySmallSquare:a4,emptyv:o4,EmptyVerySmallSquare:s4,emsp13:l4,emsp14:u4,emsp:c4,ENG:f4,eng:d4,ensp:h4,Eogon:p4,eogon:v4,Eopf:m4,eopf:g4,epar:y4,eparsl:b4,eplus:w4,epsi:C4,Epsilon:x4,epsilon:T4,epsiv:k4,eqcirc:E4,eqcolon:S4,eqsim:M4,eqslantgtr:O4,eqslantless:A4,Equal:_4,equals:L4,EqualTilde:D4,equest:N4,Equilibrium:I4,equiv:R4,equivDD:P4,eqvparsl:B4,erarr:F4,erDot:H4,escr:q4,Escr:$4,esdot:U4,Esim:z4,esim:V4,Eta:W4,eta:j4,ETH:G4,eth:K4,Euml:J4,euml:X4,euro:Y4,excl:Z4,exist:Q4,Exists:eK,expectation:tK,exponentiale:rK,ExponentialE:nK,fallingdotseq:iK,Fcy:aK,fcy:oK,female:sK,ffilig:lK,fflig:uK,ffllig:cK,Ffr:fK,ffr:dK,filig:hK,FilledSmallSquare:pK,FilledVerySmallSquare:vK,fjlig:mK,flat:gK,fllig:yK,fltns:bK,fnof:wK,Fopf:CK,fopf:xK,forall:TK,ForAll:kK,fork:EK,forkv:SK,Fouriertrf:MK,fpartint:OK,frac12:AK,frac13:_K,frac14:LK,frac15:DK,frac16:NK,frac18:IK,frac23:RK,frac25:PK,frac34:BK,frac35:FK,frac38:HK,frac45:qK,frac56:$K,frac58:UK,frac78:zK,frasl:VK,frown:WK,fscr:jK,Fscr:GK,gacute:KK,Gamma:JK,gamma:XK,Gammad:YK,gammad:ZK,gap:QK,Gbreve:e5,gbreve:t5,Gcedil:r5,Gcirc:n5,gcirc:i5,Gcy:a5,gcy:o5,Gdot:s5,gdot:l5,ge:u5,gE:c5,gEl:f5,gel:d5,geq:h5,geqq:p5,geqslant:v5,gescc:m5,ges:g5,gesdot:y5,gesdoto:b5,gesdotol:w5,gesl:C5,gesles:x5,Gfr:T5,gfr:k5,gg:E5,Gg:S5,ggg:M5,gimel:O5,GJcy:A5,gjcy:_5,gla:L5,gl:D5,glE:N5,glj:I5,gnap:R5,gnapprox:P5,gne:B5,gnE:F5,gneq:H5,gneqq:q5,gnsim:$5,Gopf:U5,gopf:z5,grave:V5,GreaterEqual:W5,GreaterEqualLess:j5,GreaterFullEqual:G5,GreaterGreater:K5,GreaterLess:J5,GreaterSlantEqual:X5,GreaterTilde:Y5,Gscr:Z5,gscr:Q5,gsim:e8,gsime:t8,gsiml:r8,gtcc:n8,gtcir:i8,gt:a8,GT:o8,Gt:s8,gtdot:l8,gtlPar:u8,gtquest:c8,gtrapprox:f8,gtrarr:d8,gtrdot:h8,gtreqless:p8,gtreqqless:v8,gtrless:m8,gtrsim:g8,gvertneqq:y8,gvnE:b8,Hacek:w8,hairsp:C8,half:x8,hamilt:T8,HARDcy:k8,hardcy:E8,harrcir:S8,harr:M8,hArr:O8,harrw:A8,Hat:_8,hbar:L8,Hcirc:D8,hcirc:N8,hearts:I8,heartsuit:R8,hellip:P8,hercon:B8,hfr:F8,Hfr:H8,HilbertSpace:q8,hksearow:$8,hkswarow:U8,hoarr:z8,homtht:V8,hookleftarrow:W8,hookrightarrow:j8,hopf:G8,Hopf:K8,horbar:J8,HorizontalLine:X8,hscr:Y8,Hscr:Z8,hslash:Q8,Hstrok:e6,hstrok:t6,HumpDownHump:r6,HumpEqual:n6,hybull:i6,hyphen:a6,Iacute:o6,iacute:s6,ic:l6,Icirc:u6,icirc:c6,Icy:f6,icy:d6,Idot:h6,IEcy:p6,iecy:v6,iexcl:m6,iff:g6,ifr:y6,Ifr:b6,Igrave:w6,igrave:C6,ii:x6,iiiint:T6,iiint:k6,iinfin:E6,iiota:S6,IJlig:M6,ijlig:O6,Imacr:A6,imacr:_6,image:L6,ImaginaryI:D6,imagline:N6,imagpart:I6,imath:R6,Im:P6,imof:B6,imped:F6,Implies:H6,incare:q6,in:"\u2208",infin:$6,infintie:U6,inodot:z6,intcal:V6,int:W6,Int:j6,integers:G6,Integral:K6,intercal:J6,Intersection:X6,intlarhk:Y6,intprod:Z6,InvisibleComma:Q6,InvisibleTimes:e9,IOcy:t9,iocy:r9,Iogon:n9,iogon:i9,Iopf:a9,iopf:o9,Iota:s9,iota:l9,iprod:u9,iquest:c9,iscr:f9,Iscr:d9,isin:h9,isindot:p9,isinE:v9,isins:m9,isinsv:g9,isinv:y9,it:b9,Itilde:w9,itilde:C9,Iukcy:x9,iukcy:T9,Iuml:k9,iuml:E9,Jcirc:S9,jcirc:M9,Jcy:O9,jcy:A9,Jfr:_9,jfr:L9,jmath:D9,Jopf:N9,jopf:I9,Jscr:R9,jscr:P9,Jsercy:B9,jsercy:F9,Jukcy:H9,jukcy:q9,Kappa:$9,kappa:U9,kappav:z9,Kcedil:V9,kcedil:W9,Kcy:j9,kcy:G9,Kfr:K9,kfr:J9,kgreen:X9,KHcy:Y9,khcy:Z9,KJcy:Q9,kjcy:eJ,Kopf:tJ,kopf:rJ,Kscr:nJ,kscr:iJ,lAarr:aJ,Lacute:oJ,lacute:sJ,laemptyv:lJ,lagran:uJ,Lambda:cJ,lambda:fJ,lang:dJ,Lang:hJ,langd:pJ,langle:vJ,lap:mJ,Laplacetrf:gJ,laquo:yJ,larrb:bJ,larrbfs:wJ,larr:CJ,Larr:xJ,lArr:TJ,larrfs:kJ,larrhk:EJ,larrlp:SJ,larrpl:MJ,larrsim:OJ,larrtl:AJ,latail:_J,lAtail:LJ,lat:DJ,late:NJ,lates:IJ,lbarr:RJ,lBarr:PJ,lbbrk:BJ,lbrace:FJ,lbrack:HJ,lbrke:qJ,lbrksld:$J,lbrkslu:UJ,Lcaron:zJ,lcaron:VJ,Lcedil:WJ,lcedil:jJ,lceil:GJ,lcub:KJ,Lcy:JJ,lcy:XJ,ldca:YJ,ldquo:ZJ,ldquor:QJ,ldrdhar:e7,ldrushar:t7,ldsh:r7,le:n7,lE:i7,LeftAngleBracket:a7,LeftArrowBar:o7,leftarrow:s7,LeftArrow:l7,Leftarrow:u7,LeftArrowRightArrow:c7,leftarrowtail:f7,LeftCeiling:d7,LeftDoubleBracket:h7,LeftDownTeeVector:p7,LeftDownVectorBar:v7,LeftDownVector:m7,LeftFloor:g7,leftharpoondown:y7,leftharpoonup:b7,leftleftarrows:w7,leftrightarrow:C7,LeftRightArrow:x7,Leftrightarrow:T7,leftrightarrows:k7,leftrightharpoons:E7,leftrightsquigarrow:S7,LeftRightVector:M7,LeftTeeArrow:O7,LeftTee:A7,LeftTeeVector:_7,leftthreetimes:L7,LeftTriangleBar:D7,LeftTriangle:N7,LeftTriangleEqual:I7,LeftUpDownVector:R7,LeftUpTeeVector:P7,LeftUpVectorBar:B7,LeftUpVector:F7,LeftVectorBar:H7,LeftVector:q7,lEg:$7,leg:U7,leq:z7,leqq:V7,leqslant:W7,lescc:j7,les:G7,lesdot:K7,lesdoto:J7,lesdotor:X7,lesg:Y7,lesges:Z7,lessapprox:Q7,lessdot:eX,lesseqgtr:tX,lesseqqgtr:rX,LessEqualGreater:nX,LessFullEqual:iX,LessGreater:aX,lessgtr:oX,LessLess:sX,lesssim:lX,LessSlantEqual:uX,LessTilde:cX,lfisht:fX,lfloor:dX,Lfr:hX,lfr:pX,lg:vX,lgE:mX,lHar:gX,lhard:yX,lharu:bX,lharul:wX,lhblk:CX,LJcy:xX,ljcy:TX,llarr:kX,ll:EX,Ll:SX,llcorner:MX,Lleftarrow:OX,llhard:AX,lltri:_X,Lmidot:LX,lmidot:DX,lmoustache:NX,lmoust:IX,lnap:RX,lnapprox:PX,lne:BX,lnE:FX,lneq:HX,lneqq:qX,lnsim:$X,loang:UX,loarr:zX,lobrk:VX,longleftarrow:WX,LongLeftArrow:jX,Longleftarrow:GX,longleftrightarrow:KX,LongLeftRightArrow:JX,Longleftrightarrow:XX,longmapsto:YX,longrightarrow:ZX,LongRightArrow:QX,Longrightarrow:eY,looparrowleft:tY,looparrowright:rY,lopar:nY,Lopf:iY,lopf:aY,loplus:oY,lotimes:sY,lowast:lY,lowbar:uY,LowerLeftArrow:cY,LowerRightArrow:fY,loz:dY,lozenge:hY,lozf:pY,lpar:vY,lparlt:mY,lrarr:gY,lrcorner:yY,lrhar:bY,lrhard:wY,lrm:CY,lrtri:xY,lsaquo:TY,lscr:kY,Lscr:EY,lsh:SY,Lsh:MY,lsim:OY,lsime:AY,lsimg:_Y,lsqb:LY,lsquo:DY,lsquor:NY,Lstrok:IY,lstrok:RY,ltcc:PY,ltcir:BY,lt:FY,LT:HY,Lt:qY,ltdot:$Y,lthree:UY,ltimes:zY,ltlarr:VY,ltquest:WY,ltri:jY,ltrie:GY,ltrif:KY,ltrPar:JY,lurdshar:XY,luruhar:YY,lvertneqq:ZY,lvnE:QY,macr:eZ,male:tZ,malt:rZ,maltese:nZ,Map:"\u2905",map:iZ,mapsto:aZ,mapstodown:oZ,mapstoleft:sZ,mapstoup:lZ,marker:uZ,mcomma:cZ,Mcy:fZ,mcy:dZ,mdash:hZ,mDDot:pZ,measuredangle:vZ,MediumSpace:mZ,Mellintrf:gZ,Mfr:yZ,mfr:bZ,mho:wZ,micro:CZ,midast:xZ,midcir:TZ,mid:kZ,middot:EZ,minusb:SZ,minus:MZ,minusd:OZ,minusdu:AZ,MinusPlus:_Z,mlcp:LZ,mldr:DZ,mnplus:NZ,models:IZ,Mopf:RZ,mopf:PZ,mp:BZ,mscr:FZ,Mscr:HZ,mstpos:qZ,Mu:$Z,mu:UZ,multimap:zZ,mumap:VZ,nabla:WZ,Nacute:jZ,nacute:GZ,nang:KZ,nap:JZ,napE:XZ,napid:YZ,napos:ZZ,napprox:QZ,natural:eQ,naturals:tQ,natur:rQ,nbsp:nQ,nbump:iQ,nbumpe:aQ,ncap:oQ,Ncaron:sQ,ncaron:lQ,Ncedil:uQ,ncedil:cQ,ncong:fQ,ncongdot:dQ,ncup:hQ,Ncy:pQ,ncy:vQ,ndash:mQ,nearhk:gQ,nearr:yQ,neArr:bQ,nearrow:wQ,ne:CQ,nedot:xQ,NegativeMediumSpace:TQ,NegativeThickSpace:kQ,NegativeThinSpace:EQ,NegativeVeryThinSpace:SQ,nequiv:MQ,nesear:OQ,nesim:AQ,NestedGreaterGreater:_Q,NestedLessLess:LQ,NewLine:DQ,nexist:NQ,nexists:IQ,Nfr:RQ,nfr:PQ,ngE:BQ,nge:FQ,ngeq:HQ,ngeqq:qQ,ngeqslant:$Q,nges:UQ,nGg:zQ,ngsim:VQ,nGt:WQ,ngt:jQ,ngtr:GQ,nGtv:KQ,nharr:JQ,nhArr:XQ,nhpar:YQ,ni:ZQ,nis:QQ,nisd:eee,niv:tee,NJcy:ree,njcy:nee,nlarr:iee,nlArr:aee,nldr:oee,nlE:see,nle:lee,nleftarrow:uee,nLeftarrow:cee,nleftrightarrow:fee,nLeftrightarrow:dee,nleq:hee,nleqq:pee,nleqslant:vee,nles:mee,nless:gee,nLl:yee,nlsim:bee,nLt:wee,nlt:Cee,nltri:xee,nltrie:Tee,nLtv:kee,nmid:Eee,NoBreak:See,NonBreakingSpace:Mee,nopf:Oee,Nopf:Aee,Not:_ee,not:Lee,NotCongruent:Dee,NotCupCap:Nee,NotDoubleVerticalBar:Iee,NotElement:Ree,NotEqual:Pee,NotEqualTilde:Bee,NotExists:Fee,NotGreater:Hee,NotGreaterEqual:qee,NotGreaterFullEqual:$ee,NotGreaterGreater:Uee,NotGreaterLess:zee,NotGreaterSlantEqual:Vee,NotGreaterTilde:Wee,NotHumpDownHump:jee,NotHumpEqual:Gee,notin:Kee,notindot:Jee,notinE:Xee,notinva:Yee,notinvb:Zee,notinvc:Qee,NotLeftTriangleBar:ete,NotLeftTriangle:tte,NotLeftTriangleEqual:rte,NotLess:nte,NotLessEqual:ite,NotLessGreater:ate,NotLessLess:ote,NotLessSlantEqual:ste,NotLessTilde:lte,NotNestedGreaterGreater:ute,NotNestedLessLess:cte,notni:fte,notniva:dte,notnivb:hte,notnivc:pte,NotPrecedes:vte,NotPrecedesEqual:mte,NotPrecedesSlantEqual:gte,NotReverseElement:yte,NotRightTriangleBar:bte,NotRightTriangle:wte,NotRightTriangleEqual:Cte,NotSquareSubset:xte,NotSquareSubsetEqual:Tte,NotSquareSuperset:kte,NotSquareSupersetEqual:Ete,NotSubset:Ste,NotSubsetEqual:Mte,NotSucceeds:Ote,NotSucceedsEqual:Ate,NotSucceedsSlantEqual:_te,NotSucceedsTilde:Lte,NotSuperset:Dte,NotSupersetEqual:Nte,NotTilde:Ite,NotTildeEqual:Rte,NotTildeFullEqual:Pte,NotTildeTilde:Bte,NotVerticalBar:Fte,nparallel:Hte,npar:qte,nparsl:$te,npart:Ute,npolint:zte,npr:Vte,nprcue:Wte,nprec:jte,npreceq:Gte,npre:Kte,nrarrc:Jte,nrarr:Xte,nrArr:Yte,nrarrw:Zte,nrightarrow:Qte,nRightarrow:ere,nrtri:tre,nrtrie:rre,nsc:nre,nsccue:ire,nsce:are,Nscr:ore,nscr:sre,nshortmid:lre,nshortparallel:ure,nsim:cre,nsime:fre,nsimeq:dre,nsmid:hre,nspar:pre,nsqsube:vre,nsqsupe:mre,nsub:gre,nsubE:yre,nsube:bre,nsubset:wre,nsubseteq:Cre,nsubseteqq:xre,nsucc:Tre,nsucceq:kre,nsup:Ere,nsupE:Sre,nsupe:Mre,nsupset:Ore,nsupseteq:Are,nsupseteqq:_re,ntgl:Lre,Ntilde:Dre,ntilde:Nre,ntlg:Ire,ntriangleleft:Rre,ntrianglelefteq:Pre,ntriangleright:Bre,ntrianglerighteq:Fre,Nu:Hre,nu:qre,num:$re,numero:Ure,numsp:zre,nvap:Vre,nvdash:Wre,nvDash:jre,nVdash:Gre,nVDash:Kre,nvge:Jre,nvgt:Xre,nvHarr:Yre,nvinfin:Zre,nvlArr:Qre,nvle:ene,nvlt:tne,nvltrie:rne,nvrArr:nne,nvrtrie:ine,nvsim:ane,nwarhk:one,nwarr:sne,nwArr:lne,nwarrow:une,nwnear:cne,Oacute:fne,oacute:dne,oast:hne,Ocirc:pne,ocirc:vne,ocir:mne,Ocy:gne,ocy:yne,odash:bne,Odblac:wne,odblac:Cne,odiv:xne,odot:Tne,odsold:kne,OElig:Ene,oelig:Sne,ofcir:Mne,Ofr:One,ofr:Ane,ogon:_ne,Ograve:Lne,ograve:Dne,ogt:Nne,ohbar:Ine,ohm:Rne,oint:Pne,olarr:Bne,olcir:Fne,olcross:Hne,oline:qne,olt:$ne,Omacr:Une,omacr:zne,Omega:Vne,omega:Wne,Omicron:jne,omicron:Gne,omid:Kne,ominus:Jne,Oopf:Xne,oopf:Yne,opar:Zne,OpenCurlyDoubleQuote:Qne,OpenCurlyQuote:eie,operp:tie,oplus:rie,orarr:nie,Or:iie,or:aie,ord:oie,order:sie,orderof:lie,ordf:uie,ordm:cie,origof:fie,oror:die,orslope:hie,orv:pie,oS:vie,Oscr:mie,oscr:gie,Oslash:yie,oslash:bie,osol:wie,Otilde:Cie,otilde:xie,otimesas:Tie,Otimes:kie,otimes:Eie,Ouml:Sie,ouml:Mie,ovbar:Oie,OverBar:Aie,OverBrace:_ie,OverBracket:Lie,OverParenthesis:Die,para:Nie,parallel:Iie,par:Rie,parsim:Pie,parsl:Bie,part:Fie,PartialD:Hie,Pcy:qie,pcy:$ie,percnt:Uie,period:zie,permil:Vie,perp:Wie,pertenk:jie,Pfr:Gie,pfr:Kie,Phi:Jie,phi:Xie,phiv:Yie,phmmat:Zie,phone:Qie,Pi:eae,pi:tae,pitchfork:rae,piv:nae,planck:iae,planckh:aae,plankv:oae,plusacir:sae,plusb:lae,pluscir:uae,plus:cae,plusdo:fae,plusdu:dae,pluse:hae,PlusMinus:pae,plusmn:vae,plussim:mae,plustwo:gae,pm:yae,Poincareplane:bae,pointint:wae,popf:Cae,Popf:xae,pound:Tae,prap:kae,Pr:Eae,pr:Sae,prcue:Mae,precapprox:Oae,prec:Aae,preccurlyeq:_ae,Precedes:Lae,PrecedesEqual:Dae,PrecedesSlantEqual:Nae,PrecedesTilde:Iae,preceq:Rae,precnapprox:Pae,precneqq:Bae,precnsim:Fae,pre:Hae,prE:qae,precsim:$ae,prime:Uae,Prime:zae,primes:Vae,prnap:Wae,prnE:jae,prnsim:Gae,prod:Kae,Product:Jae,profalar:Xae,profline:Yae,profsurf:Zae,prop:Qae,Proportional:eoe,Proportion:toe,propto:roe,prsim:noe,prurel:ioe,Pscr:aoe,pscr:ooe,Psi:soe,psi:loe,puncsp:uoe,Qfr:coe,qfr:foe,qint:doe,qopf:hoe,Qopf:poe,qprime:voe,Qscr:moe,qscr:goe,quaternions:yoe,quatint:boe,quest:woe,questeq:Coe,quot:xoe,QUOT:Toe,rAarr:koe,race:Eoe,Racute:Soe,racute:Moe,radic:Ooe,raemptyv:Aoe,rang:_oe,Rang:Loe,rangd:Doe,range:Noe,rangle:Ioe,raquo:Roe,rarrap:Poe,rarrb:Boe,rarrbfs:Foe,rarrc:Hoe,rarr:qoe,Rarr:$oe,rArr:Uoe,rarrfs:zoe,rarrhk:Voe,rarrlp:Woe,rarrpl:joe,rarrsim:Goe,Rarrtl:Koe,rarrtl:Joe,rarrw:Xoe,ratail:Yoe,rAtail:Zoe,ratio:Qoe,rationals:ese,rbarr:tse,rBarr:rse,RBarr:nse,rbbrk:ise,rbrace:ase,rbrack:ose,rbrke:sse,rbrksld:lse,rbrkslu:use,Rcaron:cse,rcaron:fse,Rcedil:dse,rcedil:hse,rceil:pse,rcub:vse,Rcy:mse,rcy:gse,rdca:yse,rdldhar:bse,rdquo:wse,rdquor:Cse,rdsh:xse,real:Tse,realine:kse,realpart:Ese,reals:Sse,Re:Mse,rect:Ose,reg:Ase,REG:_se,ReverseElement:Lse,ReverseEquilibrium:Dse,ReverseUpEquilibrium:Nse,rfisht:Ise,rfloor:Rse,rfr:Pse,Rfr:Bse,rHar:Fse,rhard:Hse,rharu:qse,rharul:$se,Rho:Use,rho:zse,rhov:Vse,RightAngleBracket:Wse,RightArrowBar:jse,rightarrow:Gse,RightArrow:Kse,Rightarrow:Jse,RightArrowLeftArrow:Xse,rightarrowtail:Yse,RightCeiling:Zse,RightDoubleBracket:Qse,RightDownTeeVector:ele,RightDownVectorBar:tle,RightDownVector:rle,RightFloor:nle,rightharpoondown:ile,rightharpoonup:ale,rightleftarrows:ole,rightleftharpoons:sle,rightrightarrows:lle,rightsquigarrow:ule,RightTeeArrow:cle,RightTee:fle,RightTeeVector:dle,rightthreetimes:hle,RightTriangleBar:ple,RightTriangle:vle,RightTriangleEqual:mle,RightUpDownVector:gle,RightUpTeeVector:yle,RightUpVectorBar:ble,RightUpVector:wle,RightVectorBar:Cle,RightVector:xle,ring:Tle,risingdotseq:kle,rlarr:Ele,rlhar:Sle,rlm:Mle,rmoustache:Ole,rmoust:Ale,rnmid:_le,roang:Lle,roarr:Dle,robrk:Nle,ropar:Ile,ropf:Rle,Ropf:Ple,roplus:Ble,rotimes:Fle,RoundImplies:Hle,rpar:qle,rpargt:$le,rppolint:Ule,rrarr:zle,Rrightarrow:Vle,rsaquo:Wle,rscr:jle,Rscr:Gle,rsh:Kle,Rsh:Jle,rsqb:Xle,rsquo:Yle,rsquor:Zle,rthree:Qle,rtimes:eue,rtri:tue,rtrie:rue,rtrif:nue,rtriltri:iue,RuleDelayed:aue,ruluhar:oue,rx:sue,Sacute:lue,sacute:uue,sbquo:cue,scap:fue,Scaron:due,scaron:hue,Sc:pue,sc:vue,sccue:mue,sce:gue,scE:yue,Scedil:bue,scedil:wue,Scirc:Cue,scirc:xue,scnap:Tue,scnE:kue,scnsim:Eue,scpolint:Sue,scsim:Mue,Scy:Oue,scy:Aue,sdotb:_ue,sdot:Lue,sdote:Due,searhk:Nue,searr:Iue,seArr:Rue,searrow:Pue,sect:Bue,semi:Fue,seswar:Hue,setminus:que,setmn:$ue,sext:Uue,Sfr:zue,sfr:Vue,sfrown:Wue,sharp:jue,SHCHcy:Gue,shchcy:Kue,SHcy:Jue,shcy:Xue,ShortDownArrow:Yue,ShortLeftArrow:Zue,shortmid:Que,shortparallel:ece,ShortRightArrow:tce,ShortUpArrow:rce,shy:nce,Sigma:ice,sigma:ace,sigmaf:oce,sigmav:sce,sim:lce,simdot:uce,sime:cce,simeq:fce,simg:dce,simgE:hce,siml:pce,simlE:vce,simne:mce,simplus:gce,simrarr:yce,slarr:bce,SmallCircle:wce,smallsetminus:Cce,smashp:xce,smeparsl:Tce,smid:kce,smile:Ece,smt:Sce,smte:Mce,smtes:Oce,SOFTcy:Ace,softcy:_ce,solbar:Lce,solb:Dce,sol:Nce,Sopf:Ice,sopf:Rce,spades:Pce,spadesuit:Bce,spar:Fce,sqcap:Hce,sqcaps:qce,sqcup:$ce,sqcups:Uce,Sqrt:zce,sqsub:Vce,sqsube:Wce,sqsubset:jce,sqsubseteq:Gce,sqsup:Kce,sqsupe:Jce,sqsupset:Xce,sqsupseteq:Yce,square:Zce,Square:Qce,SquareIntersection:efe,SquareSubset:tfe,SquareSubsetEqual:rfe,SquareSuperset:nfe,SquareSupersetEqual:ife,SquareUnion:afe,squarf:ofe,squ:sfe,squf:lfe,srarr:ufe,Sscr:cfe,sscr:ffe,ssetmn:dfe,ssmile:hfe,sstarf:pfe,Star:vfe,star:mfe,starf:gfe,straightepsilon:yfe,straightphi:bfe,strns:wfe,sub:Cfe,Sub:xfe,subdot:Tfe,subE:kfe,sube:Efe,subedot:Sfe,submult:Mfe,subnE:Ofe,subne:Afe,subplus:_fe,subrarr:Lfe,subset:Dfe,Subset:Nfe,subseteq:Ife,subseteqq:Rfe,SubsetEqual:Pfe,subsetneq:Bfe,subsetneqq:Ffe,subsim:Hfe,subsub:qfe,subsup:$fe,succapprox:Ufe,succ:zfe,succcurlyeq:Vfe,Succeeds:Wfe,SucceedsEqual:jfe,SucceedsSlantEqual:Gfe,SucceedsTilde:Kfe,succeq:Jfe,succnapprox:Xfe,succneqq:Yfe,succnsim:Zfe,succsim:Qfe,SuchThat:ede,sum:tde,Sum:rde,sung:nde,sup1:ide,sup2:ade,sup3:ode,sup:sde,Sup:lde,supdot:ude,supdsub:cde,supE:fde,supe:dde,supedot:hde,Superset:pde,SupersetEqual:vde,suphsol:mde,suphsub:gde,suplarr:yde,supmult:bde,supnE:wde,supne:Cde,supplus:xde,supset:Tde,Supset:kde,supseteq:Ede,supseteqq:Sde,supsetneq:Mde,supsetneqq:Ode,supsim:Ade,supsub:_de,supsup:Lde,swarhk:Dde,swarr:Nde,swArr:Ide,swarrow:Rde,swnwar:Pde,szlig:Bde,Tab:Fde,target:Hde,Tau:qde,tau:$de,tbrk:Ude,Tcaron:zde,tcaron:Vde,Tcedil:Wde,tcedil:jde,Tcy:Gde,tcy:Kde,tdot:Jde,telrec:Xde,Tfr:Yde,tfr:Zde,there4:Qde,therefore:ehe,Therefore:the,Theta:rhe,theta:nhe,thetasym:ihe,thetav:ahe,thickapprox:ohe,thicksim:she,ThickSpace:lhe,ThinSpace:uhe,thinsp:che,thkap:fhe,thksim:dhe,THORN:hhe,thorn:phe,tilde:vhe,Tilde:mhe,TildeEqual:ghe,TildeFullEqual:yhe,TildeTilde:bhe,timesbar:whe,timesb:Che,times:xhe,timesd:The,tint:khe,toea:Ehe,topbot:She,topcir:Mhe,top:Ohe,Topf:Ahe,topf:_he,topfork:Lhe,tosa:Dhe,tprime:Nhe,trade:Ihe,TRADE:Rhe,triangle:Phe,triangledown:Bhe,triangleleft:Fhe,trianglelefteq:Hhe,triangleq:qhe,triangleright:$he,trianglerighteq:Uhe,tridot:zhe,trie:Vhe,triminus:Whe,TripleDot:jhe,triplus:Ghe,trisb:Khe,tritime:Jhe,trpezium:Xhe,Tscr:Yhe,tscr:Zhe,TScy:Qhe,tscy:epe,TSHcy:tpe,tshcy:rpe,Tstrok:npe,tstrok:ipe,twixt:ape,twoheadleftarrow:ope,twoheadrightarrow:spe,Uacute:lpe,uacute:upe,uarr:cpe,Uarr:fpe,uArr:dpe,Uarrocir:hpe,Ubrcy:ppe,ubrcy:vpe,Ubreve:mpe,ubreve:gpe,Ucirc:ype,ucirc:bpe,Ucy:wpe,ucy:Cpe,udarr:xpe,Udblac:Tpe,udblac:kpe,udhar:Epe,ufisht:Spe,Ufr:Mpe,ufr:Ope,Ugrave:Ape,ugrave:_pe,uHar:Lpe,uharl:Dpe,uharr:Npe,uhblk:Ipe,ulcorn:Rpe,ulcorner:Ppe,ulcrop:Bpe,ultri:Fpe,Umacr:Hpe,umacr:qpe,uml:$pe,UnderBar:Upe,UnderBrace:zpe,UnderBracket:Vpe,UnderParenthesis:Wpe,Union:jpe,UnionPlus:Gpe,Uogon:Kpe,uogon:Jpe,Uopf:Xpe,uopf:Ype,UpArrowBar:Zpe,uparrow:Qpe,UpArrow:eve,Uparrow:tve,UpArrowDownArrow:rve,updownarrow:nve,UpDownArrow:ive,Updownarrow:ave,UpEquilibrium:ove,upharpoonleft:sve,upharpoonright:lve,uplus:uve,UpperLeftArrow:cve,UpperRightArrow:fve,upsi:dve,Upsi:hve,upsih:pve,Upsilon:vve,upsilon:mve,UpTeeArrow:gve,UpTee:yve,upuparrows:bve,urcorn:wve,urcorner:Cve,urcrop:xve,Uring:Tve,uring:kve,urtri:Eve,Uscr:Sve,uscr:Mve,utdot:Ove,Utilde:Ave,utilde:_ve,utri:Lve,utrif:Dve,uuarr:Nve,Uuml:Ive,uuml:Rve,uwangle:Pve,vangrt:Bve,varepsilon:Fve,varkappa:Hve,varnothing:qve,varphi:$ve,varpi:Uve,varpropto:zve,varr:Vve,vArr:Wve,varrho:jve,varsigma:Gve,varsubsetneq:Kve,varsubsetneqq:Jve,varsupsetneq:Xve,varsupsetneqq:Yve,vartheta:Zve,vartriangleleft:Qve,vartriangleright:eme,vBar:tme,Vbar:rme,vBarv:nme,Vcy:ime,vcy:ame,vdash:ome,vDash:sme,Vdash:lme,VDash:ume,Vdashl:cme,veebar:fme,vee:dme,Vee:hme,veeeq:pme,vellip:vme,verbar:mme,Verbar:gme,vert:yme,Vert:bme,VerticalBar:wme,VerticalLine:Cme,VerticalSeparator:xme,VerticalTilde:Tme,VeryThinSpace:kme,Vfr:Eme,vfr:Sme,vltri:Mme,vnsub:Ome,vnsup:Ame,Vopf:_me,vopf:Lme,vprop:Dme,vrtri:Nme,Vscr:Ime,vscr:Rme,vsubnE:Pme,vsubne:Bme,vsupnE:Fme,vsupne:Hme,Vvdash:qme,vzigzag:$me,Wcirc:Ume,wcirc:zme,wedbar:Vme,wedge:Wme,Wedge:jme,wedgeq:Gme,weierp:Kme,Wfr:Jme,wfr:Xme,Wopf:Yme,wopf:Zme,wp:Qme,wr:ege,wreath:tge,Wscr:rge,wscr:nge,xcap:ige,xcirc:age,xcup:oge,xdtri:sge,Xfr:lge,xfr:uge,xharr:cge,xhArr:fge,Xi:dge,xi:hge,xlarr:pge,xlArr:vge,xmap:mge,xnis:gge,xodot:yge,Xopf:bge,xopf:wge,xoplus:Cge,xotime:xge,xrarr:Tge,xrArr:kge,Xscr:Ege,xscr:Sge,xsqcup:Mge,xuplus:Oge,xutri:Age,xvee:_ge,xwedge:Lge,Yacute:Dge,yacute:Nge,YAcy:Ige,yacy:Rge,Ycirc:Pge,ycirc:Bge,Ycy:Fge,ycy:Hge,yen:qge,Yfr:$ge,yfr:Uge,YIcy:zge,yicy:Vge,Yopf:Wge,yopf:jge,Yscr:Gge,yscr:Kge,YUcy:Jge,yucy:Xge,yuml:Yge,Yuml:Zge,Zacute:Qge,zacute:eye,Zcaron:tye,zcaron:rye,Zcy:nye,zcy:iye,Zdot:aye,zdot:oye,zeetrf:sye,ZeroWidthSpace:lye,Zeta:uye,zeta:cye,zfr:fye,Zfr:dye,ZHcy:hye,zhcy:pye,zigrarr:vye,zopf:mye,Zopf:gye,Zscr:yye,zscr:bye,zwj:wye,zwnj:Cye},xye="\xC1",Tye="\xE1",kye="\xC2",Eye="\xE2",Sye="\xB4",Mye="\xC6",Oye="\xE6",Aye="\xC0",_ye="\xE0",Lye="&",Dye="&",Nye="\xC5",Iye="\xE5",Rye="\xC3",Pye="\xE3",Bye="\xC4",Fye="\xE4",Hye="\xA6",qye="\xC7",$ye="\xE7",Uye="\xB8",zye="\xA2",Vye="\xA9",Wye="\xA9",jye="\xA4",Gye="\xB0",Kye="\xF7",Jye="\xC9",Xye="\xE9",Yye="\xCA",Zye="\xEA",Qye="\xC8",ebe="\xE8",tbe="\xD0",rbe="\xF0",nbe="\xCB",ibe="\xEB",abe="\xBD",obe="\xBC",sbe="\xBE",lbe=">",ube=">",cbe="\xCD",fbe="\xED",dbe="\xCE",hbe="\xEE",pbe="\xA1",vbe="\xCC",mbe="\xEC",gbe="\xBF",ybe="\xCF",bbe="\xEF",wbe="\xAB",Cbe="<",xbe="<",Tbe="\xAF",kbe="\xB5",Ebe="\xB7",Sbe="\xA0",Mbe="\xAC",Obe="\xD1",Abe="\xF1",_be="\xD3",Lbe="\xF3",Dbe="\xD4",Nbe="\xF4",Ibe="\xD2",Rbe="\xF2",Pbe="\xAA",Bbe="\xBA",Fbe="\xD8",Hbe="\xF8",qbe="\xD5",$be="\xF5",Ube="\xD6",zbe="\xF6",Vbe="\xB6",Wbe="\xB1",jbe="\xA3",Gbe='"',Kbe='"',Jbe="\xBB",Xbe="\xAE",Ybe="\xAE",Zbe="\xA7",Qbe="\xAD",ewe="\xB9",twe="\xB2",rwe="\xB3",nwe="\xDF",iwe="\xDE",awe="\xFE",owe="\xD7",swe="\xDA",lwe="\xFA",uwe="\xDB",cwe="\xFB",fwe="\xD9",dwe="\xF9",hwe="\xA8",pwe="\xDC",vwe="\xFC",mwe="\xDD",gwe="\xFD",ywe="\xA5",bwe="\xFF",wwe={Aacute:xye,aacute:Tye,Acirc:kye,acirc:Eye,acute:Sye,AElig:Mye,aelig:Oye,Agrave:Aye,agrave:_ye,amp:Lye,AMP:Dye,Aring:Nye,aring:Iye,Atilde:Rye,atilde:Pye,Auml:Bye,auml:Fye,brvbar:Hye,Ccedil:qye,ccedil:$ye,cedil:Uye,cent:zye,copy:Vye,COPY:Wye,curren:jye,deg:Gye,divide:Kye,Eacute:Jye,eacute:Xye,Ecirc:Yye,ecirc:Zye,Egrave:Qye,egrave:ebe,ETH:tbe,eth:rbe,Euml:nbe,euml:ibe,frac12:abe,frac14:obe,frac34:sbe,gt:lbe,GT:ube,Iacute:cbe,iacute:fbe,Icirc:dbe,icirc:hbe,iexcl:pbe,Igrave:vbe,igrave:mbe,iquest:gbe,Iuml:ybe,iuml:bbe,laquo:wbe,lt:Cbe,LT:xbe,macr:Tbe,micro:kbe,middot:Ebe,nbsp:Sbe,not:Mbe,Ntilde:Obe,ntilde:Abe,Oacute:_be,oacute:Lbe,Ocirc:Dbe,ocirc:Nbe,Ograve:Ibe,ograve:Rbe,ordf:Pbe,ordm:Bbe,Oslash:Fbe,oslash:Hbe,Otilde:qbe,otilde:$be,Ouml:Ube,ouml:zbe,para:Vbe,plusmn:Wbe,pound:jbe,quot:Gbe,QUOT:Kbe,raquo:Jbe,reg:Xbe,REG:Ybe,sect:Zbe,shy:Qbe,sup1:ewe,sup2:twe,sup3:rwe,szlig:nwe,THORN:iwe,thorn:awe,times:owe,Uacute:swe,uacute:lwe,Ucirc:uwe,ucirc:cwe,Ugrave:fwe,ugrave:dwe,uml:hwe,Uuml:pwe,uuml:vwe,Yacute:mwe,yacute:gwe,yen:ywe,yuml:bwe},Cwe="&",xwe="'",Twe=">",kwe="<",Ewe='"',oT={amp:Cwe,apos:xwe,gt:Twe,lt:kwe,quot:Ewe},ov={},Swe={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},Mwe=uo&&uo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ov,"__esModule",{value:!0});var zb=Mwe(Swe),Owe=String.fromCodePoint||function(r){var e="";return r>65535&&(r-=65536,e+=String.fromCharCode(r>>>10&1023|55296),r=56320|r&1023),e+=String.fromCharCode(r),e};function Awe(r){return r>=55296&&r<=57343||r>1114111?"\uFFFD":(r in zb.default&&(r=zb.default[r]),Owe(r))}ov.default=Awe;var gc=uo&&uo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(In,"__esModule",{value:!0});In.decodeHTML=In.decodeHTMLStrict=In.decodeXML=void 0;var Nh=gc(aT),_we=gc(wwe),Lwe=gc(oT),Vb=gc(ov),Dwe=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;In.decodeXML=sT(Lwe.default);In.decodeHTMLStrict=sT(Nh.default);function sT(r){var e=lT(r);return function(t){return String(t).replace(Dwe,e)}}var Wb=function(r,e){return r<e?1:-1};In.decodeHTML=function(){for(var r=Object.keys(_we.default).sort(Wb),e=Object.keys(Nh.default).sort(Wb),t=0,n=0;t<e.length;t++)r[n]===e[t]?(e[t]+=";?",n++):e[t]+=";";var i=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=lT(Nh.default);function o(l){return l.substr(-1)!==";"&&(l+=";"),a(l)}return function(l){return String(l).replace(i,o)}}();function lT(r){return function(t){if(t.charAt(1)==="#"){var n=t.charAt(2);return n==="X"||n==="x"?Vb.default(parseInt(t.substr(3),16)):Vb.default(parseInt(t.substr(2),10))}return r[t.slice(1,-1)]||t}}var nr={},uT=uo&&uo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(nr,"__esModule",{value:!0});nr.escapeUTF8=nr.escape=nr.encodeNonAsciiHTML=nr.encodeHTML=nr.encodeXML=void 0;var Nwe=uT(oT),cT=dT(Nwe.default),fT=hT(cT);nr.encodeXML=mT(cT);var Iwe=uT(aT),sv=dT(Iwe.default),Rwe=hT(sv);nr.encodeHTML=Bwe(sv,Rwe);nr.encodeNonAsciiHTML=mT(sv);function dT(r){return Object.keys(r).sort().reduce(function(e,t){return e[r[t]]="&"+t+";",e},{})}function hT(r){for(var e=[],t=[],n=0,i=Object.keys(r);n<i.length;n++){var a=i[n];a.length===1?e.push("\\"+a):t.push(a)}e.sort();for(var o=0;o<e.length-1;o++){for(var l=o;l<e.length-1&&e[l].charCodeAt(1)+1===e[l+1].charCodeAt(1);)l+=1;var c=1+l-o;c<3||e.splice(o,c,e[o]+"-"+e[l])}return t.unshift("["+e.join("")+"]"),new RegExp(t.join("|"),"g")}var pT=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,Pwe=String.prototype.codePointAt!=null?function(r){return r.codePointAt(0)}:function(r){return(r.charCodeAt(0)-55296)*1024+r.charCodeAt(1)-56320+65536};function yc(r){return"&#x"+(r.length>1?Pwe(r):r.charCodeAt(0)).toString(16).toUpperCase()+";"}function Bwe(r,e){return function(t){return t.replace(e,function(n){return r[n]}).replace(pT,yc)}}var vT=new RegExp(fT.source+"|"+pT.source,"g");function Fwe(r){return r.replace(vT,yc)}nr.escape=Fwe;function Hwe(r){return r.replace(fT,yc)}nr.escapeUTF8=Hwe;function mT(r){return function(e){return e.replace(vT,function(t){return r[t]||yc(t)})}}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.decodeXMLStrict=r.decodeHTML5Strict=r.decodeHTML4Strict=r.decodeHTML5=r.decodeHTML4=r.decodeHTMLStrict=r.decodeHTML=r.decodeXML=r.encodeHTML5=r.encodeHTML4=r.escapeUTF8=r.escape=r.encodeNonAsciiHTML=r.encodeHTML=r.encodeXML=r.encode=r.decodeStrict=r.decode=void 0;var e=In,t=nr;function n(c,f){return(!f||f<=0?e.decodeXML:e.decodeHTML)(c)}r.decode=n;function i(c,f){return(!f||f<=0?e.decodeXML:e.decodeHTMLStrict)(c)}r.decodeStrict=i;function a(c,f){return(!f||f<=0?t.encodeXML:t.encodeHTML)(c)}r.encode=a;var o=nr;Object.defineProperty(r,"encodeXML",{enumerable:!0,get:function(){return o.encodeXML}}),Object.defineProperty(r,"encodeHTML",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(r,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return o.encodeNonAsciiHTML}}),Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return o.escape}}),Object.defineProperty(r,"escapeUTF8",{enumerable:!0,get:function(){return o.escapeUTF8}}),Object.defineProperty(r,"encodeHTML4",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(r,"encodeHTML5",{enumerable:!0,get:function(){return o.encodeHTML}});var l=In;Object.defineProperty(r,"decodeXML",{enumerable:!0,get:function(){return l.decodeXML}}),Object.defineProperty(r,"decodeHTML",{enumerable:!0,get:function(){return l.decodeHTML}}),Object.defineProperty(r,"decodeHTMLStrict",{enumerable:!0,get:function(){return l.decodeHTMLStrict}}),Object.defineProperty(r,"decodeHTML4",{enumerable:!0,get:function(){return l.decodeHTML}}),Object.defineProperty(r,"decodeHTML5",{enumerable:!0,get:function(){return l.decodeHTML}}),Object.defineProperty(r,"decodeHTML4Strict",{enumerable:!0,get:function(){return l.decodeHTMLStrict}}),Object.defineProperty(r,"decodeHTML5Strict",{enumerable:!0,get:function(){return l.decodeHTMLStrict}}),Object.defineProperty(r,"decodeXMLStrict",{enumerable:!0,get:function(){return l.decodeXML}})})(av);var gT="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",qwe=92,$we=/[\\&]/,lv="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",Uwe=new RegExp("\\\\"+lv+"|"+gT,"gi"),zwe='[&<>"]',jb=new RegExp(zwe,"g"),Vwe=function(r){return r.charCodeAt(0)===qwe?r.charAt(1):av.decodeHTML(r)};function ps(r){return $we.test(r)?r.replace(Uwe,Vwe):r}function Bl(r){try{return i$(r)}catch{return r}}function Wwe(r){switch(r){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return r}}function Fa(r){return jb.test(r)?r.replace(jb,Wwe):r}function Ih(r,e){for(var t=[],n=0;n<e;n++)t.push(r);return t.join("")}function Gb(r){return r?!/[^ \t]+/.test(r):!0}var jwe=function(){function r(e){this.current=e,this.root=e,this.entering=!0}return r.prototype.next=function(){var e=this.current,t=this.entering;if(e===null)return null;var n=uv(e);return t&&n?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:e.next===null?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:t,node:e}},r.prototype.resumeAt=function(e,t){this.current=e,this.entering=t===!0},r}();function uv(r){switch(r.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var Gwe=1,bc={};function Kwe(r){return bc[r]}function Rh(r){delete bc[r]}function Jwe(){bc={}}var Ls=function(){function r(e,t){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,e==="document"?this.id=-1:this.id=Gwe++,this.type=e,this.sourcepos=t,bc[this.id]=this}return r.prototype.isContainer=function(){return uv(this)},r.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},r.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},r.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},r.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},r.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},r.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},r.prototype.walker=function(){return new jwe(this)},r}(),Bn=function(r){br(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.open=!0,i.lineOffsets=null,i.stringContent=null,i.lastLineBlank=!1,i.lastLineChecked=!1,i.type=t,i}return e}(Ls),Xwe=function(r){br(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.listData=null,t}return e}(Bn),Ywe=function(r){br(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.level=0,t.headingType="atx",t}return e}(Bn),Zwe=function(r){br(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isFenced=!1,t.fenceChar=null,t.fenceLength=0,t.fenceOffset=-1,t.info=null,t.infoPadding=0,t}return e}(Bn),Qwe=function(r){br(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.columns=[],t}return e}(Bn),e0e=function(r){br(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.startIdx=0,t.endIdx=0,t.paddingLeft=0,t.paddingRight=0,t.ignored=!1,t}return e}(Bn),t0e=function(r){br(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.title="",t.dest="",t.label="",t}return e}(Bn),r0e=function(r){br(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.syntaxLength=0,t.offset=-1,t.info="",t}return e}(Bn),n0e=function(r){br(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.htmlBlockType=-1,t}return e}(Bn),i0e=function(r){br(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.destination=null,t.title=null,t.extendedAutolink=!1,t}return e}(Ls),a0e=function(r){br(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.tickCount=0,t}return e}(Ls),o0e=function(r){br(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.info="",t}return e}(Ls);function qe(r,e){switch(r){case"heading":return new Ywe(r,e);case"list":case"item":return new Xwe(r,e);case"link":case"image":return new i0e(r,e);case"codeBlock":return new Zwe(r,e);case"htmlBlock":return new n0e(r,e);case"table":return new Qwe(r,e);case"tableCell":return new e0e(r,e);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new Bn(r,e);case"code":return new a0e(r,e);case"refDef":return new t0e(r,e);case"customBlock":return new r0e(r,e);case"customInline":return new o0e(r,e);default:return new Ls(r,e)}}function yT(r){return r.type==="codeBlock"}function s0e(r){return r.type==="htmlBlock"}function l0e(r){return r.type==="heading"}function Kb(r){return r.type==="list"}function u0e(r){return r.type==="table"}function Na(r){return r.type==="refDef"}function bT(r){return r.type==="customBlock"}function c0e(r){return r.type==="customInline"}function je(r,e){var t=qe("text",e);return t.literal=r,t}var wT="[A-Za-z][A-Za-z0-9-]*",f0e="[a-zA-Z_:][a-zA-Z0-9:._-]*",d0e="[^\"'=<>`\\x00-\\x20]+",h0e="'[^']*'",p0e='"[^"]*"',v0e="(?:"+d0e+"|"+h0e+"|"+p0e+")",m0e="(?:\\s*=\\s*"+v0e+")",g0e="(?:\\s+"+f0e+m0e+"?)",CT="<"+wT+g0e+"*\\s*/?>",xT="</"+wT+"\\s*[>]",y0e="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",b0e="[<][?].*?[?][>]",w0e="<![A-Z]+\\s+[^>]*>",C0e="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",x0e="(?:"+CT+"|"+xT+"|"+y0e+"|"+b0e+"|"+w0e+"|"+C0e+")",T0e=new RegExp("^"+x0e,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var Ph;if(String.fromCodePoint)Ph=function(r){try{return String.fromCodePoint(r)}catch(e){if(e instanceof RangeError)return String.fromCharCode(65533);throw e}};else{var k0e=String.fromCharCode,E0e=Math.floor;Ph=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=16384,n=[],i,a,o=-1,l=r.length;if(!l)return"";for(var c="";++o<l;){var f=Number(r[o]);if(!isFinite(f)||f<0||f>1114111||E0e(f)!==f)return String.fromCharCode(65533);f<=65535?n.push(f):(f-=65536,i=(f>>10)+55296,a=f%1024+56320,n.push(i,a)),(o+1===l||n.length>t)&&(c+=k0e.apply(void 0,n),n.length=0)}return c}}var _d=Ph,S0e="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",M0e="[^<\\s]*[^<?!.,:*_?~\\s]",O0e="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function A0e(r){var e=/\)+$/.exec(r);if(e){for(var t=0,n=0,i=r;n<i.length;n++){var a=i[n];a==="("?t<0?t=1:t+=1:a===")"&&(t-=1)}if(t<0){var o=Math.min(-t,e[0].length);return r.substring(0,r.length-o)}}return r}function _0e(r){return r.replace(/&[A-Za-z0-9]+;$/,"")}function L0e(r){for(var e=new RegExp(O0e,"g"),t=[],n;n=e.exec(r);){var i=n[0];/[_-]+$/.test(i)||t.push({text:i,range:[n.index,n.index+i.length-1],url:"mailto:"+i})}return t}function D0e(r){for(var e=new RegExp("(www|https?://)."+S0e+M0e,"g"),t=[],n;n=e.exec(r);){var i=_0e(A0e(n[0])),a=n[1]==="www"?"http://":"";t.push({text:i,range:[n.index,n.index+i.length-1],url:""+a+i})}return t}function N0e(r){return Dh(Dh([],D0e(r)),L0e(r)).sort(function(e,t){return e.range[0]-t.range[0]})}function I0e(r,e){typeof e=="boolean"&&(e=N0e);for(var t,n=function(){var i=t.entering,a=t.node;if(i&&a.type==="text"&&a.parent.type!=="link"){var o=a.literal,l=e(o);if(!l||!l.length)return"continue";for(var c=0,f=a.sourcepos[0],h=f[0],p=f[1],v=function($,le){return[[h,p+$],[h,p+le]]},g=[],y=0,x=l;y<x.length;y++){var T=x[y],E=T.range,L=T.url,N=T.text;E[0]>c&&g.push(je(o.substring(c,E[0]),v(c,E[0]-1)));var B=qe("link",v.apply(void 0,E));B.appendChild(je(N,v.apply(void 0,E))),B.destination=L,B.extendedAutolink=!0,g.push(B),c=E[1]+1}c<o.length&&g.push(je(o.substring(c),v(c,o.length-1)));for(var _=0,z=g;_<z.length;_++){var K=z[_];a.insertBefore(K)}a.unlink()}};t=r.next();)n()}function Au(r){return r[r.length-1]}function Jb(r){return r.slice(1,r.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function Fl(r,e){Object.keys(r).forEach(function(t){e(t,r[t])})}function R0e(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=dt({},r);return e.forEach(function(i){delete n[i]}),n}function Ia(r){return!Object.keys(r).length}function P0e(r){Object.keys(r).forEach(function(e){delete r[e]})}var Bh=10,Ld=42,Hl=95,B0e=96,Xb=91,F0e=93,ql=126,Yb=60,H0e=33,Zb=92,q0e=38,Qb=40,Dd=41,$0e=58,Pi=39,Bi=34,Fi=36,Nd="\\\\"+lv,ew=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),U0e=new RegExp('^(?:"('+Nd+'|[^"\\x00])*"|'+("'("+Nd+"|[^'\\x00])*'")+"|"+("\\(("+Nd+"|[^()\\x00])*\\))")),z0e=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,tw=new RegExp("^"+lv),V0e=new RegExp("^"+gT,"i"),W0e=/`+/,j0e=/^`+/,G0e=/\.\.\./g,K0e=/--+/g,J0e=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,X0e=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,Y0e=/^ *(?:\n *)?/,Id=/^[ \t\n\x0b\x0c\x0d]/,rw=/^\s/,Z0e=/ *$/,Q0e=/^ */,nw=/^ *(?:\n|$)/,e1e=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,t1e=/^[^\n`\[\]\\!<&*_'"~$]+/m,r1e=function(){function r(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return r.prototype.sourcepos=function(e,t){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],i=this.lineStartNum+this.lineIdx,a=[i,e+n];return typeof t=="number"?[a,[i,t+n]]:a},r.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},r.prototype.match=function(e){var t=e.exec(this.subject.slice(this.pos));return t===null?null:(this.pos+=t.index+t[0].length,t[0])},r.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},r.prototype.spnl=function(){return this.match(Y0e),!0},r.prototype.parseBackticks=function(e){var t=this.pos+1,n=this.match(j0e);if(n===null)return!1;for(var i=this.pos,a;(a=this.match(W0e))!==null;)if(a===n){var o=this.subject.slice(i,this.pos-n.length),l=this.sourcepos(t,this.pos),c=o.split(`
`);if(c.length>1){var f=Au(c);this.lineIdx+=c.length-1,this.linePosOffset=-(this.pos-f.length-n.length),l[1]=this.sourcepos(this.pos),o=c.join(" ")}var h=qe("code",l);return o.length>0&&o.match(/[^ ]/)!==null&&o[0]==" "&&o[o.length-1]==" "?h.literal=o.slice(1,o.length-1):h.literal=o,h.tickCount=n.length,e.appendChild(h),!0}return this.pos=i,e.appendChild(je(n,this.sourcepos(t,this.pos-1))),!0},r.prototype.parseBackslash=function(e){var t=this.subject,n;this.pos+=1;var i=this.pos;return this.peek()===Bh?(this.pos+=1,n=qe("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(n),this.nextLine()):tw.test(t.charAt(this.pos))?(e.appendChild(je(t.charAt(this.pos),this.sourcepos(i,this.pos))),this.pos+=1):e.appendChild(je("\\",this.sourcepos(i,i))),!0},r.prototype.parseAutolink=function(e){var t,n,i,a=this.pos+1;return(t=this.match(J0e))?(n=t.slice(1,t.length-1),i=qe("link",this.sourcepos(a,this.pos)),i.destination=Bl("mailto:"+n),i.title="",i.appendChild(je(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(i),!0):(t=this.match(X0e))?(n=t.slice(1,t.length-1),i=qe("link",this.sourcepos(a,this.pos)),i.destination=Bl(n),i.title="",i.appendChild(je(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(i),!0):!1},r.prototype.parseHtmlTag=function(e){var t=this.pos+1,n=this.match(T0e);if(n===null)return!1;var i=qe("htmlInline",this.sourcepos(t,this.pos));return i.literal=n,e.appendChild(i),!0},r.prototype.scanDelims=function(e){var t=0,n=this.pos;if(e===Pi||e===Bi)t++,this.pos++;else for(;this.peek()===e;)t++,this.pos++;if(t===0||t<2&&(e===ql||e===Fi))return this.pos=n,null;var i=n===0?`
`:this.subject.charAt(n-1),a=this.peek(),o;a===-1?o=`
`:o=_d(a);var l=rw.test(o),c=ew.test(o),f=rw.test(i),h=ew.test(i),p=!l&&(!c||f||h),v=!f&&(!h||l||c),g,y;return e===Hl?(g=p&&(!v||h),y=v&&(!p||c)):e===Pi||e===Bi?(g=p&&!v,y=v):e===Fi?(g=!l,y=!f):(g=p,y=v),this.pos=n,{numdelims:t,canOpen:g,canClose:y}},r.prototype.handleDelim=function(e,t){var n=this.scanDelims(e);if(!n)return!1;var i=n.numdelims,a=this.pos+1,o;this.pos+=i,e===Pi?o="\u2019":e===Bi?o="\u201C":o=this.subject.slice(a-1,this.pos);var l=je(o,this.sourcepos(a,this.pos));return t.appendChild(l),(n.canOpen||n.canClose)&&(this.options.smart||e!==Pi&&e!==Bi)&&(this.delimiters={cc:e,numdelims:i,origdelims:i,node:l,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},r.prototype.removeDelimiter=function(e){e.previous!==null&&(e.previous.next=e.next),e.next===null?this.delimiters=e.previous:e.next.previous=e.previous},r.prototype.removeDelimitersBetween=function(e,t){e.next!==t&&(e.next=t,t.previous=e)},r.prototype.processEmphasis=function(e){var t,n,i,a,o,l,c,f=!1,h=(t={},t[Hl]=[e,e,e],t[Ld]=[e,e,e],t[Pi]=[e],t[Bi]=[e],t[ql]=[e],t[Fi]=[e],t);for(i=this.delimiters;i!==null&&i.previous!==e;)i=i.previous;for(;i!==null;){var p=i.cc,v=p===Hl||p===Ld;if(!i.canClose)i=i.next;else{for(n=i.previous,c=!1;n!==null&&n!==e&&n!==h[p][v?i.origdelims%3:0];){if(f=v&&(i.canOpen||n.canClose)&&i.origdelims%3!==0&&(n.origdelims+i.origdelims)%3===0,n.cc===i.cc&&n.canOpen&&!f){c=!0;break}n=n.previous}if(a=i,v||p===ql||p===Fi){if(!c)i=i.next;else if(n){var g=i.numdelims>=2&&n.numdelims>=2?2:1,y=v?0:1;o=n.node,l=i.node;var x=v?g===1?"emph":"strong":"strike";p===Fi&&(x="customInline");var T=qe(x),E=o.sourcepos[1],L=l.sourcepos[0];T.sourcepos=[[E[0],E[1]-g+1],[L[0],L[1]+g-1]],o.sourcepos[1][1]-=g,l.sourcepos[0][1]+=g,o.literal=o.literal.slice(g),l.literal=l.literal.slice(g),n.numdelims-=g,i.numdelims-=g;for(var N=o.next,B=void 0;N&&N!==l;)B=N.next,N.unlink(),T.appendChild(N),N=B;if(p===Fi){var _=T.firstChild,z=_.literal||"",K=z.split(/\s/)[0];T.info=K,z.length<=K.length?_.unlink():(_.sourcepos[0][1]+=K.length,_.literal=z.replace(K+" ",""))}if(o.insertAfter(T),this.removeDelimitersBetween(n,i),n.numdelims<=y&&(n.numdelims===0&&o.unlink(),this.removeDelimiter(n)),i.numdelims<=y){i.numdelims===0&&l.unlink();var $=i.next;this.removeDelimiter(i),i=$}}}else p===Pi?(i.node.literal="\u2019",c&&(n.node.literal="\u2018"),i=i.next):p===Bi&&(i.node.literal="\u201D",c&&(n.node.literal="\u201C"),i=i.next);c||(h[p][v?a.origdelims%3:0]=a.previous,a.canOpen||this.removeDelimiter(a))}}for(;this.delimiters!==null&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},r.prototype.parseLinkTitle=function(){var e=this.match(U0e);return e===null?null:ps(e.substr(1,e.length-2))},r.prototype.parseLinkDestination=function(){var e=this.match(z0e);if(e===null){if(this.peek()===Yb)return null;for(var t=this.pos,n=0,i=void 0;(i=this.peek())!==-1;)if(i===Zb&&tw.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(i===Qb)this.pos+=1,n+=1;else if(i===Dd){if(n<1)break;this.pos+=1,n-=1}else{if(Id.exec(_d(i))!==null)break;this.pos+=1}return this.pos===t&&i!==Dd||n!==0?null:(e=this.subject.substr(t,this.pos-t),Bl(ps(e)))}return Bl(ps(e.substr(1,e.length-2)))},r.prototype.parseLinkLabel=function(){var e=this.match(e1e);return e===null||e.length>1001?0:e.length},r.prototype.parseOpenBracket=function(e){var t=this.pos;this.pos+=1;var n=je("[",this.sourcepos(this.pos,this.pos));return e.appendChild(n),this.addBracket(n,t,!1),!0},r.prototype.parseBang=function(e){var t=this.pos;if(this.pos+=1,this.peek()===Xb){this.pos+=1;var n=je("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(n),this.addBracket(n,t+1,!0)}else{var n=je("!",this.sourcepos(this.pos,this.pos));e.appendChild(n)}return!0},r.prototype.parseCloseBracket=function(e){var t=null,n=null,i=!1;this.pos+=1;var a=this.pos,o=this.brackets;if(o===null)return e.appendChild(je("]",this.sourcepos(a,a))),!0;if(!o.active)return e.appendChild(je("]",this.sourcepos(a,a))),this.removeBracket(),!0;var l=o.image,c=this.pos;this.peek()===Qb&&(this.pos++,this.spnl()&&(t=this.parseLinkDestination())!==null&&this.spnl()&&(Id.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===Dd?(this.pos+=1,i=!0):this.pos=c);var f="";if(!i){var h=this.pos,p=this.parseLinkLabel();if(p>2?f=this.subject.slice(h,h+p):o.bracketAfter||(f=this.subject.slice(o.index,a)),p===0&&(this.pos=c),f){f=Jb(f);var v=this.refMap[f];v&&(t=v.destination,n=v.title,i=!0)}}if(i){var g=qe(l?"image":"link");g.destination=t,g.title=n||"",g.sourcepos=[o.startpos,this.sourcepos(this.pos)];for(var y=o.node.next,x=void 0;y;)x=y.next,y.unlink(),g.appendChild(y),y=x;if(e.appendChild(g),this.processEmphasis(o.previousDelimiter),this.removeBracket(),o.node.unlink(),!l)for(o=this.brackets;o!==null;)o.image||(o.active=!1),o=o.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:f}),!0}return this.removeBracket(),this.pos=a,e.appendChild(je("]",this.sourcepos(a,a))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:f}),!0},r.prototype.addBracket=function(e,t,n){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(t+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:t,image:n,active:!0}},r.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},r.prototype.parseEntity=function(e){var t,n=this.pos+1;return(t=this.match(V0e))?(e.appendChild(je(av.decodeHTML(t),this.sourcepos(n,this.pos))),!0):!1},r.prototype.parseString=function(e){var t,n=this.pos+1;if(t=this.match(t1e)){if(this.options.smart){var i=t.replace(G0e,"\u2026").replace(K0e,function(o){var l=0,c=0;return o.length%3===0?c=o.length/3:o.length%2===0?l=o.length/2:o.length%3===2?(l=1,c=(o.length-2)/3):(l=2,c=(o.length-4)/3),Ih("\u2014",c)+Ih("\u2013",l)});e.appendChild(je(i,this.sourcepos(n,this.pos)))}else{var a=je(t,this.sourcepos(n,this.pos));e.appendChild(a)}return!0}return!1},r.prototype.parseNewline=function(e){this.pos+=1;var t=e.lastChild;if(t&&t.type==="text"&&t.literal[t.literal.length-1]===" "){var n=t.literal[t.literal.length-2]===" ",i=t.literal.length;t.literal=t.literal.replace(Z0e,"");var a=i-t.literal.length;t.sourcepos[1][1]-=a,e.appendChild(qe(n?"linebreak":"softbreak",this.sourcepos(this.pos-a,this.pos)))}else e.appendChild(qe("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(Q0e),!0},r.prototype.parseReference=function(e,t){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,i=this.pos,a=this.parseLinkLabel();if(a===0)return 0;var o=this.subject.substr(0,a);if(this.peek()===$0e)this.pos++;else return this.pos=i,0;this.spnl();var l=this.parseLinkDestination();if(l===null)return this.pos=i,0;var c=this.pos;this.spnl(),this.pos!==c&&(n=this.parseLinkTitle()),n===null&&(n="",this.pos=c);var f=!0;if(this.match(nw)===null&&(n===""?f=!1:(n="",this.pos=c,f=this.match(nw)!==null)),!f)return this.pos=i,0;var h=Jb(o);if(h==="")return this.pos=i,0;var p=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=p[1][0]+1;var v=qe("refDef",p);return v.title=n,v.dest=l,v.label=h,e.insertBefore(v),t[h]?this.refDefCandidateMap[v.id]=v:t[h]=qh(v),this.pos-i},r.prototype.mergeTextNodes=function(e){for(var t,n=[];t=e.next();){var i=t.entering,a=t.node;if(i&&a.type==="text")n.push(a);else if(n.length===1)n=[];else if(n.length>1){var o=n[0],l=n[n.length-1];o.sourcepos&&l.sourcepos&&(o.sourcepos[1]=l.sourcepos[1]),o.next=l.next,o.next&&(o.next.prev=o);for(var c=1;c<n.length;c+=1)o.literal+=n[c].literal,n[c].unlink();n=[]}}},r.prototype.getReferenceDefSourcepos=function(e){for(var t=e.stringContent.split(/\n|\r\n/),n=!1,i=0,a={line:0,ch:0},o=0;o<t.length;o+=1){var l=t[o];if(Id.test(l))break;if(/\:/.test(l)&&i===0){if(n)break;var c=l.indexOf(":")===l.length-1?o+1:o;a={line:c,ch:t[c].length},n=!0}var f=l.match(/'|"/g);if(f&&(i+=f.length),i===2){a={line:o,ch:l.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+a.line,a.ch]]},r.prototype.parseInline=function(e){var t,n=!1,i=this.peek();if(i===-1)return!1;switch(i){case Bh:n=this.parseNewline(e);break;case Zb:n=this.parseBackslash(e);break;case B0e:n=this.parseBackticks(e);break;case Ld:case Hl:case ql:case Fi:n=this.handleDelim(i,e);break;case Pi:case Bi:n=!!(!((t=this.options)===null||t===void 0)&&t.smart)&&this.handleDelim(i,e);break;case Xb:n=this.parseOpenBracket(e);break;case H0e:n=this.parseBang(e);break;case F0e:n=this.parseCloseBracket(e);break;case Yb:n=this.parseAutolink(e)||this.parseHtmlTag(e);break;case q0e:e.disabledEntityParse||(n=this.parseEntity(e));break;default:n=this.parseString(e);break}return n||(this.pos+=1,e.appendChild(je(_d(i),this.sourcepos(this.pos,this.pos+1)))),!0},r.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],l0e(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var t=this.options,n=t.extendedAutolinks,i=t.customParser;if(n&&I0e(e.walker(),n),i&&e.firstChild)for(var a,o=e.firstChild.walker();a=o.next();){var l=a.node,c=a.entering;i[l.type]&&i[l.type](l,{entering:c,options:this.options})}},r}(),n1e=/^\[([ \txX])\][ \t]+/;function i1e(r,e){if(e.firstChild&&e.firstChild.type==="paragraph"){var t=e.firstChild,n=t.stringContent.match(n1e);if(n){var i=n[0].length;t.stringContent=t.stringContent.substring(i-1),t.sourcepos[0][1]+=i,t.lineOffsets[0]+=i,e.listData.task=!0,e.listData.checked=/[xX]/.test(n[1])}}}var a1e={continue:function(){return 0},finalize:function(){},canContain:function(r){return r==="tableHead"||r==="tableBody"},acceptsLines:!1},o1e={continue:function(){return 0},finalize:function(){},canContain:function(r){return r==="tableRow"},acceptsLines:!1},s1e={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableRow"||r==="tableDelimRow"},acceptsLines:!1},l1e={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableDelimCell"},acceptsLines:!1},u1e={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},c1e={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableCell"},acceptsLines:!1},f1e={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},_u=4,TT=9,kT=62,d1e=60,ET=32,ST=91,MT=/[^ \t\f\v\r\n]/,h1e=/^(?:`{3,}|~{3,})(?= *$)/;function iw(r){for(var e=r;e;){if(e.lastLineBlank)return!0;var t=e.type;if(!e.lastLineChecked&&(t==="list"||t==="item"))e.lastLineChecked=!0,e=e.lastChild;else{e.lastLineChecked=!0;break}}return!1}function ir(r,e){return e<r.length?r.charCodeAt(e):-1}function OT(r){return!MT.test(r)}function co(r){return r===ET||r===TT}var p1e=/^\$\$$/,v1e={continue:function(r,e){var t=r.currentLine,n=t.match(p1e);if(n)return r.lastLineLength=n[0].length,r.finalize(e,r.lineNumber),2;for(var i=e.offset;i>0&&co(ir(t,r.offset));)r.advanceOffset(1,!0),i--;return 0},finalize:function(r,e){if(e.stringContent!==null){var t=e.stringContent,n=t.indexOf(`
`),i=t.slice(0,n),a=t.slice(n+1),o=i.match(/^(\s*)(.*)/);e.info=ps(o[2].trim()),e.literal=a,e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},AT={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},m1e={continue:function(){return 0},finalize:function(){},canContain:function(r){return r!=="item"},acceptsLines:!1},g1e={continue:function(){return 0},finalize:function(r,e){for(var t=e.firstChild;t;){if(iw(t)&&t.next){e.listData.tight=!1;break}for(var n=t.firstChild;n;){if(iw(n)&&(t.next||n.next)){e.listData.tight=!1;break}n=n.next}t=t.next}},canContain:function(r){return r==="item"},acceptsLines:!1},y1e={continue:function(r){var e=r.currentLine;if(!r.indented&&ir(e,r.nextNonspace)===kT)r.advanceNextNonspace(),r.advanceOffset(1,!1),co(ir(e,r.offset))&&r.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(r){return r!=="item"},acceptsLines:!1},b1e={continue:function(r,e){if(r.blank){if(e.firstChild===null)return 1;r.advanceNextNonspace()}else if(r.indent>=e.listData.markerOffset+e.listData.padding)r.advanceOffset(e.listData.markerOffset+e.listData.padding,!0);else return 1;return 0},finalize:i1e,canContain:function(r){return r!=="item"},acceptsLines:!1},w1e={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},C1e={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},x1e={continue:function(r,e){var t=r.currentLine,n=r.indent;if(e.isFenced){var i=n<=3&&t.charAt(r.nextNonspace)===e.fenceChar&&t.slice(r.nextNonspace).match(h1e);if(i&&i[0].length>=e.fenceLength)return r.lastLineLength=r.offset+n+i[0].length,r.finalize(e,r.lineNumber),2;for(var a=e.fenceOffset;a>0&&co(ir(t,r.offset));)r.advanceOffset(1,!0),a--}else if(n>=_u)r.advanceOffset(_u,!0);else if(r.blank)r.advanceNextNonspace();else return 1;return 0},finalize:function(r,e){var t;if(e.stringContent!==null){if(e.isFenced){var n=e.stringContent,i=n.indexOf(`
`),a=n.slice(0,i),o=n.slice(i+1),l=a.match(/^(\s*)(.*)/);e.infoPadding=l[1].length,e.info=ps(l[2].trim()),e.literal=o}else e.literal=(t=e.stringContent)===null||t===void 0?void 0:t.replace(/(\n *)+$/,`
`);e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},T1e={continue:function(r,e){return r.blank&&(e.htmlBlockType===6||e.htmlBlockType===7)?1:0},finalize:function(r,e){var t;e.literal=((t=e.stringContent)===null||t===void 0?void 0:t.replace(/(\n *)+$/,""))||null,e.stringContent=null},canContain:function(){return!1},acceptsLines:!0},k1e={continue:function(r){return r.blank?1:0},finalize:function(r,e){if(e.stringContent!==null){for(var t,n=!1;ir(e.stringContent,0)===ST&&(t=r.inlineParser.parseReference(e,r.refMap));)e.stringContent=e.stringContent.slice(t),n=!0;n&&OT(e.stringContent)&&e.unlink()}},canContain:function(){return!1},acceptsLines:!0},E1e=AT,S1e=AT,Ra={document:m1e,list:g1e,blockQuote:y1e,item:b1e,heading:w1e,thematicBreak:C1e,codeBlock:x1e,htmlBlock:T1e,paragraph:k1e,table:a1e,tableBody:o1e,tableHead:s1e,tableRow:c1e,tableCell:f1e,tableDelimRow:l1e,tableDelimCell:u1e,refDef:E1e,customBlock:v1e,frontMatter:S1e};function Fh(r){for(var e=0,t=0,n=[],i=0;i<r.length;i+=1)if(r[i]==="|"&&r[i-1]!=="\\"){var a=r.substring(e,i);e===0&&Gb(a)?t=i+1:n.push(a),e=i+1}if(e<r.length){var a=r.substring(e,r.length);Gb(a)||n.push(a)}return[t,n]}function Hh(r,e,t,n){for(var i=[],a=0,o=e;a<o.length;a++){var l=o[a],c=l.match(/^[ \t]+/),f=c?c[0].length:0,h=void 0,p=void 0;if(f===l.length)f=0,h=0,p="";else{var v=l.match(/[ \t]+$/);h=v?v[0].length:0,p=l.slice(f,l.length-h)}var g=n+f,y=qe(r,[[t,n],[t,n+l.length-1]]);y.stringContent=p.replace(/\\\|/g,"|"),y.startIdx=i.length,y.endIdx=i.length,y.lineOffsets=[g-1],y.paddingLeft=f,y.paddingRight=h,i.push(y),n+=l.length+1}return i}function M1e(r){var e=null,t=r.stringContent,n=t[0],i=t[t.length-1];return i===":"?e=n===":"?"center":"right":n===":"&&(e="left"),{align:e}}var O1e=function(r,e){var t=e.stringContent;if(e.type==="paragraph"&&!r.indented&&!r.blank){var n=t.length-1,i=t.lastIndexOf(`
`,n-1)+1,a=t.slice(i,n),o=r.currentLine.slice(r.nextNonspace),l=Fh(a),c=l[0],f=l[1],h=Fh(o),p=h[0],v=h[1],g=/^[ \t]*:?-+:?[ \t]*$/;if(!f.length||!v.length||v.some(function($){return!g.test($)})||v.length===1&&o.indexOf("|")!==0)return 0;var y=e.lineOffsets,x=r.lineNumber-1,T=Au(y)+1,E=qe("table",[[x,T],[r.lineNumber,r.offset]]);if(E.columns=v.map(function(){return{align:null}}),e.insertAfter(E),y.length===1)e.unlink();else{e.stringContent=t.slice(0,i);var L=t.lastIndexOf(`
`,i-2)+1,N=i-L-1;r.lastLineLength=y[y.length-2]+N,r.finalize(e,x-1)}r.advanceOffset(r.currentLine.length-r.offset,!1);var B=qe("tableHead",[[x,T],[r.lineNumber,r.offset]]);E.appendChild(B);var _=qe("tableRow",[[x,T],[x,T+a.length-1]]),z=qe("tableDelimRow",[[r.lineNumber,r.nextNonspace+1],[r.lineNumber,r.offset]]);B.appendChild(_),B.appendChild(z),Hh("tableCell",f,x,T+c).forEach(function($){_.appendChild($)});var K=Hh("tableDelimCell",v,r.lineNumber,r.nextNonspace+1+p);return K.forEach(function($){z.appendChild($)}),E.columns=K.map(M1e),r.tip=E,2}return 0},A1e=function(r,e){if(e.type!=="table"&&e.type!=="tableBody"||!r.blank&&r.currentLine.indexOf("|")===-1)return 0;if(r.advanceOffset(r.currentLine.length-r.offset,!1),r.blank){var t=e;return e.type==="tableBody"&&(t=e.parent,r.finalize(e,r.lineNumber-1)),r.finalize(t,r.lineNumber-1),0}var n=e;e.type==="table"&&(n=r.addChild("tableBody",r.nextNonspace),n.stringContent=null);var i=qe("tableRow",[[r.lineNumber,r.nextNonspace+1],[r.lineNumber,r.currentLine.length]]);n.appendChild(i);var a=n.parent,o=r.currentLine.slice(r.nextNonspace),l=Fh(o),c=l[0],f=l[1];return Hh("tableCell",f,r.lineNumber,r.nextNonspace+1+c).forEach(function(h,p){p>=a.columns.length&&(h.ignored=!0),i.appendChild(h)}),2},_1e=/^(\$\$)(\s*[a-zA-Z])+/,L1e=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,D1e=function(r){var e;if(!r.indented&&!L1e.test(r.currentLine)&&(e=r.currentLine.match(_1e))){var t=e[1].length;r.closeUnmatchedBlocks();var n=r.addChild("customBlock",r.nextNonspace);return n.syntaxLength=t,n.offset=r.indent,r.advanceNextNonspace(),r.advanceOffset(t,!1),2}return 0},N1e=/^`{3,}(?!.*`)|^~{3,}/,I1e=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+CT+"|"+xT+")\\s*$","i")],R1e=/^(?:=+|-+)[ \t]*$/,P1e=/^#{1,6}(?:[ \t]+|$)/,B1e=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,_T=/^[*+-]/,LT=/^(\d{1,9})([.)])/;function F1e(r,e){var t=r.currentLine.slice(r.nextNonspace),n,i,a={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:r.indent,task:!1,checked:!1};if(r.indent>=4)return null;if(n=t.match(_T))a.type="bullet",a.bulletChar=n[0][0];else if((n=t.match(LT))&&(e.type!=="paragraph"||n[1]==="1"))a.type="ordered",a.start=parseInt(n[1],10),a.delimiter=n[2];else return null;if(i=ir(r.currentLine,r.nextNonspace+n[0].length),!(i===-1||i===TT||i===ET)||e.type==="paragraph"&&!r.currentLine.slice(r.nextNonspace+n[0].length).match(MT))return null;r.advanceNextNonspace(),r.advanceOffset(n[0].length,!0);var o=r.column,l=r.offset;do r.advanceOffset(1,!0),i=ir(r.currentLine,r.offset);while(r.column-o<5&&co(i));var c=ir(r.currentLine,r.offset)===-1,f=r.column-o;return f>=5||f<1||c?(a.padding=n[0].length+1,r.column=o,r.offset=l,co(ir(r.currentLine,r.offset))&&r.advanceOffset(1,!0)):a.padding=n[0].length+f,a}function H1e(r,e){return r.type===e.type&&r.delimiter===e.delimiter&&r.bulletChar===e.bulletChar}function DT(r,e){return r.options.disallowDeepHeading&&(e.type==="blockQuote"||e.type==="item")}var q1e=function(r){return!r.indented&&ir(r.currentLine,r.nextNonspace)===kT?(r.advanceNextNonspace(),r.advanceOffset(1,!1),co(ir(r.currentLine,r.offset))&&r.advanceOffset(1,!0),r.closeUnmatchedBlocks(),r.addChild("blockQuote",r.nextNonspace),1):0},$1e=function(r,e){var t;if(!r.indented&&!DT(r,e)&&(t=r.currentLine.slice(r.nextNonspace).match(P1e))){r.advanceNextNonspace(),r.advanceOffset(t[0].length,!1),r.closeUnmatchedBlocks();var n=r.addChild("heading",r.nextNonspace);return n.level=t[0].trim().length,n.headingType="atx",n.stringContent=r.currentLine.slice(r.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),r.advanceOffset(r.currentLine.length-r.offset),2}return 0},U1e=function(r){var e;if(!r.indented&&(e=r.currentLine.slice(r.nextNonspace).match(N1e))){var t=e[0].length;r.closeUnmatchedBlocks();var n=r.addChild("codeBlock",r.nextNonspace);return n.isFenced=!0,n.fenceLength=t,n.fenceChar=e[0][0],n.fenceOffset=r.indent,r.advanceNextNonspace(),r.advanceOffset(t,!1),2}return 0},z1e=function(r,e){if(!r.indented&&ir(r.currentLine,r.nextNonspace)===d1e){var t=r.currentLine.slice(r.nextNonspace),n=r.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var a=t.match(I1e[i]);if(a){if(i===7){if(e.type==="paragraph")return 0;if(n.length>0){var o=new RegExp("</?(?:"+n.join("|")+")","i");if(o.test(a[0]))return 0}}r.closeUnmatchedBlocks();var l=r.addChild("htmlBlock",r.offset);return l.htmlBlockType=i,2}}}return 0},V1e=function(r,e){var t;if(e.stringContent!==null&&!r.indented&&e.type==="paragraph"&&!DT(r,e.parent)&&(t=r.currentLine.slice(r.nextNonspace).match(R1e))){r.closeUnmatchedBlocks();for(var n=void 0;ir(e.stringContent,0)===ST&&(n=r.inlineParser.parseReference(e,r.refMap));)e.stringContent=e.stringContent.slice(n);if(e.stringContent.length>0){var i=qe("heading",e.sourcepos);return i.level=t[0][0]==="="?1:2,i.headingType="setext",i.stringContent=e.stringContent,e.insertAfter(i),e.unlink(),r.tip=i,r.advanceOffset(r.currentLine.length-r.offset,!1),2}return 0}return 0},W1e=function(r){return!r.indented&&B1e.test(r.currentLine.slice(r.nextNonspace))?(r.closeUnmatchedBlocks(),r.addChild("thematicBreak",r.nextNonspace),r.advanceOffset(r.currentLine.length-r.offset,!1),2):0},j1e=function(r,e){var t,n=e;return(!r.indented||e.type==="list")&&(t=F1e(r,n))?(r.closeUnmatchedBlocks(),(r.tip.type!=="list"||!H1e(n.listData,t))&&(n=r.addChild("list",r.nextNonspace),n.listData=t),n=r.addChild("item",r.nextNonspace),n.listData=t,1):0},G1e=function(r){return r.indented&&r.tip.type!=="paragraph"&&!r.blank?(r.advanceOffset(_u,!0),r.closeUnmatchedBlocks(),r.addChild("codeBlock",r.offset),2):0},Rd=[q1e,$1e,U1e,z1e,V1e,W1e,j1e,G1e,O1e,A1e,D1e],NT=/^(-{3}|\+{3}|;{3})$/,K1e=function(r,e){var t=r.currentLine,n=r.lineNumber,i=r.indented;if(n===1&&!i&&e.type==="document"&&NT.test(t)){r.closeUnmatchedBlocks();var a=r.addChild("frontMatter",r.nextNonspace);return a.stringContent=t,r.advanceNextNonspace(),r.advanceOffset(t.length,!1),2}return 0},J1e={continue:function(r,e){var t=r.currentLine,n=t.match(NT);return e.type==="frontMatter"&&n?(e.stringContent+=t,r.lastLineLength=n[0].length,r.finalize(e,r.lineNumber),2):0},finalize:function(r,e){e.stringContent!==null&&(e.literal=e.stringContent,e.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},X1e=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],Y1e=/^[#`~*+_=<>0-9-;$]/,Z1e=/\r\n|\n|\r/;function Pd(){return qe("document",[[1,1],[0,0]])}var Q1e={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},eCe=function(){function r(e){this.options=dt(dt({},Q1e),e),this.doc=Pd(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(Ra.frontMatter=J1e,Rd.unshift(K1e)),this.inlineParser=new r1e(this.options)}return r.prototype.advanceOffset=function(e,t){t===void 0&&(t=!1);for(var n=this.currentLine,i,a,o;e>0&&(o=n[this.offset]);)o==="	"?(i=4-this.column%4,t?(this.partiallyConsumedTab=i>e,a=i>e?e:i,this.column+=a,this.offset+=this.partiallyConsumedTab?0:1,e-=a):(this.partiallyConsumedTab=!1,this.column+=i,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},r.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},r.prototype.findNextNonspace=function(){for(var e=this.currentLine,t=this.offset,n=this.column,i;(i=e.charAt(t))!=="";)if(i===" ")t++,n++;else if(i==="	")t++,n+=4-n%4;else break;this.blank=i===`
`||i==="\r"||i==="",this.nextNonspace=t,this.nextNonspaceColumn=n,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=_u},r.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=Ih(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},r.prototype.addChild=function(e,t){for(;!Ra[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var n=t+1,i=qe(e,[[this.lineNumber,n],[0,0]]);return i.stringContent="",this.tip.appendChild(i),this.tip=i,i},r.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},r.prototype.finalize=function(e,t){var n=e.parent;e.open=!1,e.sourcepos[1]=[t,this.lastLineLength],Ra[e.type].finalize(this,e),this.tip=n},r.prototype.processInlines=function(e){var t,n=this.options.customParser,i=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;t=i.next();){var a=t.node,o=t.entering,l=a.type;n&&n[l]&&n[l](a,{entering:o,options:this.options}),!o&&(l==="paragraph"||l==="heading"||l==="tableCell"&&!a.ignored)&&this.inlineParser.parse(a)}},r.prototype.incorporateLine=function(e){var t=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,e.indexOf("\0")!==-1&&(e=e.replace(/\0/g,"\uFFFD")),this.currentLine=e;for(var n=!0,i;(i=t.lastChild)&&i.open;){switch(t=i,this.findNextNonspace(),Ra[t.type].continue(this,t)){case 0:break;case 1:n=!1;break;case 2:this.lastLineLength=e.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!n){t=t.parent;break}}this.allClosed=t===this.oldtip,this.lastMatchedContainer=t;for(var a=t.type!=="paragraph"&&Ra[t.type].acceptsLines,o=Rd.length;!a;){if(this.findNextNonspace(),t.type!=="table"&&t.type!=="tableBody"&&t.type!=="paragraph"&&!this.indented&&!Y1e.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var l=0;l<o;){var c=Rd[l](this,t);if(c===1){t=this.tip;break}else if(c===2){t=this.tip,a=!0;break}else l++}if(l===o){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&t.lastChild&&(t.lastChild.lastLineBlank=!0);for(var f=t.type,h=this.blank&&!(f==="blockQuote"||yT(t)&&t.isFenced||f==="item"&&!t.firstChild&&t.sourcepos[0][0]===this.lineNumber),p=t;p;)p.lastLineBlank=h,p=p.parent;Ra[f].acceptsLines?(this.addLine(),s0e(t)&&t.htmlBlockType>=1&&t.htmlBlockType<=5&&X1e[t.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(t,this.lineNumber))):this.offset<e.length&&!this.blank&&(t=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=e.length},r.prototype.parse=function(e,t){this.doc=Pd(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=e.split(Z1e),i=n.length;this.lines=t||n,this.options.referenceDefinition&&this.clearRefMaps(),e.charCodeAt(e.length-1)===Bh&&(i-=1);for(var a=0;a<i;a++)this.incorporateLine(n[a]);for(;this.tip;)this.finalize(this.tip,i);return this.processInlines(this.doc),this.doc},r.prototype.partialParseStart=function(e,t){this.doc=Pd(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=t.length,i=0;i<n;i++)this.incorporateLine(t[i]);return this.doc},r.prototype.partialParseExtends=function(e){for(var t=0;t<e.length;t++)this.incorporateLine(e[t])},r.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},r.prototype.setRefMaps=function(e,t,n){this.refMap=e,this.refLinkCandidateMap=t,this.refDefCandidateMap=n},r.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){P0e(e)})},r}();function aw(r,e){return r[0]<e[0]?1:r[0]>e[0]?-1:r[1]<e[1]?1:r[1]>e[1]?-1:0}function tCe(r,e){var t=r[0],n=r[1];return aw(n,e)===1?1:aw(t,e)===-1?-1:0}function rCe(r,e){if(!(r.parent!==e.parent||r===e)){for(var t=r.next;t&&t!==e;){for(var n=t.next,i=0,a=["parent","prev","next"];i<a.length;i++){var o=a[i];t[o]&&(Rh(t[o].id),t[o]=null)}t=n}r.next=e.next,e.next?e.next.prev=r:r.parent.lastChild=r}}function nCe(r){for(var e=[],t=r.firstChild;t;)e.push(t),t=t.next;return e}function ow(r,e){for(var t=0,n=e;t<n.length;t++){var i=n[t];r.insertBefore(i)}}function iCe(r,e){for(var t=e.length-1;t>=0;t-=1)r.prependChild(e[t])}function aCe(r,e){if(!(!r||!r.parent||e===0)){var t=r.parent.walker();t.resumeAt(r,!0);for(var n;n=t.next();){var i=n.node,a=n.entering;a&&(i.sourcepos[0][0]+=e,i.sourcepos[1][0]+=e)}}}function IT(r,e){var t=r[0],n=r[1];return n[0]<e?1:t[0]>e?-1:0}function $l(r,e){for(var t=r.firstChild;t;){var n=IT(t.sourcepos,e);if(n===0)return t;if(n===-1)return t.prev||t;t=t.next}return r.lastChild}function oCe(r){for(;r.lastChild;)r=r.lastChild;return r}function sCe(r){for(;r.parent&&r.parent.type!=="document"&&r.parent.sourcepos[0][0]===r.sourcepos[0][0];)r=r.parent;return r}function lCe(r,e){for(var t=r.firstChild,n=null;t;){var i=IT(t.sourcepos,e);if(i===0){if(t.sourcepos[0][0]===e||!t.firstChild)return t;n=t,t=t.firstChild}else{if(i===-1)break;n=t,t=t.next}}return n?sCe(oCe(n)):null}function uCe(r,e){for(var t=r,n=null;t;){var i=tCe(t.sourcepos,e);if(i===0)if(t.firstChild)n=t,t=t.firstChild;else return t;else{if(i===-1)return n;if(t.next)t=t.next;else return n}}return t}function RT(r){return Kwe(r)||null}function Bd(r,e,t){if(t===void 0&&(t=null),e)for(var n=e.walker();e&&e!==t;){r(e);var i=n.next();if(i)e=i.node;else break}}function cCe(r){var e=RT(r);if(!e)return!0;for(;e&&e.type!=="document";){if(!e.parent&&!e.prev&&!e.next)return!0;e=e.parent}return!1}var sw=/\r\n|\n|\r/;function fCe(r){var e=r.match(/^[ \t]+/);if(e&&(e[0].length>=2||/\t/.test(e[0])))return!0;var t=e?r.slice(e.length):r;return _T.test(t)||LT.test(t)}function dCe(r){return!OT(r)&&r.indexOf("|")!==-1}function qh(r){var e=r.id,t=r.title,n=r.sourcepos,i=r.dest;return{id:e,title:t,sourcepos:n,unlinked:!1,destination:i}}var PT=function(){function r(e,t){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(t!=null&&t.referenceDefinition),this.parser=new eCe(t),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(sw),this.root=this.parser.parse(e,this.lineTexts)}return r.prototype.updateLineTexts=function(e,t,n){var i,a=e[0],o=e[1],l=t[0],c=t[1],f=n.split(sw),h=f.length,p=this.lineTexts[a-1],v=this.lineTexts[l-1];f[0]=p.slice(0,o-1)+f[0],f[h-1]=f[h-1]+v.slice(c-1);var g=l-a+1;return(i=this.lineTexts).splice.apply(i,Dh([a-1,g],f)),h-g},r.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,t=e.length-1;e[t]==="";)t-=1;e.length-2>t&&(t+=1),this.root.sourcepos[1]=[t+1,e[t].length]},r.prototype.replaceRangeNodes=function(e,t,n){e?(ow(e,n),rCe(e,t),[e.id,t.id].forEach(function(i){return Rh(i)}),e.unlink()):t?(ow(t,n),Rh(t.id),t.unlink()):iCe(this.root,n)},r.prototype.getNodeRange=function(e,t){var n=$l(this.root,e[0]),i=$l(this.root,t[0]);return i&&i.next&&t[0]+1===i.next.sourcepos[0][0]&&(i=i.next),[n,i]},r.prototype.trigger=function(e,t){this.eventHandlerMap[e].forEach(function(n){n(t)})},r.prototype.extendEndLine=function(e){for(;this.lineTexts[e]==="";)e+=1;return e},r.prototype.parseRange=function(e,t,n,i){e&&e.prev&&(Kb(e.prev)&&fCe(this.lineTexts[n-1])||u0e(e.prev)&&dCe(this.lineTexts[n-1]))&&(e=e.prev,n=e.sourcepos[0][0]);for(var a=this.lineTexts.slice(n-1,i),o=this.parser.partialParseStart(n,a),l=t?t.next:this.root.firstChild,c=o.lastChild,f=c&&yT(c)&&c.open,h=c&&bT(c)&&c.open,p=c&&Kb(c);(f||h)&&l||p&&l&&(l.type==="list"||l.sourcepos[0][1]>=2);){var v=this.extendEndLine(l.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(i,v)),e||(e=t),t=l,i=v,l=l.next}this.parser.partialParseFinish();var g=nCe(o);return{newNodes:g,extStartNode:e,extEndNode:t}},r.prototype.getRemovedNodeRange=function(e,t){return!e||e&&Na(e)||t&&Na(t)?null:{id:[e.id,t.id],line:[e.sourcepos[0][0]-1,t.sourcepos[1][0]-1]}},r.prototype.markDeletedRefMap=function(e,t){var n=this;if(!Ia(this.refMap)){var i=function(a){if(Na(a)){var o=n.refMap[a.label];o&&a.id===o.id&&(o.unlinked=!0)}};e&&Bd(i,e.parent,t),t&&Bd(i,t)}},r.prototype.replaceWithNewRefDefState=function(e){var t=this;if(!Ia(this.refMap)){var n=function(i){if(Na(i)){var a=i.label,o=t.refMap[a];(!o||o.unlinked)&&(t.refMap[a]=qh(i))}};e.forEach(function(i){Bd(n,i)})}},r.prototype.replaceWithRefDefCandidate=function(){var e=this;Ia(this.refDefCandidateMap)||Fl(this.refDefCandidateMap,function(t,n){var i=n.label,a=n.sourcepos,o=e.refMap[i];(!o||o.unlinked||o.sourcepos[0][0]>a[0][0])&&(e.refMap[i]=qh(n))})},r.prototype.getRangeWithRefDef=function(e,t,n,i,a){if(this.referenceDefinition&&!Ia(this.refMap)){var o=$l(this.root,e-1),l=$l(this.root,t+1);o&&Na(o)&&o!==n&&o!==i&&(n=o,e=n.sourcepos[0][0]),l&&Na(l)&&l!==n&&l!==i&&(i=l,t=this.extendEndLine(i.sourcepos[1][0]+a))}return[n,i,e,t]},r.prototype.parse=function(e,t,n){n===void 0&&(n=0);var i=this.getNodeRange(e,t),a=i[0],o=i[1],l=a?Math.min(a.sourcepos[0][0],e[0]):e[0],c=this.extendEndLine((o?Math.max(o.sourcepos[1][0],t[0]):t[0])+n),f=this.parseRange.apply(this,this.getRangeWithRefDef(l,c,a,o,n)),h=f.newNodes,p=f.extStartNode,v=f.extEndNode,g=this.getRemovedNodeRange(p,v),y=v?v.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(p,v),this.replaceRangeNodes(p,v,h),this.replaceWithNewRefDefState(h)):this.replaceRangeNodes(p,v,h),{nodes:h,removedNodeRange:g,nextNode:y}},r.prototype.parseRefLink=function(){var e=this,t=[];return Ia(this.refMap)||Fl(this.refMap,function(n,i){i.unlinked&&delete e.refMap[n],Fl(e.refLinkCandidateMap,function(a,o){var l=o.node,c=o.refLabel;c===n&&t.push(e.parse(l.sourcepos[0],l.sourcepos[1]))})}),t},r.prototype.removeUnlinkedCandidate=function(){Ia(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){Fl(e,function(t){cCe(t)&&delete e[t]})})},r.prototype.editMarkdown=function(e,t,n){var i=this.updateLineTexts(e,t,n),a=this.parse(e,t,i),o=R0e(a,"nextNode");aCe(a.nextNode,i),this.updateRootNodeState();var l=[o];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),l=l.concat(this.parseRefLink())),this.trigger("change",l),l},r.prototype.getLineTexts=function(){return this.lineTexts},r.prototype.getRootNode=function(){return this.root},r.prototype.findNodeAtPosition=function(e){var t=uCe(this.root,e);return!t||t===this.root?null:t},r.prototype.findFirstNodeAtLine=function(e){return lCe(this.root,e)},r.prototype.on=function(e,t){this.eventHandlerMap[e].push(t)},r.prototype.off=function(e,t){var n=this.eventHandlerMap[e],i=n.indexOf(t);n.splice(i,1)},r.prototype.findNodeById=function(e){return RT(e)},r.prototype.removeAllNode=function(){Jwe()},r}(),hCe=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],lw=new RegExp("<(/?(?:"+hCe.join("|")+")[^>]*>)","ig");function uw(r){return lw.test(r)?r.replace(lw,function(e,t){return"&lt;"+t}):r}var cw={heading:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"h"+r.level,outerNewLine:!0}},text:function(r){return{type:"text",content:r.literal}},softbreak:function(r,e){var t=e.options;return{type:"html",content:t.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"em"}},strong:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"strong"}},paragraph:function(r,e){var t,n=e.entering,i=(t=r.parent)===null||t===void 0?void 0:t.parent;return i&&i.type==="list"&&i.listData.tight?null:{type:n?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(r,e){var t=e.entering,n=r.listData,i=n.type,a=n.start,o=i==="bullet"?"ul":"ol",l={};return o==="ol"&&a!==null&&a!==1&&(l.start=a.toString()),{type:t?"openTag":"closeTag",tagName:o,attributes:l,outerNewLine:!0}},item:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(r,e){var t=e.options,n=t.tagFilter?uw(r.literal):r.literal;return{type:"html",content:n}},htmlBlock:function(r,e){var t=e.options,n=t.tagFilter?uw(r.literal):r.literal;return t.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:n},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:n,outerNewLine:!0}},code:function(r){return[{type:"openTag",tagName:"code"},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(r){var e=r.info,t=e?e.split(/\s+/):[],n=[];return t.length>0&&t[0].length>0&&n.push("language-"+Fa(t[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:n},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(r,e){var t=e.entering;if(t){var n=r,i=n.title,a=n.destination;return{type:"openTag",tagName:"a",attributes:dt({href:Fa(a)},i&&{title:Fa(i)})}}return{type:"closeTag",tagName:"a"}},image:function(r,e){var t=e.getChildrenText,n=e.skipChildren,i=r,a=i.title,o=i.destination;return n(),{type:"openTag",tagName:"img",selfClose:!0,attributes:dt({src:Fa(o),alt:t(r)},a&&{title:Fa(a)})}},customBlock:function(r,e,t){var n=r.info.trim().toLowerCase(),i=t[n];if(i)try{return i(r,e)}catch(a){console.warn("[@toast-ui/editor] - The error occurred when "+n+" block node was parsed in markdown renderer: "+a)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:r.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(r){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:r.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(r,e,t){var n=r,i=n.info,a=n.firstChild,o=i.trim().toLowerCase(),l=t[o],c=e.entering;if(l)try{return l(r,e)}catch(f){console.warn("[@toast-ui/editor] - The error occurred when "+o+" inline node was parsed in markdown renderer: "+f)}return c?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+i+(a?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},fw={strike:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"del"}},item:function(r,e){var t=e.entering,n=r.listData,i=n.checked,a=n.task;if(t){var o={type:"openTag",tagName:"li",outerNewLine:!0};return a?[o,{type:"openTag",tagName:"input",selfClose:!0,attributes:dt(dt({},i&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:o}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(r,e){var t=e.entering;if(t)return{type:"openTag",tagName:"tr",outerNewLine:!0};var n=[];if(r.lastChild)for(var i=r.parent.parent.columns.length,a=r.lastChild.endIdx,o=a+1;o<i;o+=1)n.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return n.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),n},tableCell:function(r,e){var t=e.entering;if(r.ignored)return{type:"text",content:""};var n=r.parent.parent,i=n.type==="tableHead"?"th":"td",a=n.parent,o=a.columns[r.startIdx],l=o!=null&&o.align?{align:o.align}:null;return t?dt({type:"openTag",tagName:i,outerNewLine:!0},l&&{attributes:l}):{type:"closeTag",tagName:i,outerNewLine:!0}}},pCe={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function vCe(r){for(var e=[],t=r.walker(),n=null;n=t.next();){var i=n.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var cv=function(){function r(e){this.buffer=[],this.options=dt(dt({},pCe),e),this.convertors=this.createConvertors(),delete this.options.convertors}return r.prototype.createConvertors=function(){var e=dt({},cw);if(this.options.gfm&&(e=dt(dt({},e),fw)),this.options.convertors){var t=this.options.convertors,n=Object.keys(t),i=dt(dt({},cw),fw);n.forEach(function(a){var o=e[a],l=t[a],c=Object.keys(i).indexOf(a)===-1?a.toLowerCase():a;o?e[c]=function(f,h,p){return h.origin=function(){return o(f,h,p)},l(f,h)}:e[c]=l})}return e},r.prototype.getConvertors=function(){return this.convertors},r.prototype.getOptions=function(){return this.options},r.prototype.render=function(e){var t=this;this.buffer=[];for(var n=e.walker(),i=null,a=function(){var l=i.node,c=i.entering,f=o.convertors[l.type];if(!f)return"continue";var h=!1,p={entering:c,leaf:!uv(l),options:o.options,getChildrenText:vCe,skipChildren:function(){h=!0}},v=bT(l)||c0e(l)?f(l,p,o.convertors):f(l,p);if(v){var g=Array.isArray(v)?v:[v];g.forEach(function(y,x){y.type==="openTag"&&t.options.nodeId&&x===0&&(y.attributes||(y.attributes={}),y.attributes["data-nodeid"]=String(l.id)),t.renderHTMLNode(y)}),h&&(n.resumeAt(l,!1),n.next())}},o=this;i=n.next();)a();return this.addNewLine(),this.buffer.join("")},r.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e);break}},r.prototype.generateOpenTagString=function(e){var t=this,n=e.tagName,i=e.classNames,a=e.attributes;this.buffer.push("<"+n),i&&i.length>0&&this.buffer.push(' class="'+i.join(" ")+'"'),a&&Object.keys(a).forEach(function(o){var l=a[o];t.buffer.push(" "+o+'="'+l+'"')}),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},r.prototype.generateCloseTagString=function(e){var t=e.tagName;this.buffer.push("</"+t+">")},r.prototype.addNewLine=function(){this.buffer.length&&Au(Au(this.buffer))!==`
`&&this.buffer.push(`
`)},r.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},r.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},r.prototype.renderTextNode=function(e){this.buffer.push(Fa(e.content))},r.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},r.prototype.renderElementNode=function(e){e.type==="openTag"?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))},r}();/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */function mCe(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}var gCe=Object.hasOwnProperty,dw=Object.setPrototypeOf,yCe=Object.isFrozen,bCe=Object.getPrototypeOf,wCe=Object.getOwnPropertyDescriptor,Nt=Object.freeze,Rn=Object.seal,CCe=Object.create,BT=typeof Reflect<"u"&&Reflect,Lu=BT.apply,$h=BT.construct;Lu||(Lu=function(e,t,n){return e.apply(t,n)});Nt||(Nt=function(e){return e});Rn||(Rn=function(e){return e});$h||($h=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(mCe(t))))});var xCe=$r(Array.prototype.forEach),hw=$r(Array.prototype.pop),Ko=$r(Array.prototype.push),Zl=$r(String.prototype.toLowerCase),pw=$r(String.prototype.match),Qn=$r(String.prototype.replace),TCe=$r(String.prototype.indexOf),kCe=$r(String.prototype.trim),En=$r(RegExp.prototype.test),vw=ECe(TypeError);function $r(r){return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Lu(r,e,n)}}function ECe(r){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return $h(r,t)}}function ce(r,e){dw&&dw(r,null);for(var t=e.length;t--;){var n=e[t];if(typeof n=="string"){var i=Zl(n);i!==n&&(yCe(e)||(e[t]=i),n=i)}r[n]=!0}return r}function Hi(r){var e=CCe(null),t=void 0;for(t in r)Lu(gCe,r,[t])&&(e[t]=r[t]);return e}function Ul(r,e){for(;r!==null;){var t=wCe(r,e);if(t){if(t.get)return $r(t.get);if(typeof t.value=="function")return $r(t.value)}r=bCe(r)}function n(i){return console.warn("fallback value for",i),null}return n}var mw=Nt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Fd=Nt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Hd=Nt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),SCe=Nt(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),qd=Nt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),MCe=Nt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),gw=Nt(["#text"]),yw=Nt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),$d=Nt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),bw=Nt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),zl=Nt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),OCe=Rn(/\{\{[\s\S]*|[\s\S]*\}\}/gm),ACe=Rn(/<%[\s\S]*|[\s\S]*%>/gm),_Ce=Rn(/^data-[\-\w.\u00B7-\uFFFF]/),LCe=Rn(/^aria-[\-\w]+$/),DCe=Rn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),NCe=Rn(/^(?:\w+script|data):/i),ICe=Rn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};function Jr(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}var RCe=function(){return typeof window>"u"?null:window},PCe=function(e,t){if((typeof e>"u"?"undefined":is(e))!=="object"||typeof e.createPolicy!="function")return null;var n=null,i="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(i)&&(n=t.currentScript.getAttribute(i));var a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML:function(l){return l}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function FT(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:RCe(),e=function(A){return FT(A)};if(e.version="2.3.3",e.removed=[],!r||!r.document||r.document.nodeType!==9)return e.isSupported=!1,e;var t=r.document,n=r.document,i=r.DocumentFragment,a=r.HTMLTemplateElement,o=r.Node,l=r.Element,c=r.NodeFilter,f=r.NamedNodeMap,h=f===void 0?r.NamedNodeMap||r.MozNamedAttrMap:f,p=r.Text,v=r.Comment,g=r.DOMParser,y=r.trustedTypes,x=l.prototype,T=Ul(x,"cloneNode"),E=Ul(x,"nextSibling"),L=Ul(x,"childNodes"),N=Ul(x,"parentNode");if(typeof a=="function"){var B=n.createElement("template");B.content&&B.content.ownerDocument&&(n=B.content.ownerDocument)}var _=PCe(y,t),z=_&&xi?_.createHTML(""):"",K=n,$=K.implementation,le=K.createNodeIterator,we=K.createDocumentFragment,De=K.getElementsByTagName,Se=t.importNode,jt={};try{jt=Hi(n).documentMode?n.documentMode:{}}catch{}var Be={};e.isSupported=typeof N=="function"&&$&&typeof $.createHTMLDocument<"u"&&jt!==9;var wi=OCe,ln=ACe,un=_Ce,zr=LCe,xc=NCe,Ci=ICe,It=DCe,Ye=null,Ds=ce({},[].concat(Jr(mw),Jr(Fd),Jr(Hd),Jr(qd),Jr(gw))),Ze=null,cn=ce({},[].concat(Jr(yw),Jr($d),Jr(bw),Jr(zl))),Fn=null,wo=null,Hn=!0,fn=!0,Ns=!1,wr=!1,Cr=!1,da=!1,Tt=!1,ar=!1,ha=!1,or=!0,xi=!1,Is=!0,dn=!0,st=!1,sr={},xr=null,Rs=ce({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),qn=null,Ps=ce({},["audio","video","img","source","image","track"]),hn=null,pn=ce({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ti="http://www.w3.org/1998/Math/MathML",ki="http://www.w3.org/2000/svg",lr="http://www.w3.org/1999/xhtml",$n=lr,Ei=!1,Vr=void 0,Co=["application/xhtml+xml","text/html"],xo="text/html",Wr=void 0,Un=null,Tc=n.createElement("form"),To=function(A){Un&&Un===A||((!A||(typeof A>"u"?"undefined":is(A))!=="object")&&(A={}),A=Hi(A),Ye="ALLOWED_TAGS"in A?ce({},A.ALLOWED_TAGS):Ds,Ze="ALLOWED_ATTR"in A?ce({},A.ALLOWED_ATTR):cn,hn="ADD_URI_SAFE_ATTR"in A?ce(Hi(pn),A.ADD_URI_SAFE_ATTR):pn,qn="ADD_DATA_URI_TAGS"in A?ce(Hi(Ps),A.ADD_DATA_URI_TAGS):Ps,xr="FORBID_CONTENTS"in A?ce({},A.FORBID_CONTENTS):Rs,Fn="FORBID_TAGS"in A?ce({},A.FORBID_TAGS):{},wo="FORBID_ATTR"in A?ce({},A.FORBID_ATTR):{},sr="USE_PROFILES"in A?A.USE_PROFILES:!1,Hn=A.ALLOW_ARIA_ATTR!==!1,fn=A.ALLOW_DATA_ATTR!==!1,Ns=A.ALLOW_UNKNOWN_PROTOCOLS||!1,wr=A.SAFE_FOR_TEMPLATES||!1,Cr=A.WHOLE_DOCUMENT||!1,ar=A.RETURN_DOM||!1,ha=A.RETURN_DOM_FRAGMENT||!1,or=A.RETURN_DOM_IMPORT!==!1,xi=A.RETURN_TRUSTED_TYPE||!1,Tt=A.FORCE_BODY||!1,Is=A.SANITIZE_DOM!==!1,dn=A.KEEP_CONTENT!==!1,st=A.IN_PLACE||!1,It=A.ALLOWED_URI_REGEXP||It,$n=A.NAMESPACE||lr,Vr=Co.indexOf(A.PARSER_MEDIA_TYPE)===-1?Vr=xo:Vr=A.PARSER_MEDIA_TYPE,Wr=Vr==="application/xhtml+xml"?function(U){return U}:Zl,wr&&(fn=!1),ha&&(ar=!0),sr&&(Ye=ce({},[].concat(Jr(gw))),Ze=[],sr.html===!0&&(ce(Ye,mw),ce(Ze,yw)),sr.svg===!0&&(ce(Ye,Fd),ce(Ze,$d),ce(Ze,zl)),sr.svgFilters===!0&&(ce(Ye,Hd),ce(Ze,$d),ce(Ze,zl)),sr.mathMl===!0&&(ce(Ye,qd),ce(Ze,bw),ce(Ze,zl))),A.ADD_TAGS&&(Ye===Ds&&(Ye=Hi(Ye)),ce(Ye,A.ADD_TAGS)),A.ADD_ATTR&&(Ze===cn&&(Ze=Hi(Ze)),ce(Ze,A.ADD_ATTR)),A.ADD_URI_SAFE_ATTR&&ce(hn,A.ADD_URI_SAFE_ATTR),A.FORBID_CONTENTS&&(xr===Rs&&(xr=Hi(xr)),ce(xr,A.FORBID_CONTENTS)),dn&&(Ye["#text"]=!0),Cr&&ce(Ye,["html","head","body"]),Ye.table&&(ce(Ye,["tbody"]),delete Fn.tbody),Nt&&Nt(A),Un=A)},ko=ce({},["mi","mo","mn","ms","mtext"]),Eo=ce({},["foreignobject","desc","title","annotation-xml"]),pa=ce({},Fd);ce(pa,Hd),ce(pa,SCe);var So=ce({},qd);ce(So,MCe);var kc=function(A){var U=N(A);(!U||!U.tagName)&&(U={namespaceURI:lr,tagName:"template"});var X=Zl(A.tagName),Ce=Zl(U.tagName);if(A.namespaceURI===ki)return U.namespaceURI===lr?X==="svg":U.namespaceURI===Ti?X==="svg"&&(Ce==="annotation-xml"||ko[Ce]):Boolean(pa[X]);if(A.namespaceURI===Ti)return U.namespaceURI===lr?X==="math":U.namespaceURI===ki?X==="math"&&Eo[Ce]:Boolean(So[X]);if(A.namespaceURI===lr){if(U.namespaceURI===ki&&!Eo[Ce]||U.namespaceURI===Ti&&!ko[Ce])return!1;var ze=ce({},["title","style","font","a","script"]);return!So[X]&&(ze[X]||!pa[X])}return!1},Tr=function(A){Ko(e.removed,{element:A});try{A.parentNode.removeChild(A)}catch{try{A.outerHTML=z}catch{A.remove()}}},Mo=function(A,U){try{Ko(e.removed,{attribute:U.getAttributeNode(A),from:U})}catch{Ko(e.removed,{attribute:null,from:U})}if(U.removeAttribute(A),A==="is"&&!Ze[A])if(ar||ha)try{Tr(U)}catch{}else try{U.setAttribute(A,"")}catch{}},Bs=function(A){var U=void 0,X=void 0;if(Tt)A="<remove></remove>"+A;else{var Ce=pw(A,/^[\r\n\t ]+/);X=Ce&&Ce[0]}Vr==="application/xhtml+xml"&&(A='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+A+"</body></html>");var ze=_?_.createHTML(A):A;if($n===lr)try{U=new g().parseFromString(ze,Vr)}catch{}if(!U||!U.documentElement){U=$.createDocument($n,"template",null);try{U.documentElement.innerHTML=Ei?"":ze}catch{}}var Qe=U.body||U.documentElement;return A&&X&&Qe.insertBefore(n.createTextNode(X),Qe.childNodes[0]||null),$n===lr?De.call(U,Cr?"html":"body")[0]:Cr?U.documentElement:Qe},Fs=function(A){return le.call(A.ownerDocument||A,A,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Ec=function(A){return A instanceof p||A instanceof v?!1:typeof A.nodeName!="string"||typeof A.textContent!="string"||typeof A.removeChild!="function"||!(A.attributes instanceof h)||typeof A.removeAttribute!="function"||typeof A.setAttribute!="function"||typeof A.namespaceURI!="string"||typeof A.insertBefore!="function"},vn=function(A){return(typeof o>"u"?"undefined":is(o))==="object"?A instanceof o:A&&(typeof A>"u"?"undefined":is(A))==="object"&&typeof A.nodeType=="number"&&typeof A.nodeName=="string"},kr=function(A,U,X){!Be[A]||xCe(Be[A],function(Ce){Ce.call(e,U,X,Un)})},va=function(A){var U=void 0;if(kr("beforeSanitizeElements",A,null),Ec(A)||pw(A.nodeName,/[\u0080-\uFFFF]/))return Tr(A),!0;var X=Wr(A.nodeName);if(kr("uponSanitizeElement",A,{tagName:X,allowedTags:Ye}),!vn(A.firstElementChild)&&(!vn(A.content)||!vn(A.content.firstElementChild))&&En(/<[/\w]/g,A.innerHTML)&&En(/<[/\w]/g,A.textContent)||X==="select"&&En(/<template/i,A.innerHTML))return Tr(A),!0;if(!Ye[X]||Fn[X]){if(dn&&!xr[X]){var Ce=N(A)||A.parentNode,ze=L(A)||A.childNodes;if(ze&&Ce)for(var Qe=ze.length,et=Qe-1;et>=0;--et)Ce.insertBefore(T(ze[et],!0),E(A))}return Tr(A),!0}return A instanceof l&&!kc(A)||(X==="noscript"||X==="noembed")&&En(/<\/no(script|embed)/i,A.innerHTML)?(Tr(A),!0):(wr&&A.nodeType===3&&(U=A.textContent,U=Qn(U,wi," "),U=Qn(U,ln," "),A.textContent!==U&&(Ko(e.removed,{element:A.cloneNode()}),A.textContent=U)),kr("afterSanitizeElements",A,null),!1)},Hs=function(A,U,X){if(Is&&(U==="id"||U==="name")&&(X in n||X in Tc))return!1;if(!(fn&&!wo[U]&&En(un,U))){if(!(Hn&&En(zr,U))){if(!Ze[U]||wo[U])return!1;if(!hn[U]){if(!En(It,Qn(X,Ci,""))){if(!((U==="src"||U==="xlink:href"||U==="href")&&A!=="script"&&TCe(X,"data:")===0&&qn[A])){if(!(Ns&&!En(xc,Qn(X,Ci,"")))){if(X)return!1}}}}}}return!0},qs=function(A){var U=void 0,X=void 0,Ce=void 0,ze=void 0;kr("beforeSanitizeAttributes",A,null);var Qe=A.attributes;if(!!Qe){var et={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ze};for(ze=Qe.length;ze--;){U=Qe[ze];var Er=U,Si=Er.name,$s=Er.namespaceURI;if(X=kCe(U.value),Ce=Wr(Si),et.attrName=Ce,et.attrValue=X,et.keepAttr=!0,et.forceKeepAttr=void 0,kr("uponSanitizeAttribute",A,et),X=et.attrValue,!et.forceKeepAttr&&(Mo(Si,A),!!et.keepAttr)){if(En(/\/>/i,X)){Mo(Si,A);continue}wr&&(X=Qn(X,wi," "),X=Qn(X,ln," "));var Mc=Wr(A.nodeName);if(!!Hs(Mc,Ce,X))try{$s?A.setAttributeNS($s,Si,X):A.setAttribute(Si,X),hw(e.removed)}catch{}}}kr("afterSanitizeAttributes",A,null)}},Sc=function Z(A){var U=void 0,X=Fs(A);for(kr("beforeSanitizeShadowDOM",A,null);U=X.nextNode();)kr("uponSanitizeShadowNode",U,null),!va(U)&&(U.content instanceof i&&Z(U.content),qs(U));kr("afterSanitizeShadowDOM",A,null)};return e.sanitize=function(Z,A){var U=void 0,X=void 0,Ce=void 0,ze=void 0,Qe=void 0;if(Ei=!Z,Ei&&(Z="<!-->"),typeof Z!="string"&&!vn(Z)){if(typeof Z.toString!="function")throw vw("toString is not a function");if(Z=Z.toString(),typeof Z!="string")throw vw("dirty is not a string, aborting")}if(!e.isSupported){if(is(r.toStaticHTML)==="object"||typeof r.toStaticHTML=="function"){if(typeof Z=="string")return r.toStaticHTML(Z);if(vn(Z))return r.toStaticHTML(Z.outerHTML)}return Z}if(da||To(A),e.removed=[],typeof Z=="string"&&(st=!1),!st)if(Z instanceof o)U=Bs("<!---->"),X=U.ownerDocument.importNode(Z,!0),X.nodeType===1&&X.nodeName==="BODY"||X.nodeName==="HTML"?U=X:U.appendChild(X);else{if(!ar&&!wr&&!Cr&&Z.indexOf("<")===-1)return _&&xi?_.createHTML(Z):Z;if(U=Bs(Z),!U)return ar?null:z}U&&Tt&&Tr(U.firstChild);for(var et=Fs(st?Z:U);Ce=et.nextNode();)Ce.nodeType===3&&Ce===ze||va(Ce)||(Ce.content instanceof i&&Sc(Ce.content),qs(Ce),ze=Ce);if(ze=null,st)return Z;if(ar){if(ha)for(Qe=we.call(U.ownerDocument);U.firstChild;)Qe.appendChild(U.firstChild);else Qe=U;return or&&(Qe=Se.call(t,Qe,!0)),Qe}var Er=Cr?U.outerHTML:U.innerHTML;return wr&&(Er=Qn(Er,wi," "),Er=Qn(Er,ln," ")),_&&xi?_.createHTML(Er):Er},e.setConfig=function(Z){To(Z),da=!0},e.clearConfig=function(){Un=null,da=!1},e.isValidAttribute=function(Z,A,U){Un||To({});var X=Wr(Z),Ce=Wr(A);return Hs(X,Ce,U)},e.addHook=function(Z,A){typeof A=="function"&&(Be[Z]=Be[Z]||[],Ko(Be[Z],A))},e.removeHook=function(Z){Be[Z]&&hw(Be[Z])},e.removeHooks=function(Z){Be[Z]&&(Be[Z]=[])},e.removeAllHooks=function(){Be={}},e}var BCe=FT(),FCe=["iframe","embed"],HT=[];function qT(r){mt(FCe,r)&&HT.push(r.toLowerCase())}function ca(r,e){return BCe.sanitize(r,I({ADD_TAGS:HT,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},e))}function $T(r,e){return r.literal.replace(new RegExp("(<\\s*"+e+"[^>]*>)|(</"+e+"\\s*[>])","ig"),"").trim()}function Uh(r){r=r.match(so)[0];var e=r.match(new RegExp(Px,"g"));return e?e.reduce(function(t,n){var i=n.trim().split("="),a=i[0],o=i.slice(1);return o.length&&(t[a]=o.join("=").replace(/'|"/g,"").trim()),t},{}):{}}function zh(r){return sn(r.attributes).reduce(function(e,t){return e[t.nodeName]=t.nodeValue,e},{})}function ww(r,e,t,n){var i=n.getToDOMNode(e)(r),a=t(i.outerHTML),o=document.createElement("div");o.innerHTML=a,i=o.firstChild;var l=zh(i);return{dom:i,htmlAttrs:l}}var HCe={htmlBlock:function(r,e,t){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:r,getAttrs:function(n){return{htmlAttrs:zh(n),childrenHTML:n.innerHTML}}}],toDOM:function(n){var i=ww(n,r,e,t),a=i.dom,o=i.htmlAttrs;return o.class=o.class?o.class+" html-block":"html-block",zt([r,o],sn(a.childNodes))}}},htmlInline:function(r,e,t){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:r,getAttrs:function(n){return{htmlAttrs:zh(n)}}}],toDOM:function(n){var i=ww(n,r,e,t).htmlAttrs;return[r,i,0]}}}};function qCe(r,e,t){var n={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach(function(i){r[i]&&Object.keys(r[i]).forEach(function(a){var o=i==="htmlBlock"?"nodes":"marks";qT(a),n[o][a]=HCe[i](a,e,t)})}),n}var $Ce=/^\s*<\s*\//,UCe={paragraph:function(r,e){var t=e.entering,n=e.origin,i=e.options;return i.nodeId?{type:t?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:n()},softbreak:function(r){var e=r.prev&&r.prev.type==="htmlInline",t=e&&/<br ?\/?>/.test(r.prev.literal),n=t?`
`:`<br>
`;return{type:"html",content:n}},item:function(r,e){var t=e.entering;if(t){var n={},i=[];return r.listData.task&&(n["data-task"]="",i.push("task-list-item"),r.listData.checked&&(i.push("checked"),n["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:i,attributes:n,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(r){var e={"data-backticks":String(r.tickCount)};return[{type:"openTag",tagName:"code",attributes:e},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(r){var e=r,t=e.fenceLength,n=e.info,i=n?n.split(/\s+/):[],a=[],o={};if(t>3&&(o["data-backticks"]=t),i.length>0&&i[0].length>0){var l=i[0];a.push("lang-"+l),o["data-language"]=l}return[{type:"openTag",tagName:"pre",classNames:a},{type:"openTag",tagName:"code",attributes:o},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(r,e){var t=e.origin,n=e.entering,i=e.skipChildren,a=r.info;if(a.indexOf("widget")!==-1&&n){i();var o=Dx(r),l=Lx(a,o).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:l},{type:"closeTag",tagName:"span"}]}return t()}};function fv(r,e){var t=I({},UCe);return r&&(t.link=function(n,i){var a=i.entering,o=i.origin,l=o();return a&&(l.attributes=I(I({},l.attributes),r)),l}),e&&Object.keys(e).forEach(function(n){var i=t[n],a=e[n];i&&yr(a)?t[n]=function(o,l){var c=I({},l);return c.origin=function(){return i(o,l)},a(o,c)}:mt(["htmlBlock","htmlInline"],n)&&!yr(a)?t[n]=function(o,l){var c=o.literal.match(so);if(c){var f=c[0],h=c[1],p=c[3],v=(h||p).toLowerCase(),g=a[v],y=$T(o,v);if(g){var x=I({},o);return x.attrs=Uh(f),x.childrenHTML=y,x.type=v,l.entering=!$Ce.test(o.literal),g(x,l)}}return l.origin()}:t[n]=a}),t}var zCe=["list","item","blockQuote"],VCe=["UL","OL","BLOCKQUOTE"];function WCe(r,e){var t,n=r.child(e);return!n.childCount||n.childCount===1&&!(!((t=n.firstChild.text)===null||t===void 0)&&t.trim())}function Cw(r,e,t){var n=_s(e)-1,i=cc(e)-1,a=t[n].getBoundingClientRect(),o=t[i].offsetTop-t[n].offsetTop+t[i].clientHeight;return{height:o<=0?t[n].clientHeight:o+jCe(r,t,Math.min(i+1,r.childCount-1)),rect:a}}function jCe(r,e,t){for(var n=r.childCount-1,i=0;t<=n&&WCe(r,t);)i+=e[t].clientHeight,t+=1;return i}function GCe(r,e){for(;!r.getAttribute("data-nodeid")&&r.parentElement!==e;)r=r.parentElement;return r}function Du(r,e){for(var t=0;r&&r!==e&&(mt(VCe,r.tagName)||(t+=r.offsetTop),r.offsetParent!==e.offsetParent);)r=r.parentElement;return t}function KCe(r,e){for(var t=e,n=null;t;){var i=t.firstElementChild;if(!i)break;var a=UT(i,r,Du(t,e));n=t,t=a}var o=t||n;return o===e?null:o}function UT(r,e,t){return r&&e>t+r.offsetTop?UT(r.nextElementSibling,e,t)||r:null}function JCe(r,e,t,n){var i=Math.min((r-e)/t,1);return i*n}function Ud(r,e){for(var t=r.querySelector('[data-nodeid="'+e.id+'"]');!t||BF(e);)e=e.parent,t=r.querySelector('[data-nodeid="'+e.id+'"]');return XCe({mdNode:e,el:t})}function XCe(r){for(var e=r.mdNode,t=r.el;(mt(zCe,e.type)||e.type==="table")&&e.firstChild;)e=e.firstChild,t=t.firstElementChild;return{mdNode:e,el:t}}var Pr={};function YCe(r,e){Pr[r]=Pr[r]||{},Pr[r].height=e}function ZCe(r,e){Pr[r]=Pr[r]||{},Pr[r].offsetTop=e}function QCe(r){return Pr[r]&&Pr[r].height}function exe(r){return Pr[r]&&Pr[r].offsetTop}function Vh(r){r&&(delete Pr[Number(r.getAttribute("data-nodeid"))],sn(r.children).forEach(function(e){Vh(e)}))}function txe(r,e,t){var n=QCe(t),i=exe(t),a=n||r.clientHeight,o=i||Du(r,e)||r.offsetTop;return n||YCe(t,a),i||ZCe(t,o),{nodeHeight:a,offsetTop:o}}var zd=J("md-preview-highlight");function rxe(r,e){for(var t=r.firstChild;t&&t.next&&!(fc(t.next)>e+1);)t=t.next;return t}var zT=function(){function r(e,t){var n=document.createElement("div");this.el=n,this.eventEmitter=e,this.isViewer=!!t.isViewer,this.el.className=J("md-preview");var i=t.linkAttributes,a=t.customHTMLRenderer,o=t.sanitizer,l=t.highlight,c=l===void 0?!1:l;this.renderer=new cv({gfm:!0,nodeId:!0,convertors:fv(i,a)}),this.cursorNodeId=null,this.sanitizer=o,this.initEvent(c),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return r.prototype.initContentSection=function(){this.previewContent=$x('<div class="'+J("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},r.prototype.toggleActive=function(e){Xp(this.el,"active",e)},r.prototype.initEvent=function(e){var t=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(e&&(this.eventEmitter.listen("changeToolbarState",function(n){var i=n.mdNode,a=n.cursorPos;t.updateCursorNode(i,a)}),this.eventEmitter.listen("blur",function(){t.removeHighlight()})),iT(this.el,"scroll",function(n){t.eventEmitter.emit("scroll","preview",KCe(n.target.scrollTop,t.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return t.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return t.toggleActive(!1)}))},r.prototype.removeHighlight=function(){if(this.cursorNodeId){var e=this.getElementByNodeId(this.cursorNodeId);e&&Nr(e,zd)}},r.prototype.updateCursorNode=function(e,t){e&&(e=oo(e,function(o){return!qF(o)}),e.type==="tableRow"?e=rxe(e,t[1]):e.type==="tableBody"&&(e=null));var n=e?e.id:null;if(this.cursorNodeId!==n){var i=this.getElementByNodeId(this.cursorNodeId),a=this.getElementByNodeId(n);i&&Nr(i,zd),a&&rn(a,zd),this.cursorNodeId=n}},r.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},r.prototype.update=function(e){var t=this;e.forEach(function(n){return t.replaceRangeNodes(n)}),this.eventEmitter.emit("afterPreviewRender",this)},r.prototype.replaceRangeNodes=function(e){var t=this,n=e.nodes,i=e.removedNodeRange,a=this.previewContent,o=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map(function(y){return t.renderer.render(y)}).join("")));if(!i)a.insertAdjacentHTML("afterbegin",o);else{var l=i.id,c=l[0],f=l[1],h=this.getElementByNodeId(c),p=this.getElementByNodeId(f);if(h){h.insertAdjacentHTML("beforebegin",o);for(var v=h;v&&v!==p;){var g=v.nextElementSibling;sa(v),Vh(v),v=g}v!=null&&v.parentNode&&(sa(v),Vh(v))}}},r.prototype.getRenderer=function(){return this.renderer},r.prototype.destroy=function(){nT(this.el,"scroll"),this.el=null},r.prototype.getElement=function(){return this.el},r.prototype.getHTML=function(){return Qp(this.previewContent.innerHTML)},r.prototype.setHTML=function(e){this.previewContent.innerHTML=e},r.prototype.setHeight=function(e){on(this.el,{height:e+"px"})},r.prototype.setMinHeight=function(e){on(this.el,{minHeight:e+"px"})},r}();function _n(r,e){for(var t=r.depth;t;){var n=r.node(t);if(e(n,t))return{node:n,depth:t,offset:t>0?r.before(t):0};t-=1}return null}function fo(r){return!!_n(r,function(e){var t=e.type;return t.name==="listItem"||t.name==="bulletList"||t.name==="orderedList"})}function Nu(r){return!!_n(r,function(e){var t=e.type;return t.name==="tableHeadCell"||t.name==="tableBodyCell"})}function ho(r){return _n(r,function(e){var t=e.type;return t.name==="listItem"})}function wc(r){return{tag:r,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return I({},t&&{rawHTML:t})}}}function VT(r){return Object.keys(r).reduce(function(e,t){return t!=="rawHTML"&&r[t]&&(t=t==="className"?"class":t,e[t]=r[t]),e},{})}function WT(r){return{tag:r,getAttrs:function(e){return["rawHTML","colspan","rowspan","extended"].reduce(function(t,n){var i=n==="rawHTML"?"data-raw-html":n,a=e.getAttribute(i);return a&&(t[n]=mt(["rawHTML","extended"],n)?a:Number(a)),t},{})}}}function ot(){return{htmlAttrs:{default:null},classNames:{default:null}}}function Ue(r){var e=r.htmlAttrs,t=r.classNames;return I(I({},e),{class:t?t.join(" "):null})}function nxe(r,e){var t=r.parent,n=r.startIndex,i=r.endIndex,a=t.contentMatchAt(n).findWrapping(e);if(a){var o=a.length?a[0]:e;return t.canReplaceWith(n,i,o)?a:null}return null}function ixe(r,e){var t=r.parent,n=r.startIndex,i=r.endIndex,a=t.child(n),o=e.contentMatch.findWrapping(a.type);if(o){for(var l=o.length?o[o.length-1]:e,c=l.contentMatch,f=n;c&&f<i;f+=1)c=c.matchType(t.child(f).type);if(c&&c.validEnd)return o}return null}function axe(r,e,t,n){var i=nxe(r,t),a=ixe(e,t);if(i&&a){var o=i.map(function(c){return{type:c}}),l=a.map(function(c){return{type:c,attrs:n}});return o.concat({type:t}).concat(l)}return null}function oxe(r,e,t,n,i){for(var a=e.start,o=e.end,l=e.startIndex,c=e.endIndex,f=e.parent,h=q.empty,p=t.length-1;p>=0;p-=1)h=q.from(t[p].type.create(t[p].attrs,h));r.step(new at(a-(n?2:0),o,a,o,new W(h,0,0),t.length,!0));for(var v=0,p=0;p<t.length;p+=1)if(t[p].type===i){v=p+1;break}for(var g=t.length-v,y=a+t.length-(n?2:0),p=l,x=c;p<x;p+=1){var T=p===l;!T&&Wa(r.doc,y,g)&&(r.split(y,g),y+=g*2),y+=f.child(p).nodeSize}return r}function jT(r,e,t,n){var i=e.$from,a=e.$to,o=e.depth,l=e,c=!1;if(o>=2&&i.node(o-1).type.compatibleContent(t)&&e.startIndex===0&&i.index(o-1)){var f=r.doc.resolve(e.start-2);l=new uu(f,f,o),e.endIndex<e.parent.childCount&&(e=new uu(i,r.doc.resolve(a.end(o)),o)),c=!0}var h=axe(l,e,t,n);return h?oxe(r,e,h,c,t):r}function GT(r,e){for(var t=r.resolve(e);t.node().type.name!=="paragraph";)e-=2,t=r.resolve(e);return ho(t)}function sxe(r,e){var t=e.$from,n=e.$to,i=ho(t),a=ho(n);if(i&&a)for(;a;){var o=a.offset,l=a.node,c={task:!l.attrs.task,checked:!1};if(r.setNodeMarkup(o,null,c),o===i.offset)break;a=GT(r.doc,o)}return r}function lxe(r,e,t){var n=e.$from,i=e.$to,a=ho(n),o=ho(i);if(a&&o)for(;o;){var l=o.offset,c=o.node,f=o.depth;c.attrs.task&&r.setNodeMarkup(l,null,{task:!1,checked:!1});var h=r.doc.resolve(l);if(h.parent.type!==t){var p=h.before(f-1);r.setNodeMarkup(p,t)}if(l===a.offset)break;o=GT(r.doc,l)}return r}function KT(r){return function(e,t){var n=e.selection,i=e.tr,a=n.$from,o=n.$to,l=a.blockRange(o);if(l){var c=fo(a)?lxe(i,l,r):jT(i,l,r);return t(c),!0}return!1}}function uxe(){return function(r,e){var t=r.selection,n=r.tr,i=r.schema,a=t.$from,o=t.$to,l=a.blockRange(o);if(l){var c=fo(a)?sxe(n,l):jT(n,l,i.nodes.bulletList,{task:!0});return e(c),!0}return!1}}function cxe(r){return function(e,t){var n=e.tr,i=e.selection,a=i.$from,o=i.$to,l=a.blockRange(o,function(x){var T=x.childCount,E=x.firstChild;return!!T&&E.type===r});if(l&&l.startIndex>0){var c=l.parent,f=c.child(l.startIndex-1);if(f.type!==r)return!1;var h=f.lastChild&&f.lastChild.type===c.type,p=h?q.from(r.create()):null,v=new W(q.from(r.create(null,q.from(c.type.create(null,p)))),h?3:1,0),g=l.start,y=l.end;return n.step(new at(g-(h?3:1),y,g,y,v,1,!0)),t(n),!0}return!1}}function fxe(r,e,t){var n=e.$from,i=e.$to,a=e.end,o=e.depth,l=e.parent,c=i.end(o);return a<c&&(r.step(new at(a-1,c,a,c,new W(q.from(t.create(null,l.copy())),1,0),1,!0)),e=new uu(r.doc.resolve(n.pos),r.doc.resolve(c),o)),r.lift(e,rc(e)),r}function dxe(r,e){for(var t=e.parent,n=e.end,i=e.endIndex-1,a=e.startIndex;i>a;i-=1)n-=t.child(i).nodeSize,r.delete(n-1,n+1);var o=r.doc.resolve(e.start),l=o.nodeAfter,c=e.startIndex===0,f=e.endIndex===t.childCount,h=o.node(-1),p=o.index(-1),v=h.canReplace(p+(c?0:1),p+1,l==null?void 0:l.content.append(f?q.empty:q.from(t)));if(l&&v){var g=o.pos,y=g+l.nodeSize;r.step(new at(g-(c?1:0),y+(f?1:0),g+1,y-1,new W((c?q.empty:q.from(t.copy(q.empty))).append(f?q.empty:q.from(t.copy(q.empty))),c?0:1,f?0:1),c?0:1))}return r}function hxe(r){return function(e,t){var n=e.tr,i=e.selection,a=i.$from,o=i.$to,l=a.blockRange(o,function(h){var p=h.childCount,v=h.firstChild;return!!p&&v.type===r});if(l){var c=a.node(l.depth-1).type===r,f=c?fxe(n,l,r):dxe(n,l);return t(f),!0}return!1}}function pxe(r){return function(e,t){var n=e.tr,i=e.selection,a=i.$from,o=i.$to;if(a.depth<2||!a.sameParent(o))return!1;var l=a.node(-1);if(l.type!==r)return!1;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==r||a.index(-2)!==a.node(-2).childCount-1)return!1;for(var c=a.index(-1)>0,f=q.empty,h=a.depth-(c?1:2);h>=a.depth-3;h-=1)f=q.from(a.node(h).copy(f));return f=f.append(q.from(r.createAndFill())),n.replace(c?a.before():a.before(-1),a.after(-3),new W(f,c?3:2,2)),n.setSelection(he.near(n.doc.resolve(a.pos+(c?3:2)))),t(n),!0}var p=o.pos===a.end()?l.contentMatchAt(0).defaultType:null,v=p&&[null,{type:p}];return n.delete(a.pos,o.pos),Wa(n.doc,a.pos,2,v)?(n.split(a.pos,2,v),t(n),!0):!1}}function vxe(){return function(){return function(r,e){var t=r.selection,n=r.schema,i=t.$from,a=t.$to,o=i.blockRange(a);return o&&fo(i)?cxe(n.nodes.listItem)(r,e):!1}}}function mxe(){return function(){return function(r,e){var t=r.selection,n=r.schema,i=t.$from,a=t.$to,o=i.blockRange(a);return o&&fo(i)?hxe(n.nodes.listItem)(r,e):!1}}}function dv(){return{indent:vxe(),outdent:mxe()}}var xw=new Map,ft=function(){function r(e,t,n,i){this.table=e,this.tableRows=t,this.tableStartPos=n,this.rowInfo=i}return r.create=function(e){var t=_n(e,function(y){var x=y.type;return x.name==="table"});if(t){var n=t.node,i=t.depth,a=t.offset,o=xw.get(n);if((o==null?void 0:o.tableStartPos)===a+1)return o;var l=[],c=e.start(i),f=n.child(0),h=n.child(1),p=Wh(f,c),v=Wh(h,c+f.nodeSize);f.forEach(function(y){return l.push(y)}),h.forEach(function(y){return l.push(y)});var g=new r(n,l,c,p.concat(v));return xw.set(n,g),g}return null},Object.defineProperty(r.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),r.prototype.getCellInfo=function(e,t){return this.rowInfo[e][t]},r.prototype.posAt=function(e,t){for(var n=0,i=this.tableStartPos;;n+=1){var a=i+this.tableRows[n].nodeSize;if(n===e){for(var o=t;o<this.totalColumnCount&&this.rowInfo[n][o].offset<i;)o+=1;return o===this.totalColumnCount?a:this.rowInfo[n][o].offset}i=a}},r.prototype.getNodeAndPos=function(e,t){var n=this.rowInfo[e][t];return{node:this.table.nodeAt(n.offset-this.tableStartOffset),pos:n.offset}},r.prototype.extendedRowspan=function(e,t){return!1},r.prototype.extendedColspan=function(e,t){return!1},r.prototype.getRowspanCount=function(e,t){return 0},r.prototype.getColspanCount=function(e,t){return 0},r.prototype.decreaseColspanCount=function(e,t){return 0},r.prototype.decreaseRowspanCount=function(e,t){return 0},r.prototype.getColspanStartInfo=function(e,t){return null},r.prototype.getRowspanStartInfo=function(e,t){return null},r.prototype.getCellStartOffset=function(e,t){var n=this.rowInfo[e][t].offset;return this.extendedRowspan(e,t)?this.posAt(e,t):n},r.prototype.getCellEndOffset=function(e,t){var n=this.rowInfo[e][t],i=n.offset,a=n.nodeSize;return this.extendedRowspan(e,t)?this.posAt(e,t):i+a},r.prototype.getCellIndex=function(e){for(var t=0;t<this.totalRowCount;t+=1)for(var n=this.rowInfo[t],i=0;i<this.totalColumnCount;i+=1)if(n[i].offset+1>e.pos)return[t,i];return[0,0]},r.prototype.getRectOffsets=function(e,t){var n,i,a;t===void 0&&(t=e),e.pos>t.pos&&(n=[t,e],e=n[0],t=n[1]);var o=this.getCellIndex(e),l=o[0],c=o[1],f=this.getCellIndex(t),h=f[0],p=f[1];return i=xb(l,h),l=i[0],h=i[1],a=xb(c,p),c=a[0],p=a[1],this.getSpannedOffsets({startRowIdx:l,startColIdx:c,endRowIdx:h,endColIdx:p})},r.prototype.getSpannedOffsets=function(e){return e},r}(),Wh=function(r,e){var t=[];return r.forEach(function(n,i){var a={rowspanMap:{},colspanMap:{},length:0};n.forEach(function(o,l){for(var c=o.nodeSize,f=0;a[f];)f+=1;a[f]={offset:e+i+l+2,nodeSize:c},a.length+=1}),t.push(a)}),t};function gxe(r,e){return jp(ft.prototype,r),Wh=e,ft}function yxe(r,e,t){for(var n=t.startRowIdx,i=t.startColIdx,a=t.endRowIdx,o=t.endColIdx,l=[],c=n;c<=a;c+=1)for(var f=i;f<=o;f+=1){var h=e.getCellInfo(c,f),p=h.offset,v=h.nodeSize;l.push(new NC(r.resolve(p+1),r.resolve(p+v-1)))}return l}function bxe(r,e){var t=[];return r.childCount&&t.push(r),e.childCount&&t.push(e),q.from(t)}var hv=function(r){G(e,r);function e(t,n){n===void 0&&(n=t);var i=this,a=t.node(0),o=ft.create(t),l=o.getRectOffsets(t,n),c=yxe(a,o,l);return i=r.call(this,c[0].$from,c[0].$to,c)||this,i.startCell=t,i.endCell=n,i.offsetMap=o,i.isCellSelection=!0,i.visible=!1,i}return e.prototype.map=function(t,n){var i=this.startCell.pos,a=this.endCell.pos,o=t.resolve(n.map(i)),l=t.resolve(n.map(a)),c=ft.create(o);if(this.offsetMap.totalColumnCount>c.totalColumnCount||this.offsetMap.totalRowCount>c.totalRowCount){var f={tableBody:1,tableRow:2,tableCell:3,paragraph:4},h=f[l.parent.type.name],p=l.end(l.depth-h),v=Math.min(p-4,l.pos);return ye.create(t,v)}return new e(o,l)},e.prototype.eq=function(t){return t instanceof e&&t.startCell.pos===this.startCell.pos&&t.endCell.pos===this.endCell.pos},e.prototype.content=function(){for(var t=this.startCell.node(-2),n=this.startCell.start(-2),i=t.child(1).firstChild,a=t.child(0).type.create(),o=t.child(1).type.create(),l=ft.create(this.startCell),c=l.getRectOffsets(this.startCell,this.endCell),f=c.startRowIdx,h=c.startColIdx,p=c.endRowIdx,v=c.endColIdx,g=!1,y=f;y<=p;y+=1){for(var x=[],T=h;T<=v;T+=1){var E=l.getCellInfo(y,T).offset,L=t.nodeAt(E-n);L&&(g=L.type.name==="tableHeadCell",l.extendedRowspan(y,T)||l.extendedColspan(y,T)?x.push(L.type.create({extended:!0})):x.push(L.copy(L.content)))}var N=i.copy(q.from(x)),B=g?a:o;B.content=B.content.append(q.from(N))}return new W(bxe(a,o),1,1)},e.prototype.toJSON=function(){return JSON.stringify(this)},e}(he);function wxe(r,e,t){for(var n=e.nodes,i=n.tableRow,a=n.tableHeadCell,o=n.paragraph,l=[],c=0;c<r;c+=1){var f=t&&t[c],h=o.create(null,f?e.text(f):[]);l.push(a.create(null,h))}return[i.create(null,l)]}function JT(r,e,t,n){for(var i=t.nodes,a=i.tableRow,o=i.tableBodyCell,l=i.paragraph,c=[],f=0;f<r;f+=1){for(var h=[],p=0;p<e;p+=1){var v=n&&n[f*e+p],g=l.create(null,v?t.text(v):[]);h.push(o.create(null,g))}c.push(a.create(null,h))}return c}function Ql(r,e,t,n){n===void 0&&(n=null);for(var i=t.nodes,a=i.tableHeadCell,o=i.tableBodyCell,l=i.paragraph,c=e===0?a:o,f=[],h=0;h<r;h+=1)f.push(c.create(n,l.create()));return f}function XT(r,e){for(;r&&r!==e;){if(r.nodeName==="TD"||r.nodeName==="TH")return r;r=r.parentNode}return null}function YT(r){return _n(r,function(e){var t=e.type;return t.name==="tableHeadCell"||t.name==="tableBodyCell"})}function Xr(r){if(r instanceof ye){var e=r.$anchor,t=YT(e);if(t){var n=e.node(0).resolve(e.before(t.depth));return{anchor:n,head:n}}}var i=r,a=i.startCell,o=i.endCell;return{anchor:a,head:o}}function ZT(r){var e;if(r.size){var t=r.content,n=r.openStart,i=r.openEnd;if(t.childCount!==1)return null;for(;t.childCount===1&&(n>0&&i>0||((e=t.firstChild)===null||e===void 0?void 0:e.type.name)==="table");)n-=1,i-=1,t=t.firstChild.content;if(t.firstChild.type.name==="tableHead"||t.firstChild.type.name==="tableBody")return t}return null}function Ua(r){var e=r.startRowIdx,t=r.startColIdx,n=r.endRowIdx,i=r.endColIdx,a=n-e+1,o=i-t+1;return{rowCount:a,columnCount:o}}function Cxe(r,e){return I(I({},r.attrs),e)}var ii=new Ms("cellSelection"),xxe=2,Txe=function(){function r(e){this.view=e,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return r.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},r.prototype.handleMousedown=function(e){var t=XT(e.target,this.view.dom);if(e.button===xxe){e.preventDefault();return}if(t){var n=this.getCellPos(e);n&&(this.startCellPos=n),this.bindEvent()}},r.prototype.handleMousemove=function(e){var t=ii.getState(this.view.state),n=this.getCellPos(e),i=this.startCellPos,a;t?a=this.view.state.doc.resolve(t):i!==n&&(a=i),a&&i&&n&&this.setCellSelection(i,n)},r.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),ii.getState(this.view.state)!==null&&this.view.dispatch(this.view.state.tr.setMeta(ii,-1))},r.prototype.bindEvent=function(){var e=this.view.dom;e.addEventListener("mousemove",this.handlers.mousemove),e.addEventListener("mouseup",this.handlers.mouseup)},r.prototype.unbindEvent=function(){var e=this.view.dom;e.removeEventListener("mousemove",this.handlers.mousemove),e.removeEventListener("mouseup",this.handlers.mouseup)},r.prototype.getCellPos=function(e){var t=e.clientX,n=e.clientY,i=this.view.posAtCoords({left:t,top:n});if(i){var a=this.view.state.doc,o=a.resolve(i.pos),l=YT(o);if(l){var c=o.before(l.depth);return a.resolve(c)}}return null},r.prototype.setCellSelection=function(e,t){var n=this.view.state,i=n.selection,a=n.tr,o=ii.getState(this.view.state)===null,l=new hv(e,t);if(o||!i.eq(l)){var c=a.setSelection(l);o&&c.setMeta(ii,t.pos),this.view.dispatch(c)}},r.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},r}(),kxe=J("cell-selected");function Exe(r){var e=r.selection,t=r.doc;if(e instanceof hv){var n=[],i=e.ranges;return i.forEach(function(a){var o=a.$from,l=a.$to;n.push(qt.node(o.pos-1,l.pos+1,{class:kxe}))}),Ge.create(t,n)}return null}function Sxe(){return new Wt({key:ii,state:{init:function(){return null},apply:function(r,e){var t=r.getMeta(ii);if(t)return t===-1?null:t;if(bu(e)||!r.docChanged)return e;var n=r.mapping.mapResult(e),i=n.deleted,a=n.pos;return i?null:a}},props:{decorations:Exe,createSelectionBetween:function(r){var e=r.state;return bu(ii.getState(e))?null:e.selection}},view:function(r){return new Txe(r)}})}var QT=function(){function r(){this.keys=[],this.values=[]}return r.prototype.getKeyIndex=function(e){return aa(e,this.keys)},r.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},r.prototype.set=function(e,t){var n=this.getKeyIndex(e);return n>-1?this.values[n]=t:(this.keys.push(e),this.values.push(t)),this},r.prototype.has=function(e){return this.getKeyIndex(e)>-1},r.prototype.delete=function(e){var t=this.getKeyIndex(e);return t>-1?(this.keys.splice(t,1),this.values.splice(t,1),!0):!1},r.prototype.forEach=function(e,t){var n=this;t===void 0&&(t=this),this.values.forEach(function(i,a){i&&n.keys[a]&&e.call(t,i,n.keys[a],n)})},r.prototype.clear=function(){this.keys=[],this.values=[]},r}(),Vd="en-US",Mxe=function(){function r(){this.code=Vd,this.langs=new QT}return r.prototype.setCode=function(e){this.code=e||Vd},r.prototype.setLanguage=function(e,t){var n=this;e=[].concat(e),e.forEach(function(i){if(!n.langs.has(i))n.langs.set(i,t);else{var a=n.langs.get(i);n.langs.set(i,qp(a,t))}})},r.prototype.get=function(e,t){t||(t=this.code);var n=this.langs.get(t);n||(n=this.langs.get(Vd));var i=n[e];if(!i)throw new Error('There is no text key "'+e+'" in '+t);return i},r}(),ae=new Mxe,Oxe=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function Axe(r,e){return Oxe.map(function(t){return t.map(function(n){var i=n.action,a=n.command,o=n.payload,l=n.disableInThead,c=n.className;return{label:ae.get(i),onClick:function(){r.emit("command",a,o)},disabled:e&&!!l,className:c}})}).concat()}function _xe(r){return new Wt({props:{handleDOMEvents:{contextmenu:function(e,t){var n=XT(t.target,e.dom);if(n){t.preventDefault();var i=t,a=i.clientX,o=i.clientY,l=e.dom.parentNode.getBoundingClientRect(),c=l.left,f=l.top,h=n.nodeName==="TH";return r.emit("contextmenu",{pos:{left:a-c+10+"px",top:o-f+30+"px"},menuGroups:Axe(r,h),tableCell:n}),!0}return!1}}}})}function Lxe(){return new Wt({props:{handleDOMEvents:{mousedown:function(r,e){var t=e,n=t.clientX,i=t.clientY,a=r.posAtCoords({left:n,top:i});if(a){var o=r.state,l=o.doc,c=o.tr,f=l.resolve(a.pos),h=ho(f),p=e.target,v=getComputedStyle(p,":before"),g=e,y=g.offsetX,x=g.offsetY;if(!h||!Jp(v,y,x))return!1;e.preventDefault();var T=f.before(h.depth),E=h.node.attrs;return c.setNodeMarkup(T,null,I(I({},E),{checked:!E.checked})),r.dispatch(c),!0}return!1}}}})}var Dxe=["image","link","customBlock","frontMatter"],Nxe=["strong","strike","emph","code"],ek=["bulletList","orderedList","taskList"];function Ixe(r,e){var t=r.type.name;return t==="listItem"?r.attrs.task?"taskList":e.type.name:t.indexOf("table")!==-1?"table":t}function Rxe(r,e){e[r]={active:!0},ek.filter(function(t){return t!==r}).forEach(function(t){e[t]&&delete e[t]})}function Pxe(r,e,t,n){Nxe.forEach(function(i){var a=t.marks[i],o=r.marksAcross(e)||[],l=!!a.isInSet(o);l&&(n[i]={active:!0})})}function Bxe(r,e,t){var n=r.$from,i=r.$to,a=r.from,o=r.to,l={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}};return e.nodesBetween(a,o,function(c,f,h){var p=Ixe(c,h);mt(Dxe,p)||(mt(ek,p)?(Rxe(p,l),l.indent.disabled=!1,l.outdent.disabled=!1):p==="paragraph"||p==="text"?Pxe(n,i,t,l):l[p]={active:!0})}),l}function Fxe(r){return new Wt({view:function(){return{update:function(e){var t=e.state,n=t.selection,i=t.doc,a=t.schema;r.emit("changeToolbarState",{toolbarState:Bxe(n,i,a)})}}}})}var Hxe=function(){function r(e,t,n,i){var a=this;this.openEditor=function(){if(a.innerEditorView)throw new Error("The editor is already opened.");a.dom.draggable=!1,a.wrapper.style.display="none",a.innerViewContainer.style.display="block",a.innerEditorView=new Ip(a.innerViewContainer,{state:zi.create({doc:a.node,plugins:[ws({"Mod-z":function(){return hs(a.innerEditorView.state,a.innerEditorView.dispatch)},"Shift-Mod-z":function(){return Hp(a.innerEditorView.state,a.innerEditorView.dispatch)},Tab:function(o,l){return l(o.tr.insertText("	")),!0},Enter:mx,Escape:function(){return a.cancelEditing(),!0},"Ctrl-Enter":function(){return a.saveAndFinishEditing(),!0}}),Ex()]}),dispatchTransaction:function(o){return a.dispatchInner(o)},handleDOMEvents:{mousedown:function(){return a.editorView.hasFocus()&&a.innerEditorView.focus(),!0},blur:function(){return a.saveAndFinishEditing(),!0}}}),a.innerEditorView.focus()},this.node=e,this.editorView=t,this.getPos=n,this.toDOMAdaptor=i,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=J("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=J("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return r.prototype.renderToolArea=function(){var e=this,t=document.createElement("div"),n=document.createElement("span"),i=document.createElement("button");t.className="tool",n.textContent=this.node.attrs.info,n.className="info",i.type="button",i.addEventListener("click",function(){return e.openEditor()}),t.appendChild(n),t.appendChild(i),this.wrapper.appendChild(t)},r.prototype.renderCustomBlock=function(){var e=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(e){for(var t=e(this.node);this.wrapper.hasChildNodes();)this.wrapper.removeChild(this.wrapper.lastChild);t&&this.wrapper.appendChild(t),this.renderToolArea()}},r.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=J("custom-block-editor"),this.innerViewContainer.style.display="none"},r.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},r.prototype.saveAndFinishEditing=function(){var e=this.editorView.state.selection.to,t=this.editorView.state;this.editorView.dispatch(t.tr.setSelection(Ie(t.tr,e))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},r.prototype.cancelEditing=function(){var e=NB(this.innerEditorView.state);for(this.canceled=!0;e--;)hs(this.innerEditorView.state,this.innerEditorView.dispatch),hs(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var t=this.editorView.state.selection.to,n=this.editorView.state;this.editorView.dispatch(n.tr.setSelection(ye.create(n.doc,t))),this.editorView.focus(),this.closeEditor()},r.prototype.dispatchInner=function(e){var t=this.innerEditorView.state.applyTransaction(e),n=t.state,i=t.transactions;if(this.innerEditorView.updateState(n),!this.canceled&&yr(this.getPos)){for(var a=this.editorView.state.tr,o=tr.offset(this.getPos()+1),l=0;l<i.length;l+=1)for(var c=i[l].steps,f=0;f<c.length;f+=1)a.step(c[f].map(o));a.docChanged&&this.editorView.dispatch(a)}},r.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,this.innerEditorView||this.renderCustomBlock(),!0):!1},r.prototype.stopEvent=function(e){return!!this.innerEditorView&&!!e.target&&this.innerEditorView.dom.contains(e.target)},r.prototype.ignoreMutation=function(){return!0},r.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},r}(),Tw="image-link",qxe=function(){function r(e,t,n,i){var a=this,o;this.handleMousedown=function(l){l.preventDefault();var c=l.target,f=l.offsetX,h=l.offsetY;if(a.imageLink&&yr(a.getPos)&&Ix(c,Tw)){var p=getComputedStyle(c,":before");if(l.stopPropagation(),Jp(p,f,h)){var v=a.view.state.tr,g=a.getPos();v.setSelection(Ie(v,g,g+1)),a.view.dispatch(v),a.eventEmitter.emit("openPopup","link",a.imageLink.attrs)}}},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=i,this.imageLink=(o=e.marks.filter(function(l){var c=l.type;return c.name==="link"})[0])!==null&&o!==void 0?o:null,this.dom=this.createElement(),this.bindEvent()}return r.prototype.createElement=function(){var e=this.createImageElement(this.node);if(this.imageLink){var t=document.createElement("span");return t.className=Tw,t.appendChild(e),t}return e},r.prototype.createImageElement=function(e){var t=document.createElement("img"),n=e.attrs,i=n.imageUrl,a=n.altText,o=Ue(e.attrs);return t.src=i,a&&(t.alt=a),Zp(o,t),t},r.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},r.prototype.stopEvent=function(){return!0},r.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},r}(),$xe="toastui-editor-ww-code-block",Uxe="toastui-editor-ww-code-block-language",zxe=function(){function r(e,t,n,i){var a=this;this.contentDOM=null,this.input=null,this.timer=null,this.handleMousedown=function(o){var l=o.target,c=getComputedStyle(l,":after");if(c.backgroundImage!=="none"&&yr(a.getPos)){var f=a.view.coordsAtPos(a.getPos()),h=f.top,p=f.right;a.createLanguageEditor({top:h,right:p})}},this.handleKeydown=function(o){o.key==="Enter"&&a.input&&(o.preventDefault(),a.changeLanguage())},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=i,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return r.prototype.createElement=function(){var e=this.node.attrs.language,t=document.createElement("div");t.setAttribute("data-language",e||"text"),t.className=$xe;var n=this.createCodeBlockElement(),i=n.firstChild;t.appendChild(n),this.dom=t,this.contentDOM=i},r.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),t=document.createElement("code"),n=this.node.attrs.language,i=Ue(this.node.attrs);return n&&t.setAttribute("data-language",n),Zp(i,e),e.appendChild(t),e},r.prototype.createLanguageEditor=function(e){var t=this,n=e.top,i=e.right,a=document.createElement("span");a.className=Uxe;var o=document.createElement("input");o.type="text",o.value=this.node.attrs.language,a.appendChild(o),this.view.dom.parentElement.appendChild(a);var l=a.clientWidth;on(a,{top:n+10+"px",left:i-l-10+"px",width:l+"px"}),this.input=o,this.input.addEventListener("blur",function(){return t.changeLanguage()}),this.input.addEventListener("keydown",this.handleKeydown),this.clearTimer(),this.timer=setTimeout(function(){t.input.focus()})},r.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},r.prototype.bindEvent=function(){var e=this;this.eventEmitter.listen("scroll",function(){e.input&&e.reset()})},r.prototype.changeLanguage=function(){if(this.input&&yr(this.getPos)){var e=this.input.value;this.reset();var t=this.getPos(),n=this.view.state.tr;n.setNodeMarkup(t,null,{language:e}),this.view.dispatch(n)}},r.prototype.reset=function(){var e;if(!((e=this.input)===null||e===void 0)&&e.parentElement){var t=this.input.parentElement;this.input=null,sa(t)}},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.stopEvent=function(){return!0},r.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,!0):!1},r.prototype.destroy=function(){this.reset(),this.clearTimer(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},r}(),Vxe=/MsoListParagraph/,tk=/style=(.|\n)*mso-/,rk=/mso-list:(.*)/,Wxe=/O:P/,jxe=/^(n|u|l)/,Gxe="p.MsoListParagraph";function Kxe(r){return tk.test(r)}function Jxe(r){for(var e=[],t=document.createTreeWalker(r,1,null,!1);t.nextNode();){var n=t.currentNode;if(hc(n)){var i=n,a=i.outerHTML,o=i.textContent,l=tk.test(a),c=rk.test(a);l&&!c&&o?e.push([n,!0]):(Wxe.test(n.nodeName)||l&&!o||c)&&e.push([n,!1])}}return e.forEach(function(f){var h=f[0],p=f[1];p?pH(h):sa(h)}),r.innerHTML.trim()}function Xxe(r,e){var t=r.getAttribute("style");if(t){var n=t.match(rk),i=n[1],a=i.trim().split(" "),o=a[1],l=parseInt(o.replace("level",""),10),c=jxe.test(r.textContent||"");return{id:e,level:l,prev:null,parent:null,children:[],unordered:c,contents:Jxe(r)}}return null}function Yxe(r,e){if(e.level<r.level)e.children.push(r),r.parent=e;else{for(;e&&e.level!==r.level;)e=e.parent;e&&(r.prev=e,r.parent=e.parent,r.parent&&r.parent.children.push(r))}}function Zxe(r){var e=[];return r.forEach(function(t,n){var i=e[n-1],a=Xxe(t,n);a&&(i&&Yxe(a,i),e.push(a))}),e}function nk(r){var e=r[0].unordered?"ul":"ol",t=document.createElement(e);return r.forEach(function(n){var i=n.children,a=n.contents,o=document.createElement("li");o.innerHTML=a,t.appendChild(o),i.length&&t.appendChild(nk(i))}),t}function Qxe(r){var e=Zxe(r),t=e.filter(function(n){var i=n.parent;return!i});return nk(t)}function eTe(r){for(;r&&!hc(r);)r=r.nextSibling;return r?!Vxe.test(r.className):!0}function tTe(r){var e=document.createElement("div");e.innerHTML=r;var t=[],n=fH(e,Gxe);n.forEach(function(a){var o=eTe(a.nextSibling);if(t.push(a),o){var l=Qxe(t),c=a.nextSibling;c?hH(l,c):dH(e,l),t=[]}sa(a)});var i=n.length?"<p></p>":"";return""+i+e.innerHTML}var kw="<!--StartFragment-->",rTe="<!--EndFragment-->";function nTe(r){var e=r.indexOf(kw),t=r.lastIndexOf(rTe);return e>-1&&t>-1&&(r=r.slice(e+kw.length,t)),r.replace(/<br[^>]*>/g,Hx)}function iTe(r){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(r)&&(r="<tr>"+r+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(r)&&(r="<table>"+r+"</table>"),r}function aTe(r){return r=nTe(r),r=iTe(r),Kxe(r)&&(r=tTe(r)),r}function oTe(r){var e=r.reduce(function(t,n){return t.childCount>n.childCount?t:n});return e.childCount}function ik(r,e,t){for(var n=[],i=r.childCount,a=0;a<i;a+=1)if(!r.child(a).attrs.extended){var o=a<i?t.create(r.child(a).attrs,r.child(a).content):t.createAndFill();n.push(o)}return n}function ak(r,e,t){var n=t.nodes,i=n.tableRow,a=n.tableHeadCell,o=ik(r,e,a);return i.create(null,o)}function ok(r,e,t){var n=t.nodes,i=n.tableRow,a=n.tableBodyCell,o=ik(r,e,a);return i.create(null,o)}function sTe(r,e){for(var t=e.nodes,n=t.tableRow,i=t.tableBodyCell,a=[],o=0;o<r;o+=1){var l=i.createAndFill();a.push(l)}return n.create({dummyRowForPasting:!0},a)}function sk(r){var e=[],t=[];if(r.firstChild.type.name==="tableHead"){var n=r.firstChild;n.forEach(function(a){return e.push(a)})}if(r.lastChild.type.name==="tableBody"){var i=r.lastChild;i.forEach(function(a){return t.push(a)})}return zt(zt([],e),t)}function lTe(r,e,t){var n=ak(r,e,t);return t.nodes.tableHead.create(null,n)}function Ew(r,e,t){var n=r.map(function(a){return ok(a,e,t)});if(!r.length){var i=sTe(e,t);n.push(i)}return t.nodes.tableBody.create(null,n)}function uTe(r,e,t,n){var i=oTe(r);if(t&&n)return e.nodes.table.create(null,[Ew(r,i,e)]);var a=r[0],o=r.slice(1),l=[lTe(a,i,e)];return o.length&&l.push(Ew(o,i,e)),e.nodes.table.create(null,l)}function cTe(r,e,t){var n=[],i=r.content,a=r.openStart,o=r.openEnd;return i.forEach(function(l){if(l.type.name==="table"){var c=ZT(new W(q.from(l),0,0));if(c){var f=sk(c),h=c.firstChild.type.name==="tableBody",p=uTe(f,e,h,t);n.push(p)}}else n.push(l)}),new W(q.from(n),a,o)}var fTe=4,dTe=2;function eu(r){return r*fTe}function hTe(r,e,t){var n=[],i=sk(r),a=i[0].childCount,o=i.length,l=e.startRowIdx===0,c=i.slice(0,o);if(l){var f=c.shift();if(f){var h=ak(f,a,t).content;n.push(h)}}return c.forEach(function(p){if(!p.attrs.dummyRowForPasting){var v=ok(p,a,t).content;n.push(v)}}),n}function pTe(r,e,t){for(var n=e.startRowIdx,i=e.startColIdx,a=t.length,o=0,l=function(g){var y=t[g].childCount;t[g].forEach(function(x){var T=x.attrs,E=T.colspan;E>1&&(y+=E-1)}),o=Math.max(o,y)},c=0;c<a;c+=1)l(c);var f=n+a-1,h=i+o-1,p=Math.max(f+1-r.totalRowCount,0),v=Math.max(h+1-r.totalColumnCount,0);return{startRowIdx:n,startColIdx:i,endRowIdx:f,endColIdx:h,addedRowCount:p,addedColumnCount:v}}function vTe(r,e){for(var t=r.startRowIdx,n=r.startColIdx,i=r.endRowIdx,a=r.endColIdx,o=r.addedRowCount,l=r.addedColumnCount,c=t;c<=i-o;c+=1)e.push({rowIdx:c,startColIdx:n,endColIdx:a-l})}function mTe(r,e,t,n,i){for(var a=n.startRowIdx,o=n.startColIdx,l=n.endRowIdx,c=n.endColIdx,f=n.addedRowCount,h=n.addedColumnCount,p=t.totalRowCount,v=0,g=0;g<p;g+=1){var y=t.getCellInfo(g,c-h),x=y.offset,T=y.nodeSize,E=r.mapping.map(x+T),L=Ql(h,g,e);if(r.insert(E,L),g>=a&&g<=l-f){var N=t.getCellInfo(g,c-h),B=r.mapping.map(N.offset),_=E+eu(h);i[v]={rowIdx:g,startColIdx:o,endColIdx:c,dummyOffsets:[B,_]},v+=1}}}function gTe(r,e,t,n,i){var a=n.addedRowCount,o=n.addedColumnCount,l=n.startColIdx,c=n.endColIdx,f=r.mapping.maps.length,h=t.tableEndOffset-2,p=JT(a,t.totalColumnCount+o,e),v=h;r.insert(r.mapping.slice(f).map(v),p);for(var g=0;g<a;g+=1){var y=v+eu(l)+1,x=v+eu(c+1)+1,T=v+eu(t.totalColumnCount+o)+dTe;i.push({rowIdx:g+t.totalRowCount,startColIdx:l,endColIdx:c,dummyOffsets:[y,x]}),v=T}}function yTe(r,e,t,n){var i=r.mapping.maps.length;t.forEach(function(a,o){var l=a.rowIdx,c=a.startColIdx,f=a.endColIdx,h=a.dummyOffsets,p=r.mapping.slice(i),v=new W(e[o],0,0),g=h?h[0]:n.getCellStartOffset(l,c),y=h?h[1]:n.getCellEndOffset(l,f);r.replace(p.map(g),p.map(y),v)})}function bTe(r,e){var t=r.state,n=t.selection,i=t.schema,a=t.tr,o=Xr(n),l=o.anchor,c=o.head;if(l&&c){var f=ZT(e);if(!f)return!1;var h=ft.create(l),p=h.getRectOffsets(l,c),v=hTe(f,p,i),g=pTe(h,p,v),y=[];return CTe(h,g)&&(vTe(g,y),g.addedColumnCount&&mTe(a,i,h,g,y),g.addedRowCount&&gTe(a,i,h,g,y),yTe(a,v,y,h),r.dispatch(a),wTe(r,y,h.getCellInfo(0,0).offset)),!0}return!1}function wTe(r,e,t){var n=r.state,i=n.tr,a=n.doc,o=ft.create(a.resolve(t)),l=e[0],c=l.rowIdx,f=l.startColIdx,h=Ct(e),p=h.rowIdx,v=h.endColIdx,g=o.getCellInfo(c,f).offset,y=o.getCellInfo(p,v).offset;r.dispatch(i.setSelection(new hv(a.resolve(g),a.resolve(y))))}function CTe(r,e){var t=r.getSpannedOffsets(e),n=Ua(t),i=n.rowCount,a=n.columnCount,o=Ua(e),l=o.rowCount,c=o.columnCount;return i===l&&a===c}var xTe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(Le),TTe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:I({},ot()),parseDOM:[{tag:"p"}],toDOM:function(t){var n=t.attrs;return["p",Ue(n),0]}}},enumerable:!1,configurable:!0}),e}(Le),kTe=/\s{1,4}$/,ETe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e.prototype.addSpaces=function(){return function(t,n){var i=t.selection,a=t.tr,o=i.$from,l=i.$to,c=o.blockRange(l);return c&&!fo(o)&&!Nu(o)?(n(a.insertText("    ",o.pos,l.pos)),!0):!1}},e.prototype.removeSpaces=function(){return function(t,n){var i=t.selection,a=t.tr,o=i.$from,l=i.$to,c=i.from,f=o.blockRange(l);if(f&&!fo(o)&&!Nu(o)){var h=o.nodeBefore;if(h&&h.isText){var p=h.text,v=p.replace(kTe,""),g=p.length-v.length;return n(a.delete(c-g,c)),!0}}return!1}},e.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},e}(Le),STe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this.levels.map(function(n){return{tag:"h"+n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return I({level:n},a&&{rawHTML:a})}}});return{attrs:I({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},ot()),content:"inline*",group:"block",defining:!0,parseDOM:t,toDOM:function(n){var i=n.attrs;return["h"+i.level,Ue(i),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,i){var a=n.schema.nodes[t.level?"heading":"paragraph"];return Fp(a,t)(n,i)}}},e}(Le),MTe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:I({language:{default:null},rawHTML:{default:null}},ot()),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(t){var n=t.getAttribute("data-raw-html"),i=t.firstElementChild;return I({language:(i==null?void 0:i.getAttribute("data-language"))||null},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"pre",["code",I({"data-language":n.language},Ue(n)),0]]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return Fp(t.schema.nodes.codeBlock)(t,n)}}},e.prototype.moveCursor=function(t){var n=this;return function(i,a){var o=i.tr,l=i.doc,c=i.schema,f=i.selection.$from,h=n.context.view;if(h.endOfTextblock(t)&&f.node().type.name==="codeBlock"){var p=f.parent.textContent.split(`
`),v=t==="up"?f.start():f.end(),g=t==="up"?[v,p[0].length+v]:[v-Ct(p).length,v],y=l.resolve(t==="up"?f.before():f.after()),x=t==="up"?y.nodeBefore:y.nodeAfter;if(LF(f.pos,g[0],g[1])&&!x){var T=Gp(o,y,c);if(T)return a(T),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},e}(Le),OTe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:I({rawHTML:{default:null}},ot()),parseDOM:[wc("ul")],toDOM:function(t){var n=t.attrs;return["ul",Ue(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.changeList=function(){return function(t,n){return KT(t.schema.nodes.bulletList)(t,n)}},e.prototype.commands=function(){return{bulletList:this.changeList,taskList:uxe}},e.prototype.keymaps=function(){var t=this.changeList(),n=dv(),i=n.indent,a=n.outdent;return{"Mod-u":t,"Mod-U":t,Tab:i(),"Shift-Tab":a()}},e}(Le),ATe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:I({order:{default:1},rawHTML:{default:null}},ot()),parseDOM:[{tag:"ol",getAttrs:function(t){var n=t.getAttribute("start"),i=t.getAttribute("data-raw-html");return I({order:t.hasAttribute("start")?Number(n):1},i&&{rawHTML:i})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"ol",I({start:n.order===1?null:n.order},Ue(n)),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return KT(t.schema.nodes.orderedList)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()(),n=dv(),i=n.indent,a=n.outdent;return{"Mod-o":t,"Mod-O":t,Tab:i(),"Shift-Tab":a()}},e}(Le),_Te=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(t){var n=t.getAttribute("data-raw-html");return I({task:t.hasAttribute("data-task"),checked:t.hasAttribute("data-task-checked")},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs,i=n.task,a=n.checked;if(!i)return[n.rawHTML||"li",0];var o=["task-list-item"];return a&&o.push("checked"),[n.rawHTML||"li",I({class:o.join(" "),"data-task":i},a&&{"data-task-checked":a}),0]}}},enumerable:!1,configurable:!0}),e.prototype.liftToPrevListItem=function(){return function(t,n){var i=t.selection,a=t.tr,o=t.schema,l=i.$from,c=i.empty,f=o.nodes.listItem,h=l.parent,p=l.node(-1);if(c&&!h.childCount&&p.type===f){if(l.index(-2)>=1)return a.delete(l.start(-1)-1,l.end(-1)),n(a),!0;var v=l.node(-3);if(v.type===f)return a.delete(l.start(-2)-1,l.end(-1)),n(a),!0}return!1}},e.prototype.keymaps=function(){var t=function(n,i){return pxe(n.schema.nodes.listItem)(n,i)};return{Backspace:this.liftToPrevListItem(),Enter:t}},e}(Le),LTe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:I({rawHTML:{default:null}},ot()),content:"block+",group:"block",parseDOM:[wc("blockquote")],toDOM:function(t){var n=t.attrs;return["blockquote",Ue(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return wB(t.schema.nodes.blockQuote)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Alt-q":t,"Alt-Q":t}},e}(Le),DTe={left:qTe,right:HTe,up:$Te,down:UTe};function NTe(r,e,t){var n=t[0],i=t[1],a=e.resolve(r.before(n-1));return i===n&&!a.nodeBefore}function ITe(r){for(var e,t=r.depth,n;t&&(n=r.node(t),n.type.name!=="tableBodyCell");){if(n.type.name==="listItem"){var i=r.node(t-1),a=i.lastChild===n,o=((e=n.lastChild)===null||e===void 0?void 0:e.type.name)!=="paragraph";return a?!o:!1}t-=1}return!1}function RTe(r,e,t,n,i){var a=e[0],o=e[1],l=e[2];if(r==="left"||r==="up"){if(i&&!NTe(t,n,[a,o]))return!1;var c=t.before(l),f=n.resolve(c).nodeBefore;if(f)return!1}return!0}function PTe(r,e,t,n,i){if(r==="right"||r==="down"){if(i&&!ITe(t))return!1;var a=t.after(e),o=n.resolve(a).nodeAfter;if(o)return!1}return!0}function BTe(r,e,t,n){var i=e[0],a=e[1],o=i+3,l=a>=o,c=l?i+1:a,f=RTe(r,[a,o,c],t,n,l),h=PTe(r,c,t,n,l);return f&&h}function Sw(r,e,t){var n=t[0],i=t[1],a=e.getRowspanStartInfo(n,i),o=r==="up"&&n===0,l=r==="down"&&((a==null?void 0:a.count)>1?n+a.count-1:n)===e.totalRowCount-1;return o||l}function FTe(r,e,t){var n=r.doc.resolve(e.tableStartOffset-1);return n.nodeBefore?r.setSelection(he.near(n,-1)):Gp(r,n,t)}function Wd(r,e,t,n){n===void 0&&(n=!1);var i=r.doc.resolve(e.tableEndOffset);return n||!i.nodeAfter?Gp(r,i,t):r.setSelection(he.near(i,1))}function HTe(r,e){var t=r[0],n=r[1],i=e.totalRowCount,a=e.totalColumnCount,o=n===a-1,l=t===i-1&&o;if(!l){var c=n+1,f=e.getColspanStartInfo(t,n);(f==null?void 0:f.count)>1&&(c+=f.count-1),(o||c===a)&&(t+=1,c=0);var h=e.getCellInfo(t,c).offset;return h+2}return null}function qTe(r,e){var t=r[0],n=r[1],i=e.totalColumnCount,a=n===0,o=t===0&&a;if(!o){n-=1,a&&(t-=1,n=i-1);var l=e.getCellInfo(t,n),c=l.offset,f=l.nodeSize;return c+f-2}return null}function $Te(r,e){var t=r[0],n=r[1];if(t>0){var i=e.getCellInfo(t-1,n),a=i.offset,o=i.nodeSize;return a+o-2}return null}function UTe(r,e){var t=r[0],n=r[1],i=e.totalRowCount;if(t<i-1){var a=t+1,o=e.getRowspanStartInfo(t,n);(o==null?void 0:o.count)>1&&(a+=o.count-1);var l=e.getCellInfo(a,n).offset;return l+2}return null}function Mw(r,e,t,n){var i=DTe[r],a=i(t,n);if(a){var o=r==="right"||r==="down"?1:-1;return e.setSelection(he.near(e.doc.resolve(a),o))}return null}function zTe(r,e,t){var n=t[0],i=t[1];if(r==="up"||r==="down")return!1;var a=e.tableStartOffset,o=e.tableEndOffset,l=e.getCellInfo(n,i),c=l.offset,f=l.nodeSize,h=r==="left"?a:o,p=r==="left"?c-2:c+f+3;return h===p}function VTe(r,e,t){var n=r.doc.resolve(e.before(t-3));return r.setSelection(new ie(n))}function WTe(r,e,t){var n,i,a;return r==="up"?(n=t.startRowIdx,i=0,a=-1):(n=t.endRowIdx,i=e.totalColumnCount-1,a=e.getCellInfo(n,i).nodeSize+1),{targetRowIdx:n,insertColIdx:i,nodeSize:a}}function jTe(r,e,t){var n=r.getCellInfo(e,0).offset,i=r.getCellInfo(e,t-1),a=i.offset,o=i.nodeSize;return{from:n,to:a+o}}var GTe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:I({rawHTML:{default:null}},ot()),parseDOM:[wc("table")],toDOM:function(t){var n=t.attrs;return["table",Ue(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.addTable=function(){return function(t){return t===void 0&&(t={rowCount:2,columnCount:1,data:[]}),function(n,i){var a=t.rowCount,o=t.columnCount,l=t.data,c=n.schema,f=n.selection,h=n.tr,p=f.from,v=f.to,g=f.$from,y=p===v;if(y&&!Nu(g)){var x=c.nodes,T=x.tableHead,E=x.tableBody,L=l==null?void 0:l.slice(0,o),N=l==null?void 0:l.slice(o,l.length),B=wxe(o,c,L),_=JT(a-1,o,c,N),z=c.nodes.table.create(null,[T.create(null,B),E.create(null,_)]);return i(h.replaceSelectionWith(z)),!0}return!1}}},e.prototype.removeTable=function(){return function(){return function(t,n){var i=t.selection,a=t.tr,o=ft.create(i.$anchor);if(o){var l=o.tableStartOffset,c=o.tableEndOffset,f=l-1,h=Ie(a.delete(f,c),f);return n(a.setSelection(h)),!0}return!1}}},e.prototype.addColumn=function(t){return function(){return function(n,i){var a=n.selection,o=n.tr,l=n.schema,c=Xr(a),f=c.anchor,h=c.head;if(f&&h){for(var p=ft.create(f),v=p.getRectOffsets(f,h),g=t==="left"?v.startColIdx:v.endColIdx+1,y=Ua(v).columnCount,x=p.totalRowCount,T=0;T<x;T+=1){var E=Ql(y,T,l);o.insert(o.mapping.map(p.posAt(T,g)),E)}return i(o),!0}return!1}}},e.prototype.removeColumn=function(){return function(){return function(t,n){var i=t.selection,a=t.tr,o=Xr(i),l=o.anchor,c=o.head;if(l&&c){var f=ft.create(l),h=f.getRectOffsets(l,c),p=f.totalColumnCount,v=f.totalRowCount,g=Ua(h).columnCount,y=g===p;if(y)return!1;for(var x=h.startColIdx,T=h.endColIdx,E=a.mapping.maps.length,L=0;L<v;L+=1)for(var N=T;N>=x;N-=1){var B=f.getCellInfo(L,N),_=B.offset,z=B.nodeSize,K=a.mapping.slice(E).map(_),$=K+z;a.delete(K,$)}return n(a),!0}return!1}}},e.prototype.addRow=function(t){return function(){return function(n,i){var a=n.selection,o=n.schema,l=n.tr,c=Xr(a),f=c.anchor,h=c.head;if(f&&h){var p=ft.create(f),v=p.totalColumnCount,g=p.getRectOffsets(f,h),y=Ua(g).rowCount,x=WTe(t,p,g),T=x.targetRowIdx,E=x.insertColIdx,L=x.nodeSize,N=T===0;if(!N){for(var B=[],_=l.mapping.map(p.posAt(T,E))+L,z=[],K=0;K<v;K+=1)z=z.concat(Ql(1,T,o));for(var $=0;$<y;$+=1)B.push(o.nodes.tableRow.create(null,z));return i(l.insert(_,B)),!0}}return!1}}},e.prototype.removeRow=function(){return function(){return function(t,n){var i=t.selection,a=t.tr,o=Xr(i),l=o.anchor,c=o.head;if(l&&c){var f=ft.create(l),h=f.totalRowCount,p=f.totalColumnCount,v=f.getRectOffsets(l,c),g=Ua(v).rowCount,y=v.startRowIdx,x=v.endRowIdx,T=y===0,E=g===h-1;if(E||T)return!1;for(var L=x;L>=y;L-=1){var N=jTe(f,L,p),B=N.from,_=N.to;a.delete(B-1,_+1)}return n(a),!0}return!1}}},e.prototype.alignColumn=function(){return function(t){return t===void 0&&(t={align:"center"}),function(n,i){var a=t.align,o=n.selection,l=n.tr,c=Xr(o),f=c.anchor,h=c.head;if(f&&h){for(var p=ft.create(f),v=p.totalRowCount,g=p.getRectOffsets(f,h),y=g.startColIdx,x=g.endColIdx,T=0;T<v;T+=1)for(var E=y;E<=x;E+=1)if(!p.extendedRowspan(T,E)&&!p.extendedColspan(T,E)){var L=p.getNodeAndPos(T,E),N=L.node,B=L.pos,_=Cxe(N,{align:a});l.setNodeMarkup(B,null,_)}return i(l),!0}return!1}}},e.prototype.moveToCell=function(t){return function(n,i){var a=n.selection,o=n.tr,l=n.schema,c=Xr(a),f=c.anchor,h=c.head;if(f&&h){var p=ft.create(f),v=p.getCellIndex(f),g=void 0;if(Sw(t,p,v)?g=Wd(o,p,l):g=Mw(t,o,v,p),g)return i(g),!0}return!1}},e.prototype.moveInCell=function(t){var n=this;return function(i,a){var o=i.selection,l=i.tr,c=i.doc,f=i.schema,h=o.$from,p=n.context.view;if(!p.endOfTextblock(t))return!1;var v=_n(h,function(N){var B=N.type;return B.name==="tableHeadCell"||B.name==="tableBodyCell"});if(v){var g=_n(h,function(N){var B=N.type;return B.name==="paragraph"}),y=v.depth;if(g&&BTe(t,[y,g.depth],h,c)){var x=Xr(o).anchor,T=ft.create(x),E=T.getCellIndex(x),L=void 0;if(zTe(t,T,E)?L=VTe(l,h,y):Sw(t,T,E)?t==="up"?L=FTe(l,T,f):t==="down"&&(L=Wd(l,T,f)):L=Mw(t,l,E,T),L)return a(L),!0}}return!1}},e.prototype.deleteCells=function(){return function(t,n){var i=t.schema,a=t.selection,o=t.tr,l=Xr(a),c=l.anchor,f=l.head,h=a instanceof ye;if(c&&f&&!h){for(var p=ft.create(c),v=p.getRectOffsets(c,f),g=v.startRowIdx,y=v.startColIdx,x=v.endRowIdx,T=v.endColIdx,E=g;E<=x;E+=1)for(var L=y;L<=T;L+=1)if(!p.extendedRowspan(E,L)&&!p.extendedColspan(E,L)){var N=p.getNodeAndPos(E,L),B=N.node,_=N.pos,z=Ql(1,E,i,B.attrs);o.replaceWith(o.mapping.map(_),o.mapping.map(_+B.nodeSize),z)}return n(o),!0}return!1}},e.prototype.exitTable=function(){return function(t,n){var i=t.selection,a=t.tr,o=t.schema,l=i.$from,c=_n(l,function(v){var g=v.type;return g.name==="tableHeadCell"||g.name==="tableBodyCell"});if(c){var f=_n(l,function(v){var g=v.type;return g.name==="paragraph"});if(f){var h=Xr(i).anchor,p=ft.create(h);return n(Wd(a,p,o,!0)),!0}}return!1}},e.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},e.prototype.keymaps=function(){var t=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:t,"Mod-Backspace":t,Delete:t,"Mod-Delete":t,"Mod-Enter":this.exitTable()}},e}(Le),KTe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:I({rawHTML:{default:null}},ot()),parseDOM:[wc("thead")],toDOM:function(t){var n=t.attrs;return["thead",Ue(n),0]}}},enumerable:!1,configurable:!0}),e}(Le),JTe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:I({rawHTML:{default:null}},ot()),parseDOM:[{tag:"tbody",getAttrs:function(t){var n=t.querySelectorAll("tr"),i=n[0].children.length,a=t.getAttribute("data-raw-html");return i?I({},a&&{rawHTML:a}):!1}}],toDOM:function(t){var n=t.attrs;return["tbody",Ue(n),0]}}},enumerable:!1,configurable:!0}),e}(Le),XTe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:I({rawHTML:{default:null}},ot()),parseDOM:[{tag:"tr",getAttrs:function(t){var n=t.children.length,i=t.getAttribute("data-raw-html");return n?I({},i&&{rawHTML:i}):!1}}],toDOM:function(t){var n=t.attrs;return["tr",Ue(n),0]}}},enumerable:!1,configurable:!0}),e}(Le),YTe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:I({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},ot()),isolating:!0,parseDOM:[WT("th")],toDOM:function(t){var n=t.attrs,i=VT(n);return["th",I(I({},i),Ue(n)),0]}}},enumerable:!1,configurable:!0}),e}(Le),ZTe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[WT("td")],toDOM:function(t){var n=t.attrs,i=VT(n);return["td",i,0]}}},enumerable:!1,configurable:!0}),e}(Le),QTe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{inline:!0,attrs:I({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},ot()),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(t){var n=ca(t,{RETURN_DOM_FRAGMENT:!0}).firstChild,i=n.getAttribute("src")||"",a=n.getAttribute("data-raw-html"),o=n.getAttribute("alt");return I({imageUrl:i,altText:o},a&&{rawHTML:a})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"img",I(I({src:$a(n.imageUrl)},n.altText&&{alt:n.altText}),Ue(n))]}}},enumerable:!1,configurable:!0}),e.prototype.addImage=function(){return function(t){return function(n,i){var a=n.schema,o=n.tr,l=t,c=l.imageUrl,f=l.altText;if(!c)return!1;var h=a.nodes.image.createAndFill(I({imageUrl:c},f&&{altText:f}));return i(o.replaceSelectionWith(h).scrollIntoView()),!0}}},e.prototype.commands=function(){return{addImage:this.addImage()}},e}(Le),Ow=1,eke=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:I({rawHTML:{default:null}},ot()),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(t){var n=t.attrs;return["div",Ue(n),[n.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){var t=this;return function(){return function(n,i){var a,o=n.selection,l=o.$from,c=o.$to;if(l===c){var f=n.doc,h=n.schema.nodes,p=h.thematicBreak,v=h.paragraph,g=[p.create()],y=l.node(Ow),x=f.child(f.childCount-1)===y,T=f.resolve(l.after(Ow)),E=((a=l.nodeAfter)===null||a===void 0?void 0:a.type.name)===t.name;return(x||E)&&g.push(v.create()),i(n.tr.insert(T.pos,g).scrollIntoView()),!0}return!1}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(Le),tke=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["b","strong"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return I({},a&&{rawHTML:a})}}});return{attrs:I({rawHTML:{default:null}},ot()),parseDOM:t,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"strong",Ue(i)]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return function(){return function(t,n){return As(t.schema.marks.strong)(t,n)}}},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(Re),rke=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["i","em"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return I({},a&&{rawHTML:a})}}});return{attrs:I({rawHTML:{default:null}},ot()),parseDOM:t,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"em",Ue(i)]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return function(){return function(t,n){return As(t.schema.marks.emph)(t,n)}}},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(Re),nke=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["s","del"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return I({},a&&{rawHTML:a})}}});return{attrs:I({rawHTML:{default:null}},ot()),parseDOM:t,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"del",Ue(i)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return As(t.schema.marks.strike)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(Re),ike=function(r){G(e,r);function e(t){var n=r.call(this)||this;return n.linkAttributes=t,n}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this;return{attrs:I({linkUrl:{default:""},title:{default:null},rawHTML:{default:null}},ot()),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(n){var i=ca(n,{RETURN_DOM_FRAGMENT:!0}).firstChild,a=i.getAttribute("href")||"",o=i.getAttribute("title")||"",l=i.getAttribute("data-raw-html");return I({linkUrl:a,title:o},l&&{rawHTML:l})}}],toDOM:function(n){var i=n.attrs;return[i.rawHTML||"a",I(I({href:$a(i.linkUrl)},t.linkAttributes),Ue(i))]}}},enumerable:!1,configurable:!0}),e.prototype.addLink=function(){return function(t){return function(n,i){var a=t,o=a.linkUrl,l=a.linkText,c=l===void 0?"":l,f=n.schema,h=n.tr,p=n.selection,v=p.empty,g=p.from,y=p.to;if(g&&y&&o){var x={linkUrl:o},T=f.mark("link",x);if(v&&c){var E=vt(f,c,T);h.replaceRangeWith(g,y,E)}else h.addMark(g,y,T);return i(h.scrollIntoView()),!0}return!1}}},e.prototype.toggleLink=function(){return function(t){return function(n,i){return As(n.schema.marks.link,t)(n,i)}}},e.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},e}(Re),ake=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:I({rawHTML:{default:null}},ot()),parseDOM:[{tag:"code",getAttrs:function(t){var n=t.getAttribute("data-raw-html");return I({},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"code",Ue(n)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return As(t.schema.marks.code)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(Re),oke=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(t){var n=t.getAttribute("data-custom-info");return{info:n}}}],toDOM:function(t){var n=t.attrs;return["div",{"data-custom-info":n.info||null},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,i){return t!=null&&t.info?Fp(n.schema.nodes.customBlock,t)(n,i):!1}}},e}(Le),ske=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n,i){var a=t.selection.$from;return i.endOfTextblock("down")&&a.node().type.name==="frontMatter"?Bp(t,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(Le),lke=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"htmlComment"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-html-comment]"}],toDOM:function(){return["div",{"data-html-comment":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n,i){var a=t.selection.$from;return i.endOfTextblock("down")&&a.node().type.name==="htmlComment"?Bp(t,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(Le);function uke(r){return new Kx([new xTe,new TTe,new ETe,new STe,new MTe,new OTe,new ATe,new _Te,new LTe,new GTe,new KTe,new JTe,new XTe,new YTe,new ZTe,new QTe,new eke,new tke,new rke,new nke,new ike(r),new ake,new oke,new ske,new jx,new lke])}var cke=J("contents"),fke=function(r){G(e,r);function e(t,n){var i=r.call(this,t)||this,a=n.toDOMAdaptor,o=n.htmlSchemaMap,l=o===void 0?{}:o,c=n.linkAttributes,f=c===void 0?{}:c,h=n.useCommandShortcut,p=h===void 0?!0:h,v=n.wwPlugins,g=v===void 0?[]:v,y=n.wwNodeViews,x=y===void 0?{}:y;return i.editorType="wysiwyg",i.el.classList.add("ww-mode"),i.toDOMAdaptor=a,i.linkAttributes=f,i.extraPlugins=g,i.pluginNodeViews=x,i.specs=i.createSpecs(),i.schema=i.createSchema(l),i.context=i.createContext(),i.keymaps=i.createKeymaps(p),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(I(I({},i.context),{view:i.view})),i.initEvent(),i}return e.prototype.createSpecs=function(){return uke(this.linkAttributes)},e.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSchema=function(t){return new wC({nodes:I(I({},this.specs.nodes),t.nodes),marks:I(I({},this.specs.marks),t.marks)})},e.prototype.createPlugins=function(){return zt([Sxe(),_xe(this.eventEmitter),Lxe(),Fxe(this.eventEmitter)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createPluginNodeViews=function(){var t=this,n=t.eventEmitter,i=t.pluginNodeViews,a={};return i&&Object.keys(i).forEach(function(o){a[o]=function(l,c,f){return i[o](l,c,f,n)}}),a},e.prototype.createView=function(){var t=this,n=this,i=n.toDOMAdaptor,a=n.eventEmitter;return new Ip(this.el,{state:this.createState(),attributes:{class:cke},nodeViews:I({customBlock:function(o,l,c){return new Hxe(o,l,c,i)},image:function(o,l,c){return new qxe(o,l,c,a)},codeBlock:function(o,l,c){return new zxe(o,l,c,a)},widget:Wx},this.createPluginNodeViews()),dispatchTransaction:function(o){var l=t.view.state.applyTransaction(o).state;t.view.updateState(l),t.emitChangeEvent(o.scrollIntoView()),t.eventEmitter.emit("setFocusedNode",l.selection.$from.node(1))},transformPastedHTML:aTe,transformPasted:function(o){return cTe(o,t.schema,Nu(t.view.state.selection.$from))},handlePaste:function(o,l,c){return bTe(o,c)},handleKeyDown:function(o,l){return t.eventEmitter.emit("keydown",t.editorType,l),!1},handleDOMEvents:{paste:function(o,l){var c=l.clipboardData||window.clipboardData,f=c==null?void 0:c.items;if(f){var h=sn(f).some(function(v){return v.kind==="string"&&v.type==="text/rtf"});if(!h){var p=Vx(f);p&&(l.preventDefault(),ev(t.eventEmitter,p,l.type))}}return!1},keyup:function(o,l){return t.eventEmitter.emit("keyup",t.editorType,l),!1},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0}}})},e.prototype.createCommands=function(){return this.specs.commands(this.view,dv())},e.prototype.getHTML=function(){return Qp(this.view.dom.innerHTML)},e.prototype.getModel=function(){return this.view.state.doc},e.prototype.getSelection=function(){var t=this.view.state.selection,n=t.from,i=t.to;return[n,i]},e.prototype.getSchema=function(){return this.view.state.schema},e.prototype.replaceSelection=function(t,n,i){var a=this.view.state,o=a.schema,l=a.tr,c=t.split(`
`),f=c.map(function(v){return Tu(o,Zi(v,o))}),h=new W(q.from(f),1,1),p=On(n)&&On(i)?l.replaceRange(n,i,h):l.replaceSelection(h);this.view.dispatch(p),this.focus()},e.prototype.deleteSelection=function(t,n){var i=this.view.state.tr,a=On(t)&&On(n)?i.deleteRange(t,n):i.deleteSelection();this.view.dispatch(a.scrollIntoView())},e.prototype.getSelectedText=function(t,n){var i=this.view.state,a=i.doc,o=i.selection,l=o.from,c=o.to;return On(t)&&On(n)&&(l=t,c=n),a.textBetween(l,c,`
`)},e.prototype.setModel=function(t,n){n===void 0&&(n=!1);var i=this.view.state,a=i.tr,o=i.doc;this.view.dispatch(a.replaceWith(0,o.content.size,t)),n&&this.moveCursorToEnd(!0)},e.prototype.setSelection=function(t,n){n===void 0&&(n=t);var i=this.view.state.tr,a=Ie(i,t,n);this.view.dispatch(i.setSelection(a).scrollIntoView())},e.prototype.addWidget=function(t,n,i){var a=this.view,o=a.dispatch,l=a.state;o(l.tr.setMeta("widget",{pos:i!=null?i:l.selection.to,node:t,style:n}))},e.prototype.replaceWithWidget=function(t,n,i){var a=this.view.state,o=a.tr,l=a.schema,c=Zi(i,l);this.view.dispatch(o.replaceWith(t,n,c))},e.prototype.getRangeInfoOfNode=function(t){var n=this.view.state,i=n.doc,a=n.selection,o=t?i.resolve(t):a.$from,l=o.marks(),c=o.node(),f=o.start(),h=o.end(),p=c.type.name;if(l.length||p==="paragraph"){var v=l[l.length-1],g=function(y){return y.length?mt(y,v):!0};p=v?v.type.name:"text",c.forEach(function(y,x){var T=y.isText,E=y.nodeSize,L=y.marks,N=o.pos-f;T&&x<=N&&x+E>=N&&g(L)&&(f=f+x,h=f+E)})}return{range:[f,h],type:p}},e}(Gx),dke=qr,hke=bu;function pke(r){return!dke(r)&&!hke(r)}var vke=pke,mke=vke;function gke(r){return mke(r)&&r!==!1}var yke=gke,bke=yke;function wke(r){return!bke(r)}var Cke=wke,Aw=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],lk=function(){function r(){var e=this;this.events=new QT,this.eventTypes=Aw.reduce(function(t,n){return I(I({},t),{type:n})},{}),this.hold=!1,Aw.forEach(function(t){e.addEventType(t)})}return r.prototype.listen=function(e,t){var n=this.getTypeInfo(e),i=this.events.get(n.type)||[];if(!this.hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(t.namespace=n.namespace),i.push(t),this.events.set(n.type,i)},r.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.getTypeInfo(e),a=this.events.get(i.type),o=[];return!this.hold&&a&&a.forEach(function(l){var c=l.apply(void 0,t);qr(c)||o.push(c)}),o},r.prototype.emitReduce=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=this.events.get(e);return!this.hold&&a&&a.forEach(function(o){var l=o.apply(void 0,zt([t],n));Cke(l)||(t=l)}),t},r.prototype.getTypeInfo=function(e){var t=e.split(".");return{type:t[0],namespace:t[1]}},r.prototype.hasEventType=function(e){return!qr(this.eventTypes[this.getTypeInfo(e).type])},r.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},r.prototype.removeEventHandler=function(e,t){var n=this,i=this.getTypeInfo(e),a=i.type,o=i.namespace;a&&t?this.removeEventHandlerWithHandler(a,t):a&&!o?this.events.delete(a):!a&&o?this.events.forEach(function(l,c){n.removeEventHandlerWithTypeInfo(c,o)}):a&&o&&this.removeEventHandlerWithTypeInfo(a,o)},r.prototype.removeEventHandlerWithHandler=function(e,t){var n=this.events.get(e);if(n){var i=n.indexOf(t);n.indexOf(t)>=0&&n.splice(i,1)}},r.prototype.removeEventHandlerWithTypeInfo=function(e,t){var n=[],i=this.events.get(e);!i||(i.map(function(a){return a.namespace!==t&&n.push(a),null}),this.events.set(e,n))},r.prototype.getEvents=function(){return this.events},r.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1},r}(),xke=function(){function r(e,t,n,i){this.eventEmitter=e,this.mdCommands=t,this.wwCommands=n,this.getEditorType=i,this.initEvent()}return r.prototype.initEvent=function(){var e=this;this.eventEmitter.listen("command",function(t,n){e.exec(t,n)})},r.prototype.addCommand=function(e,t,n){e==="markdown"?this.mdCommands[t]=n:this.wwCommands[t]=n},r.prototype.deleteCommand=function(e,t){e==="markdown"?delete this.mdCommands[t]:delete this.wwCommands[t]},r.prototype.exec=function(e,t){var n=this.getEditorType();n==="markdown"?this.mdCommands[e](t):this.wwCommands[e](t)},r}();function tu(r){return r[r.length-1]===`
`?r.slice(0,r.length-1):r}function jh(r,e){var t=r.schema,n=e.literal,i=n.match(so);if(i){var a=i[1],o=i[3],l=(a||o).toLowerCase();return e.type==="htmlInline"&&!!(t.marks[l]||t.nodes[l])}return!1}function Gh(r){var e=r.type;return mt(["text","strong","emph","strike","image","link","code"],e)}function _w(r){return(r==null?void 0:r.type)==="softbreak"}function Jo(r){var e=r.type,t=r.literal,n=e==="htmlInline"&&t.match(so);if(n){var i=n[1],a=n[3],o=i||a;if(o)return mt(["ul","ol","li"],o.toLowerCase())}return!1}function Tke(r){var e=r.literal,t=/data-task/.test(e),n=/data-task-checked/.test(e);return{task:t,checked:n}}function Lw(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=document.createElement("div");n.innerHTML=ca(r);var i=n.firstChild;return e.map(function(a){return i.getAttribute(a)||""})}function kke(r){var e={};return Object.keys(r).forEach(function(t){var n=t.split(", ");n.forEach(function(i){var a=i.toLowerCase();e[a]=r[t]})}),e}var Eke={"b, strong":function(r,e,t){var n=r.schema.marks.strong;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},"i, em":function(r,e,t){var n=r.schema.marks.emph;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},"s, del":function(r,e,t){var n=r.schema.marks.strike;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},code:function(r,e,t){var n=r.schema.marks.code;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},a:function(r,e,t){var n=e.literal,i=r.schema.marks.link;if(t){var a=Lw(n,"href")[0];r.openMark(i.create({linkUrl:a,rawHTML:t}))}else r.closeMark(i)},img:function(r,e,t){var n=e.literal;if(t){var i=Lw(n,"src","alt"),a=i[0],o=i[1],l=r.schema.nodes.image;r.addNode(l,I({rawHTML:t,imageUrl:a},o&&{altText:o}))}},hr:function(r,e,t){r.addNode(r.schema.nodes.thematicBreak,{rawHTML:t})},br:function(r,e){var t=r.schema.nodes.paragraph,n=e.parent,i=e.prev,a=e.next;(n==null?void 0:n.type)==="paragraph"?(_w(i)&&r.openNode(t),_w(a)?r.closeNode():a&&(r.closeNode(),r.openNode(t))):(n==null?void 0:n.type)==="tableCell"&&(i&&(Gh(i)||jh(r,i))&&r.closeNode(),a&&(Gh(a)||jh(r,a))&&r.openNode(t))},pre:function(r,e,t){var n,i,a=document.createElement("div");a.innerHTML=e.literal;var o=(i=(n=a.firstChild)===null||n===void 0?void 0:n.firstChild)===null||i===void 0?void 0:i.textContent;r.openNode(r.schema.nodes.codeBlock,{rawHTML:t}),r.addText(tu(o)),r.closeNode()},"ul, ol":function(r,e,t){if(e.parent.type==="tableCell"){var n=r.schema.nodes,i=n.bulletList,a=n.orderedList,o=n.paragraph,l=t==="ul"?i:a;t?(e.prev&&!Jo(e.prev)&&r.closeNode(),r.openNode(l,{rawHTML:t})):(r.closeNode(),e.next&&!Jo(e.next)&&r.openNode(o))}},li:function(r,e,t){var n;if(((n=e.parent)===null||n===void 0?void 0:n.type)==="tableCell"){var i=r.schema.nodes,a=i.listItem,o=i.paragraph;if(t){var l=Tke(e);e.prev&&!Jo(e.prev)&&r.closeNode(),r.openNode(a,I({rawHTML:t},l)),e.next&&!Jo(e.next)&&r.openNode(o)}else e.prev&&!Jo(e.prev)&&r.closeNode(),r.closeNode()}}},Ske=kke(Eke);function Dw(r){return r.type==="htmlInline"&&Mh.test(r.literal)}function uk(r){sn(r.childNodes).forEach(function(e){if(hc(e)){var t=e.nodeName.toLowerCase();e.setAttribute("data-raw-html",t),e.childNodes&&uk(e)}})}var Nw={text:function(r,e){r.addText(e.literal||"")},paragraph:function(r,e,t,n){var i,a=t.entering;if(a){var o=r.schema.nodes.paragraph;((i=e.prev)===null||i===void 0?void 0:i.type)==="paragraph"&&(r.openNode(o,n),r.closeNode()),r.openNode(o,n)}else r.closeNode()},heading:function(r,e,t,n){var i=t.entering;if(i){var a=e,o=a.level,l=a.headingType;r.openNode(r.schema.nodes.heading,I({level:o,headingType:l},n))}else r.closeNode()},codeBlock:function(r,e,t){var n=r.schema.nodes.codeBlock,i=e,a=i.info,o=i.literal;r.openNode(n,I({language:a},t)),r.addText(tu(o||"")),r.closeNode()},list:function(r,e,t,n){var i=t.entering;if(i){var a=r.schema.nodes,o=a.bulletList,l=a.orderedList,c=e.listData,f=c.type,h=c.start;f==="bullet"?r.openNode(o,n):r.openNode(l,I({order:h},n))}else r.closeNode()},item:function(r,e,t,n){var i=t.entering,a=r.schema.nodes.listItem,o=e.listData,l=o.task,c=o.checked;if(i){var f=I(I(I({},l&&{task:l}),c&&{checked:c}),n);r.openNode(a,f)}else r.closeNode()},blockQuote:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.blockQuote,n):r.closeNode()},image:function(r,e,t,n){var i=t.entering,a=t.skipChildren,o=r.schema.nodes.image,l=e,c=l.destination,f=l.firstChild;i&&a&&a(),r.addNode(o,I(I({imageUrl:c},f&&{altText:f.literal}),n))},thematicBreak:function(r,e,t,n){r.addNode(r.schema.nodes.thematicBreak,n)},strong:function(r,e,t,n){var i=t.entering,a=r.schema.marks.strong;i?r.openMark(a.create(n)):r.closeMark(a)},emph:function(r,e,t,n){var i=t.entering,a=r.schema.marks.emph;i?r.openMark(a.create(n)):r.closeMark(a)},link:function(r,e,t,n){var i=t.entering,a=r.schema.marks.link,o=e,l=o.destination,c=o.title;if(i){var f=I({linkUrl:l,title:c},n);r.openMark(a.create(f))}else r.closeMark(a)},softbreak:function(r,e){if(e.parent.type==="paragraph"){var t=e.prev,n=e.next;t&&!Dw(t)&&r.closeNode(),n&&!Dw(n)&&r.openNode(r.schema.nodes.paragraph)}},table:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.table,n):r.closeNode()},tableHead:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.tableHead,n):r.closeNode()},tableBody:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.tableBody,n):r.closeNode()},tableRow:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.tableRow,n):r.closeNode()},tableCell:function(r,e,t){var n=t.entering;if(!e.ignored){var i=function(y){return y&&(Gh(y)||jh(r,y))};if(n){var a=r.schema.nodes,o=a.tableHeadCell,l=a.tableBodyCell,c=a.paragraph,f=e.parent.parent,h=f.type==="tableHead"?o:l,p=f.parent,v=(p.columns[e.startIdx]||{}).align,g=I({},e.attrs);v&&(g.align=v),r.openNode(h,g),i(e.firstChild)&&r.openNode(c)}else i(e.lastChild)&&r.closeNode(),r.closeNode()}},strike:function(r,e,t,n){var i=t.entering,a=r.schema.marks.strike;i?r.openMark(a.create(n)):r.closeMark(a)},code:function(r,e,t,n){var i=r.schema.marks.code;r.openMark(i.create(n)),r.addText(tu(e.literal||"")),r.closeMark(i)},customBlock:function(r,e){var t=r.schema.nodes,n=t.customBlock,i=t.paragraph,a=e,o=a.info,l=a.literal;r.openNode(n,{info:o}),r.addText(tu(l||"")),r.closeNode(),e.next||(r.openNode(i),r.closeNode())},frontMatter:function(r,e){r.openNode(r.schema.nodes.frontMatter),r.addText(e.literal),r.closeNode()},htmlInline:function(r,e){var t=e.literal,n=t.match(so),i=n[1],a=n[3],o=(i||a).toLowerCase(),l=r.schema.marks[o],c=ca(t);if(l!=null&&l.spec.attrs.htmlInline)if(i){var f=Uh(c);r.openMark(l.create({htmlAttrs:f}))}else r.closeMark(l);else{var h=Ske[o];h&&h(r,e,i)}},htmlBlock:function(r,e){var t=e.literal,n=document.createElement("div"),i=uH.test(t);if(i)r.openNode(r.schema.nodes.htmlComment),r.addText(e.literal),r.closeNode();else{var a=t.match(so),o=a[1],l=a[3],c=(o||l).toLowerCase(),f=r.schema.nodes[c],h=ca(t);if(f!=null&&f.spec.attrs.htmlBlock){var p=Uh(h),v=$T(e,c);r.addNode(f,{htmlAttrs:p,childrenHTML:v})}else n.innerHTML=h,uk(n),r.convertByDOMParser(n)}},customInline:function(r,e,t){var n=t.entering,i=t.skipChildren,a=e,o=a.info,l=a.firstChild,c=r.schema;if(o.indexOf("widget")!==-1&&n){var f=Dx(e);i(),r.addNode(c.nodes.widget,{info:o},[c.text(_x(o,f))])}else{var h="$$";n&&(h+=l?o+" ":o),r.addText(h)}}};function Mke(r){var e=Object.keys(r),t=I({},Nw),n=new cv({gfm:!0,nodeId:!0,convertors:r}),i=n.getConvertors();return e.forEach(function(a){var o=Nw[a];o&&!mt(["htmlBlock","htmlInline"],a)&&(t[a]=function(l,c,f){f.origin=function(){return i[a](c,f,i)};var h=r[a](c,f),p;if(h){var v=Array.isArray(h)?h[0]:h,g=v.attributes,y=v.classNames;p={htmlAttrs:g,classNames:y}}o(l,c,f,p)})}),t}function Oke(r,e){return r.isText&&e.isText&&ve.sameSet(r.marks,e.marks)?r.withText(r.text+e.text):!1}var Ake=function(){function r(e,t){this.schema=e,this.convertors=t,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=ve.none}return r.prototype.top=function(){return Ct(this.stack)},r.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},r.prototype.addText=function(e){if(e){var t=this.top().content,n=Ct(t),i=this.schema.text(e,this.marks),a=n&&Oke(n,i);a?t[t.length-1]=a:t.push(i)}},r.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},r.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},r.prototype.addNode=function(e,t,n){var i=e.createAndFill(t,n,this.marks);return i?(this.push(i),i):null},r.prototype.openNode=function(e,t){this.stack.push({type:e,attrs:t,content:[]})},r.prototype.closeNode=function(){this.marks.length&&(this.marks=ve.none);var e=this.stack.pop(),t=e.type,n=e.attrs,i=e.content;return this.addNode(t,n,i)},r.prototype.convertByDOMParser=function(e){var t=this,n=ta.fromSchema(this.schema).parse(e);n.content.forEach(function(i){return t.push(i)})},r.prototype.closeUnmatchedHTMLInline=function(e,t){var n;if(!t&&e.type!=="htmlInline")for(var i=this.stack.length-1,a=i;a>=0;a-=1){var o=this.stack[a];if(!((n=o.attrs)===null||n===void 0)&&n.rawHTML)o.content.length?this.closeNode():this.stack.pop();else break}},r.prototype.convert=function(e,t){for(var n=e.walker(),i=n.next(),a=function(){var l=i.node,c=i.entering,f=o.convertors[l.type],h=!1;if(f){var p={entering:c,leaf:!zF(l),getChildrenText:VF,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:`
`},skipChildren:function(){h=!0}};if(o.closeUnmatchedHTMLInline(l,c),f(o,l,p),(t==null?void 0:t.node)===l){var v=o.stack.reduce(function(g,y){return g+y.content.reduce(function(x,T){return x+T.nodeSize},0)},0)+1;t.setMappedPos(v)}}h&&(n.resumeAt(l,!1),n.next()),i=n.next()},o=this;i;)a()},r.prototype.convertNode=function(e,t){return this.convert(e,t),this.stack.length?this.closeNode():null},r}();function _ke(r,e,t){var n=t[0],i=t[1];r.write(n),r.convertInline(e),r.write(i)}function Lke(r,e,t){var n=e.node,i=e.parent,a=t[0],o=t[1];r.stopNewline=!0,r.write(a),r.convertNode(n),r.write(o),(i==null?void 0:i.type.name)==="doc"&&(r.closeBlock(n),r.stopNewline=!1)}function Dke(r,e){var t=r.length,n="",i="";return e==="left"?(n=":",t-=1):e==="right"?(i=":",t-=1):e==="center"&&(n=":",i=":",t-=2),""+n+wu("-",Math.max(t,3))+i}var Kh={text:function(r,e){var t,n=e.node,i=(t=n.text)!==null&&t!==void 0?t:"";(n.marks||[]).some(function(a){return a.type.name==="link"})?r.text(Cu(i),!1):r.text(i)},paragraph:function(r,e){var t=e.node,n=e.parent,i=e.index,a=i===void 0?0:i;if(r.stopNewline)r.convertInline(t);else{var o=a===0,l=!o&&n.child(a-1),c=l&&l.childCount===0,f=a<n.childCount-1&&n.child(a+1),h=f&&f.type.name==="paragraph",p=t.childCount===0;if(p&&c)r.write(`<br>
`);else if(p&&!c&&!o){if((n==null?void 0:n.type.name)==="listItem"){var v=r.getDelim();r.setDelim(""),r.write("<br>"),r.setDelim(v)}r.write(`
`)}else r.convertInline(t),h?r.write(`
`):r.closeBlock(t)}},heading:function(r,e,t){var n=e.node,i=t.delim,a=n.attrs.headingType;a==="atx"?(r.write(i+" "),r.convertInline(n),r.closeBlock(n)):(r.convertInline(n),r.ensureNewLine(),r.write(i),r.closeBlock(n))},codeBlock:function(r,e,t){var n=e.node,i=t.delim,a=t.text,o=i,l=o[0],c=o[1];r.write(l),r.ensureNewLine(),r.text(a,!1),r.ensureNewLine(),r.write(c),r.closeBlock(n)},blockQuote:function(r,e,t){var n=e.node,i=e.parent,a=t.delim;(i==null?void 0:i.type.name)===n.type.name&&r.flushClose(1),r.wrapBlock(a,null,n,function(){return r.convertNode(n)})},bulletList:function(r,e,t){var n=e.node,i=t.delim;r.convertList(n,wu(" ",4),function(){return i+" "})},orderedList:function(r,e){var t=e.node,n=t.attrs.order||1;r.convertList(t,wu(" ",4),function(i){var a=String(n+i);return a+". "})},listItem:function(r,e){var t=e.node,n=t.attrs,i=n.task,a=n.checked;i&&r.write("["+(a?"x":" ")+"] "),r.convertNode(t)},image:function(r,e,t){var n=t.attrs;r.write("!["+(n==null?void 0:n.altText)+"]("+(n==null?void 0:n.imageUrl)+")")},thematicBreak:function(r,e,t){var n=e.node,i=t.delim;r.write(i),r.closeBlock(n)},table:function(r,e){var t=e.node;r.convertNode(t),r.closeBlock(t)},tableHead:function(r,e,t){var n=e.node,i=t.delim,a=n.firstChild;r.convertNode(n);var o=i!=null?i:"";!i&&a&&a.forEach(function(l){var c=l.textContent,f=l.attrs,h=Dke(c,f.align);o+="| "+h+" "}),r.write(o+"|"),r.ensureNewLine()},tableBody:function(r,e){var t=e.node;r.convertNode(t)},tableRow:function(r,e){var t=e.node;r.convertNode(t),r.write("|"),r.ensureNewLine()},tableHeadCell:function(r,e,t){var n=e.node,i=t.delim,a=i===void 0?"| ":i;r.write(a),r.convertTableCell(n),r.write(" ")},tableBodyCell:function(r,e,t){var n=e.node,i=t.delim,a=i===void 0?"| ":i;r.write(a),r.convertTableCell(n),r.write(" ")},customBlock:function(r,e,t){var n=e.node,i=t.delim,a=t.text,o=i,l=o[0],c=o[1];r.write(l),r.ensureNewLine(),r.text(a,!1),r.ensureNewLine(),r.write(c),r.closeBlock(n)},frontMatter:function(r,e,t){var n=e.node,i=t.text;r.text(i,!1),r.closeBlock(n)},widget:function(r,e,t){var n=t.text;r.write(n)},html:function(r,e,t){var n=e.node,i=t.text;r.write(i),n.attrs.htmlBlock&&r.closeBlock(n)},htmlComment:function(r,e,t){var n=e.node,i=t.text;r.write(i),r.closeBlock(n)}};function Nke(r,e){var t=e.state,n=e.nodeInfo,i=e.params,a=i.rawHTML;a?aa(r,["heading","codeBlock"])>-1?_ke(t,n.node,a):aa(r,["image","thematicBreak"])>-1?t.write(a):Lke(t,n,a):Kh[r](t,n,i)}function Iw(r,e){var t=r.text,n=/`+/g,i=0;if(r.isText&&t)for(var a=n.exec(t);a;)i=Math.max(i,a[0].length),a=n.exec(t);for(var o=i>0&&e>0?" `":"`",l=0;l<i;l+=1)o+="`";return i>0&&e<0&&(o+=" "),o}function Lr(r){return r?["<"+r+">","</"+r+">"]:null}function Xo(r){return r?"<"+r+">":null}function Yo(r){return r?"</"+r+">":null}var Zo={heading:function(r){var e=r.node,t=e.attrs,n=t.level,i=wu("#",n);return t.headingType==="setext"&&(i=n===1?"===":"---"),{delim:i,rawHTML:Lr(t.rawHTML)}},codeBlock:function(r){var e=r.node,t=e,n=t.attrs,i=t.textContent;return{delim:["```"+(n.language||""),"```"],rawHTML:Lr(n.rawHTML),text:i}},blockQuote:function(r){var e=r.node;return{delim:"> ",rawHTML:Lr(e.attrs.rawHTML)}},bulletList:function(r,e){var t=r.node,n=e.inTable,i=t.attrs.rawHTML;return n&&(i=i||"ul"),{delim:"*",rawHTML:Lr(i)}},orderedList:function(r,e){var t=r.node,n=e.inTable,i=t.attrs.rawHTML;return n&&(i=i||"ol"),{rawHTML:Lr(i)}},listItem:function(r,e){var t=r.node,n=e.inTable,i=t.attrs,a=i.task,o=i.checked,l=t.attrs.rawHTML;n&&(l=l||"li");var c=a?' class="task-list-item'+(o?" checked":"")+'"':"",f=a?" data-task"+(o?" data-task-checked":""):"";return{rawHTML:l?["<"+l+c+f+">","</"+l+">"]:null}},table:function(r){var e=r.node;return{rawHTML:Lr(e.attrs.rawHTML)}},tableHead:function(r){var e=r.node;return{rawHTML:Lr(e.attrs.rawHTML)}},tableBody:function(r){var e=r.node;return{rawHTML:Lr(e.attrs.rawHTML)}},tableRow:function(r){var e=r.node;return{rawHTML:Lr(e.attrs.rawHTML)}},tableHeadCell:function(r){var e=r.node;return{rawHTML:Lr(e.attrs.rawHTML)}},tableBodyCell:function(r){var e=r.node;return{rawHTML:Lr(e.attrs.rawHTML)}},image:function(r){var e=r.node,t=e.attrs,n=t.rawHTML,i=t.altText,a=t.imageUrl.replace(/&amp;/g,"&"),o=i?' alt="'+$a(i)+'"':"";return{rawHTML:n?"<"+n+' src="'+$a(a)+'"'+o+">":null,attrs:{altText:Cu(i||""),imageUrl:a}}},thematicBreak:function(r){var e=r.node;return{delim:"***",rawHTML:Xo(e.attrs.rawHTML)}},customBlock:function(r){var e=r.node,t=e,n=t.attrs,i=t.textContent;return{delim:["$$"+n.info,"$$"],text:i}},frontMatter:function(r){var e=r.node;return{text:e.textContent}},widget:function(r){var e=r.node;return{text:e.textContent}},strong:function(r,e,t){var n=r.node,i=e.entering,a=n.attrs.rawHTML,o="**";return t||(o=i?"<strong>":"</strong>"),{delim:o,rawHTML:i?Xo(a):Yo(a)}},emph:function(r,e,t){var n=r.node,i=e.entering,a=n.attrs.rawHTML,o="*";return t||(o=i?"<em>":"</em>"),{delim:o,rawHTML:i?Xo(a):Yo(a)}},strike:function(r,e,t){var n=r.node,i=e.entering,a=n.attrs.rawHTML,o="~~";return t||(o=i?"<del>":"</del>"),{delim:o,rawHTML:i?Xo(a):Yo(a)}},link:function(r,e){var t=r.node,n=e.entering,i=t.attrs,a=i.title,o=i.rawHTML,l=i.linkUrl.replace(/&amp;/g,"&"),c=a?' title="'+$a(a)+'"':"";return n?{delim:"[",rawHTML:o?"<"+o+' href="'+$a(l)+'"'+c+">":null}:{delim:"]("+l+(a?" "+_F(Cu(a)):"")+")",rawHTML:Yo(o)}},code:function(r,e){var t=r.node,n=r.parent,i=r.index,a=i===void 0?0:i,o=e.entering,l=o?Iw(n.child(a),-1):Iw(n.child(a-1),1),c=o?Xo(t.attrs.rawHTML):Yo(t.attrs.rawHTML);return{delim:l,rawHTML:c}},htmlComment:function(r){var e=r.node;return{text:e.textContent}},html:function(r,e){var t=r.node,n=e.entering,i=t.type.name,a=t.attrs.htmlAttrs,o="<"+i,l="</"+i+">";return Object.keys(a).forEach(function(c){o+=" "+c+'="'+a[c].replace(/"/g,"'")+'"'}),o+=">",t.attrs.htmlInline?{rawHTML:n?o:l}:{text:""+o+t.attrs.childrenHTML+l}}},Rw={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function Ike(r){var e={},t=Object.keys(Kh);return t.forEach(function(n){e[n]=function(i,a){var o=Kh[n];if(o){var l=r[n],c=l?l(a,{inTable:i.inTable}):{};Nke(n,{state:i,nodeInfo:a,params:c})}}}),e}function Rke(r){var e={},t=Object.keys(Rw);return t.forEach(function(n){e[n]=function(i,a,o){var l=Rw[n],c=r[n],f=c&&i&&!qr(a),h=f?c(i,{entering:a},o):{};return I(I({},h),l)}}),e}function Pke(r){var e=Object.keys(r);e.forEach(function(i){var a=Zo[i],o=r[i];a?Zo[i]=function(l,c){return c.origin=function(){return a(l,c)},o(l,c)}:Zo[i]=o,delete r[i]});var t=Ike(Zo),n=Rke(Zo);return{nodeTypeConvertors:t,markTypeConvertors:n}}var Bke=function(){function r(e){var t=e.nodeTypeConvertors,n=e.markTypeConvertors;this.nodeTypeConvertors=t,this.markTypeConvertors=n,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return r.prototype.getMarkConvertor=function(e){var t=e.attrs.htmlInline?"html":e.type.name;return this.markTypeConvertors[t]},r.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},r.prototype.isBetweenSpaces=function(e,t){var n,i,a=e.content,o=t===0||NF((n=a.child(t-1).text)!==null&&n!==void 0?n:Eb),l=t>=a.childCount-1||DF((i=a.child(t+1).text)!==null&&i!==void 0?i:Eb);return o&&l},r.prototype.markText=function(e,t,n,i){var a=this.getMarkConvertor(e);if(a){var o=this.isBetweenSpaces(n,t?i:i-1),l=a({node:e,parent:n,index:i},t,o),c=l.delim,f=l.rawHTML;return f||c}return""},r.prototype.setDelim=function(e){this.delim=e},r.prototype.getDelim=function(){return this.delim},r.prototype.flushClose=function(e){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+=`
`),e||(e=2),e>1){var t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(var i=1;i<e;i+=1)this.result+=t+`
`}this.closed=!1}},r.prototype.wrapBlock=function(e,t,n,i){var a=this.getDelim();this.write(t||e),this.setDelim(this.getDelim()+e),i(),this.setDelim(a),this.closeBlock(n)},r.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+=`
`)},r.prototype.write=function(e){e===void 0&&(e=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),e&&(this.result+=e)},r.prototype.closeBlock=function(e){this.closed=e},r.prototype.text=function(e,t){t===void 0&&(t=!0);for(var n=e.split(`
`),i=0;i<n.length;i+=1)this.write(),this.result+=t?AF(n[i]):n[i],i!==n.length-1&&(this.result+=`
`)},r.prototype.convertBlock=function(e,t,n){var i=e.type.name,a=this.nodeTypeConvertors[i],o={node:e,parent:t,index:n};e.attrs.htmlBlock?this.nodeTypeConvertors.html(this,o):a&&a(this,o)},r.prototype.convertInline=function(e){var t=this,n=[],i="",a=function(o,l,c){var f=o?o.marks:[],h=i;i="";var p=o&&o.isText&&f.some(function(we){var De=t.getMarkConvertor(we),Se=De&&De();return Se&&Se.removedEnclosingWhitespace});if(p&&o&&o.text){var v=/^(\s*)(.*?)(\s*)$/m.exec(o.text),g=v[1],y=v[2],x=v[3];h+=g,i=x,(g||x)&&(o=y?o.withText(y):null,o||(f=n))}for(var T=f.length&&Ct(f),E=T&&t.getMarkConvertor(T),L=E&&E(),N=L&&L.escape===!1,B=f.length-(N?1:0),_=0;_<B;_+=1){var y=f[_];if(L&&!L.mixable)break;for(var z=0;z<n.length;z+=1){var K=n[z];if(L&&!L.mixable)break;if(y.eq(K)){_>z?f=f.slice(0,z).concat(y).concat(f.slice(z,_)).concat(f.slice(_+1,B)):z>_&&(f=f.slice(0,_).concat(f.slice(_+1,z)).concat(y).concat(f.slice(z,B)));break}}}for(var $=0;$<Math.min(n.length,B)&&f[$].eq(n[$]);)$+=1;for(;$<n.length;){var le=n.pop();le&&t.text(t.markText(le,!1,e,c),!1)}if(h&&t.text(h),o){for(;n.length<B;){var y=f[n.length];n.push(y),t.text(t.markText(y,!0,e,c),!1)}N&&o.isText?t.text(t.markText(T,!0,e,c)+o.text+t.markText(T,!1,e,c+1),!1):t.convertBlock(o,e,c)}};e.forEach(a),a(null,null,e.childCount)},r.prototype.convertList=function(e,t,n){var i=this,a;this.closed&&this.closed.type===e.type?this.flushClose(3):this.tightList&&this.flushClose(1);var o=(a=e.attrs.tight)!==null&&a!==void 0?a:!0,l=this.tightList;this.tightList=o,e.forEach(function(c,f,h){h&&o&&i.flushClose(1),i.wrapBlock(t,n(h),e,function(){return i.convertBlock(c,e,h)})}),this.tightList=l},r.prototype.convertTableCell=function(e){var t=this;this.stopNewline=!0,this.inTable=!0,e.forEach(function(n,i,a){if(mt(["bulletList","orderedList"],n.type.name))t.convertBlock(n,e,a),t.closed=!1;else if(t.convertInline(n),a<e.childCount-1){var o=e.child(a+1);o.type.name==="paragraph"&&t.write("<br>")}}),this.stopNewline=!1,this.inTable=!1},r.prototype.convertNode=function(e,t){var n=this;return e.forEach(function(i,a,o){if(n.convertBlock(i,e,o),(t==null?void 0:t.node)===i){var l=n.result.split(`
`);t.setMappedPos([l.length,Ct(l).length+1])}}),this.result},r}(),Fke=function(){function r(e,t,n,i){var a=this;this.setMappedPos=function(o){a.mappedPosWhenConverting=o},this.schema=e,this.eventEmitter=i,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=Mke(n),this.toMdConvertors=Pke(t||{}),this.eventEmitter.listen("setFocusedNode",function(o){return a.focusedNode=o})}return r.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},r.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},r.prototype.toWysiwygModel=function(e){var t=new Ake(this.schema,this.toWwConvertors);return t.convertNode(e,this.getInfoForPosSync())},r.prototype.toMarkdownText=function(e){var t=new Bke(this.toMdConvertors),n=t.convertNode(e,this.getInfoForPosSync());return n=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",n),n},r}();function Hke(r){var e=r.plugin,t=r.eventEmitter,n=r.usageStatistics,i=r.instance,a={Plugin:Wt,PluginKey:Ms,Selection:he,TextSelection:ye},o={Decoration:qt,DecorationSet:Ge},l={Fragment:q},c={InputRule:bi,inputRules:Cx,undoInputRule:EB},f={keymap:ws},h={eventEmitter:t,usageStatistics:n,instance:i,pmState:a,pmView:o,pmModel:l,pmRules:c,pmKeymap:f,i18n:ae};if(bo(e)){var p=e[0],v=e[1],g=v===void 0?{}:v;return p(h,g)}return e(h)}function ck(r){var e=r.plugins,t=r.eventEmitter,n=r.usageStatistics,i=r.instance;return t.listen("mixinTableOffsetMapPrototype",gxe),(e!=null?e:[]).reduce(function(a,o){var l=Hke({plugin:o,eventEmitter:t,usageStatistics:n,instance:i});if(!l)throw new Error("The return value of the executed plugin is empty.");var c=l.markdownParsers,f=l.toHTMLRenderers,h=l.toMarkdownRenderers,p=l.markdownPlugins,v=l.wysiwygPlugins,g=l.wysiwygNodeViews,y=l.markdownCommands,x=l.wysiwygCommands,T=l.toolbarItems;return f&&(a.toHTMLRenderers=xu(a.toHTMLRenderers,f)),h&&(a.toMarkdownRenderers=xu(a.toMarkdownRenderers,h)),p&&(a.mdPlugins=a.mdPlugins.concat(p)),v&&(a.wwPlugins=a.wwPlugins.concat(v)),g&&(a.wwNodeViews=I(I({},a.wwNodeViews),g)),y&&(a.mdCommands=I(I({},a.mdCommands),y)),x&&(a.wwCommands=I(I({},a.wwCommands),x)),T&&(a.toolbarItems=a.toolbarItems.concat(T)),c&&(a.markdownParsers=I(I({},a.markdownParsers),c)),a},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var qke="data-task",$ke="data-task-disabled",Uke="checked";function zke(r){["htmlBlock","htmlInline"].forEach(function(e){r[e]&&Object.keys(r[e]).forEach(function(t){return qT(t)})})}var fk=function(){function r(e){var t=this;this.options=qp({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},e),this.eventEmitter=new lk;var n=Mx(this.options.linkAttributes),i=ck({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},a=i.toHTMLRenderers,o=i.markdownParsers,l=this.options,c=l.customHTMLRenderer,f=l.extendedAutolinks,h=l.referenceDefinition,p=l.frontMatter,v=l.customHTMLSanitizer,g={linkAttributes:n,customHTMLRenderer:I(I({},a),c),extendedAutolinks:f,referenceDefinition:h,frontMatter:p,sanitizer:v||ca};zke(g.customHTMLRenderer),this.options.events&&io(this.options.events,function(N,B){t.on(B,N)});var y=this.options,x=y.el,T=y.initialValue,E=y.theme,L=x.innerHTML;E!=="light"&&x.classList.add(J(E)),x.innerHTML="",this.toastMark=new PT("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:f,referenceDefinition:h,disallowDeepHeading:!0,frontMatter:p,customParser:o}),this.preview=new zT(this.eventEmitter,I(I({},g),{isViewer:!0})),iT(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),T?this.setMarkdown(T):L&&this.preview.setHTML(L),x.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return r.prototype.toggleTask=function(e){var t=e.target,n=getComputedStyle(t,":before");!t.hasAttribute($ke)&&t.hasAttribute(qke)&&Jp(n,e.offsetX,e.offsetY)&&(Xp(t,Uke),this.eventEmitter.emit("change",{source:"viewer",date:e}))},r.prototype.setMarkdown=function(e){var t=this.toastMark.getLineTexts(),n=t.length,i=Ct(t),a=[n,i.length+1],o=this.toastMark.editMarkdown([1,1],a,e||"");this.eventEmitter.emit("updatePreview",o)},r.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},r.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},r.prototype.destroy=function(){nT(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},r.prototype.isViewer=function(){return!0},r.prototype.isMarkdownMode=function(){return!1},r.prototype.isWysiwygMode=function(){return!1},r}();function ru(r){return r instanceof Ir}function dk(r){var e=["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"];return mt(e,r)}function Vke(r){var e=r.attrs,t=r.type,n=t.name,i={type:n,wysiwygNode:!0,literal:!dk(n)&&ru(r)?r.textContent:null},a={heading:{level:e.level},link:{destination:e.linkUrl,title:e.title},image:{destination:e.imageUrl},codeBlock:{info:e.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:e.order}},listItem:{type:"item",listData:{task:e.task,checked:e.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:e.align},tableBodyCell:{type:"tableCell",cellType:"body",align:e.align},customBlock:{info:e.info}},o=a[n],l=I(I({},i),o),c=r.attrs,f=c.htmlAttrs,h=c.childrenHTML;return f?I(I({},l),{attrs:f,childrenHTML:h}):l}var Wke={openTag:function(r,e){var t=r,n=t.tagName,i=t.classNames,a=t.attributes,o=document.createElement(n),l={};i&&(o.className=i.join(" ")),a&&(l=I(I({},l),a)),Zp(l,o),e.push(o)},closeTag:function(r,e){if(e.length>1){var t=e.pop();Ct(e).appendChild(t)}},html:function(r,e){Ct(e).insertAdjacentHTML("beforeend",r.content)},text:function(r,e){var t=document.createTextNode(r.content);Ct(e).appendChild(t)}},jke=function(){function r(e,t){var n=fv(e,t),i=I(I({},t.htmlBlock),t.htmlInline);this.customConvertorKeys=Object.keys(t).concat(Object.keys(i)),this.renderer=new cv({gfm:!0,convertors:I(I({},n),i)}),this.convertors=this.renderer.getConvertors()}return r.prototype.generateTokens=function(e){var t=Vke(e),n={entering:!0,leaf:ru(e)?e.isLeaf:!1,options:this.renderer.getOptions(),getChildrenText:function(){return ru(e)?e.textContent:""},skipChildren:function(){return!1}},i=this.convertors[e.type.name],a=i(t,n,this.convertors),o=bo(a)?a:[a];return(dk(e.type.name)||e.attrs.htmlInline)&&(n.entering=!1,o.push({type:"text",content:ru(e)?e.textContent:""}),o=o.concat(i(t,n,this.convertors))),o},r.prototype.toDOMNode=function(e){var t=this.generateTokens(e),n=[];return t.forEach(function(i){return Wke[i.type](i,n)}),n[0]},r.prototype.getToDOMNode=function(e){return mt(this.customConvertorKeys,e)?this.toDOMNode.bind(this):null},r}(),Gke=100,Kke=15,Vl=null,jd=null;function Pw(r,e){var t=e.syncScrollTop,n=e.releaseEventBlock;jd&&clearTimeout(jd),t(r),jd=setTimeout(function(){n()},Kke)}function Jke(r,e,t){var n=e-r,i=Date.now(),a=function(){var o=Date.now(),l=(o-i)/Gke,c;Vl&&clearTimeout(Vl),l<1?(c=r+n*Math.cos((1-l)*Math.PI/2),Pw(Math.ceil(c),t),Vl=setTimeout(a,1)):(Pw(e,t),Vl=null)};a()}var Xke=18,Yke=function(){function r(e,t,n){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0,this.timer=null;var i=t.previewContent,a=t.el;this.previewRoot=i,this.previewEl=a,this.mdEditor=e,this.editorView=e.view,this.toastMark=e.getToastMark(),this.eventEmitter=n,this.addScrollSyncEvent()}return r.prototype.addScrollSyncEvent=function(){var e=this;this.eventEmitter.listen("afterPreviewRender",function(){e.clearTimer(),e.timer=setTimeout(function(){e.syncPreviewScrollTop(!0)},200)}),this.eventEmitter.listen("scroll",function(t,n){e.active&&(t==="editor"&&e.blockedScroll!=="editor"?e.syncPreviewScrollTop():t==="preview"&&e.blockedScroll!=="preview"&&e.syncEditorScrollTop(n))}),this.eventEmitter.listen("toggleScrollSync",function(t){e.active=t})},r.prototype.getMdNodeAtPos=function(e,t){var n=e.content.findIndex(t.pos),i=n.index;return this.toastMark.findFirstNodeAtLine(i+1)},r.prototype.getScrollTopByCaretPos=function(){var e=this.mdEditor.getSelection(),t=this.toastMark.findFirstNodeAtLine(e[0][0]),n=this.previewEl.clientHeight,i=Ud(this.previewRoot,t).el,a=Du(i,this.previewRoot)||i.offsetTop,o=i.clientHeight,l=a+o-n*.5;this.latestEditorScrollTop=null;var c=i.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top;return c<n?null:l},r.prototype.syncPreviewScrollTop=function(e){e===void 0&&(e=!1);var t=this,n=t.editorView,i=t.previewEl,a=t.previewRoot,o=n.dom.getBoundingClientRect(),l=o.left,c=o.top,f=n.posAtCoords({left:l,top:c}),h=n.state.doc,p=this.getMdNodeAtPos(h,f);if(!(!p||PF(p))){var v=i.scrollTop,g=n.dom,y=g.scrollTop,x=g.scrollHeight,T=g.clientHeight,E=g.children,L=x-y<=T+Xke,N=L?i.scrollHeight:0;if(y&&!L){if(e){var B=this.getScrollTopByCaretPos();if(!B)return;N=B}else{var _=Ud(this.previewRoot,p),z=_.el,K=_.mdNode,$=Cw(h,K,E),le=$.height,we=$.rect,De=Du(z,a)||z.offsetTop,Se=z.clientHeight,jt=c>we.top?Math.min((c-we.top)/le,1):0;N=De+Se*jt}N=this.getResolvedScrollTop("editor",y,N,v),this.latestEditorScrollTop=y}N!==v&&this.run("editor",N,v)}},r.prototype.syncEditorScrollTop=function(e){var t=this,n=t.toastMark,i=t.editorView,a=t.previewRoot,o=t.previewEl,l=i.dom,c=i.state,f=o.scrollTop,h=o.clientHeight,p=o.scrollHeight,v=p-f<=h,g=l.scrollTop,y=v?l.scrollHeight:0;if(f&&e&&!v){if(e=GCe(e,a),!e.getAttribute("data-nodeid"))return;var x=l.children,T=Number(e.getAttribute("data-nodeid")),E=Ud(this.previewRoot,n.findNodeById(T)),L=E.mdNode,N=E.el,B=_s(L);y=x[B-1].offsetTop;var _=Cw(c.doc,L,x).height,z=txe(N,a,T),K=z.nodeHeight,$=z.offsetTop;y+=JCe(f,$,K,_),y=this.getResolvedScrollTop("preview",f,y,g),this.latestPreviewScrollTop=f}y!==g&&this.run("preview",y,g)},r.prototype.getResolvedScrollTop=function(e,t,n,i){var a=e==="editor"?this.latestEditorScrollTop:this.latestPreviewScrollTop;return a===null?n:a<t?Math.max(n,i):Math.min(n,i)},r.prototype.run=function(e,t,n){var i=this,a;e==="editor"?(a=this.previewEl,this.blockedScroll="preview"):(a=this.editorView.dom,this.blockedScroll="editor");var o={syncScrollTop:function(l){return a.scrollTop=l},releaseEventBlock:function(){return i.blockedScroll=null}};Jke(n,t,o)},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.destroy=function(){this.clearTimer(),this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},r}(),Zke={getPopupInitialValues:function(r,e){var t=e.popupName;return t==="link"?{linkText:r.getSelectedText()}:{}}};function Qke(r){r.eventEmitter.listen("query",function(e,t){return Zke[e](r,t)})}var hk=function(){function r(e){var t=this;this.initialHTML=e.el.innerHTML,e.el.innerHTML="",this.options=qp({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},e);var n=this.options,i=n.customHTMLRenderer,a=n.extendedAutolinks,o=n.referenceDefinition,l=n.frontMatter,c=n.customMarkdownRenderer,f=n.useCommandShortcut,h=n.initialEditType,p=n.widgetRules,v=n.customHTMLSanitizer;this.mode=h||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.i18n=ae,this.i18n.setCode(this.options.language),this.eventEmitter=new lk,jF(p);var g=Mx(this.options.linkAttributes);this.pluginInfo=ck({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this});var y=this.pluginInfo,x=y.toHTMLRenderers,T=y.toMarkdownRenderers,E=y.mdPlugins,L=y.wwPlugins,N=y.wwNodeViews,B=y.mdCommands,_=y.wwCommands,z=y.markdownParsers,K={linkAttributes:g,customHTMLRenderer:xu(x,i),extendedAutolinks:a,referenceDefinition:o,frontMatter:l,sanitizer:v||ca},$=new jke(g,K.customHTMLRenderer),le=qCe(K.customHTMLRenderer,K.sanitizer,$);this.toastMark=new PT("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:a,referenceDefinition:o,disallowDeepHeading:!0,frontMatter:l,customParser:z}),this.mdEditor=new Kq(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:f,mdPlugins:E}),this.preview=new zT(this.eventEmitter,I(I({},K),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new fke(this.eventEmitter,{toDOMAdaptor:$,useCommandShortcut:f,htmlSchemaMap:le,linkAttributes:g,wwPlugins:L,wwNodeViews:N}),this.convertor=new Fke(this.wwEditor.getSchema(),I(I({},T),c),fv(g,K.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHTML,!1),this.commandManager=new xke(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,function(){return t.mode}),this.options.usageStatistics&&EF(),this.scrollSync=new Yke(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(B,_),Qke(this),this.options.hooks&&io(this.options.hooks,function(we,De){return t.addHook(De,we)}),this.options.events&&io(this.options.events,function(we,De){return t.on(De,we)}),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return r.prototype.addInitEvent=function(){var e=this;this.on("needChangeMode",this.changeMode.bind(this)),this.on("loadUI",function(){if(e.height!=="auto"){var t=Math.min(parseInt(e.minHeight,10),parseInt(e.height,10)-75)+"px";e.setMinHeight(t)}}),yH(this.eventEmitter)},r.prototype.addInitCommand=function(e,t){var n=this,i=function(a,o){Object.keys(o).forEach(function(l){n.addCommand(a,l,o[l])})};this.addCommand("markdown","toggleScrollSync",function(a){return n.eventEmitter.emit("toggleScrollSync",a.active),!0}),i("markdown",e),i("wysiwyg",t)},r.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},r.factory=function(e){return e.viewer?new fk(e):new r(e)},r.setLanguage=function(e,t){ae.setLanguage(e,t)},r.prototype.changePreviewStyle=function(e){this.mdPreviewStyle!==e&&(this.mdPreviewStyle=e,this.eventEmitter.emit("changePreviewStyle",e))},r.prototype.exec=function(e,t){this.commandManager.exec(e,t)},r.prototype.addCommand=function(e,t,n){var i=this,a=function(o){o===void 0&&(o={});var l=(e==="markdown"?i.mdEditor:i.wwEditor).view;n(o,l.state,l.dispatch,l)};this.commandManager.addCommand(e,t,a)},r.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},r.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},r.prototype.removeHook=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.focus=function(){this.getCurrentModeEditor().focus()},r.prototype.blur=function(){this.getCurrentModeEditor().blur()},r.prototype.moveCursorToEnd=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToEnd(e)},r.prototype.moveCursorToStart=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToStart(e)},r.prototype.setMarkdown=function(e,t){if(e===void 0&&(e=""),t===void 0&&(t=!0),this.mdEditor.setMarkdown(e,t),this.isWysiwygMode()){var n=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(i,t)}},r.prototype.setHTML=function(e,t){e===void 0&&(e=""),t===void 0&&(t=!0);var n=document.createElement("div");n.innerHTML=vH(e);var i=ta.fromSchema(this.wwEditor.schema).parse(n);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),t):this.wwEditor.setModel(i,t)},r.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},r.prototype.getHTML=function(){var e=this;this.eventEmitter.holdEventInvoke(function(){if(e.isMarkdownMode()){var i=e.toastMark.getRootNode(),a=e.convertor.toWysiwygModel(i);e.wwEditor.setModel(a)}});var t=Qp(this.wwEditor.view.dom.innerHTML);if(this.placeholder){var n=new RegExp('<span class="placeholder[^>]+>'+this.placeholder+"</span>","i");return t.replace(n,"")}return t},r.prototype.insertText=function(e){this.getCurrentModeEditor().replaceSelection(e)},r.prototype.setSelection=function(e,t){this.getCurrentModeEditor().setSelection(e,t)},r.prototype.replaceSelection=function(e,t,n){this.getCurrentModeEditor().replaceSelection(e,t,n)},r.prototype.deleteSelection=function(e,t){this.getCurrentModeEditor().deleteSelection(e,t)},r.prototype.getSelectedText=function(e,t){return this.getCurrentModeEditor().getSelectedText(e,t)},r.prototype.getRangeInfoOfNode=function(e){return this.getCurrentModeEditor().getRangeInfoOfNode(e)},r.prototype.addWidget=function(e,t,n){this.getCurrentModeEditor().addWidget(e,t,n)},r.prototype.replaceWithWidget=function(e,t,n){this.getCurrentModeEditor().replaceWithWidget(e,t,n)},r.prototype.setHeight=function(e){var t=this.options.el;Pn(e)&&(e==="auto"?rn(t,"auto-height"):Nr(t,"auto-height"),this.setMinHeight(this.getMinHeight())),on(t,{height:e}),this.height=e},r.prototype.getHeight=function(){return this.height},r.prototype.setMinHeight=function(e){if(e!==this.minHeight){var t=this.height||this.options.height;t!=="auto"&&this.options.el.querySelector("."+J("main"))&&(e=Math.min(parseInt(e,10),parseInt(t,10)-75)+"px");var n=parseInt(e,10);this.minHeight=e,this.wwEditor.setMinHeight(n),this.mdEditor.setMinHeight(n),this.preview.setMinHeight(n)}},r.prototype.getMinHeight=function(){return this.minHeight},r.prototype.isMarkdownMode=function(){return this.mode==="markdown"},r.prototype.isWysiwygMode=function(){return this.mode==="wysiwyg"},r.prototype.isViewer=function(){return!1},r.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},r.prototype.changeMode=function(e,t){if(this.mode!==e){if(this.mode=e,this.isWysiwygMode()){var n=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(i)}else{var i=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),!t)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",e),!t){var a=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&On(a)?this.wwEditor.setSelection(a):Array.isArray(a)&&this.mdEditor.setSelection(a)}}},r.prototype.destroy=function(){var e=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach(function(t,n){return e.off(n)})},r.prototype.hide=function(){this.eventEmitter.emit("hide")},r.prototype.show=function(){this.eventEmitter.emit("show")},r.prototype.setScrollTop=function(e){this.getCurrentModeEditor().setScrollTop(e)},r.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},r.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},r.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},r.prototype.setPlaceholder=function(e){this.placeholder=e,this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},r.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},r.prototype.convertPosToMatchEditorMode=function(e,t,n){var i,a;t===void 0&&(t=e),n===void 0&&(n=this.mode);var o=this.mdEditor.view.state.doc,l=Array.isArray(e),c=Array.isArray(t),f=e,h=t;if(l!==c)throw new Error("Types of arguments must be same");return n==="markdown"&&!l&&!c?(i=Xl(o,e,t),f=i[0],h=i[1]):n==="wysiwyg"&&l&&c&&(a=$i(o,e,t),f=a[0],h=a[1]),[f,h]},r}();function eEe(r){for(var e,t,n=arguments,i=1,a="",o="",l=[0],c=function(h){i===1&&(h||(a=a.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?l.push(h?n[h]:a):i===3&&(h||a)?(l[1]=h?n[h]:a,i=2):i===2&&a==="..."&&h?l[2]=jp(l[2]||{},n[h]):i===2&&a&&!h?(l[2]=l[2]||{})[a]=!0:i>=5&&(i===5?((l[2]=l[2]||{})[t]=h?a?a+n[h]:n[h]:a,i=6):(h||a)&&(l[2][t]+=h?a+n[h]:a)),a=""},f=0;f<r.length;f++){f&&(i===1&&c(),c(f));for(let h=0;h<r[f].length;h++)e=r[f][h],i===1?e==="<"?(c(),l=[l,"",null],i=3):a+=e:i===4?a==="--"&&e===">"?(i=1,a=""):a=e+a[0]:o?e===o?o="":a+=e:e==='"'||e==="'"?o=e:e===">"?(c(),i=1):i&&(e==="="?(i=5,t=a,a=""):e==="/"&&(i<5||r[f][h+1]===">")?(c(),i===3&&(l=l[0]),i=l,(l=l[0]).push(this.apply(null,i.slice(1))),i=0):e===" "||e==="	"||e===`
`||e==="\r"?(c(),i=2):a+=e),i===3&&a==="!--"&&(i=4,l=l[0])}return c(),l.length>2?l.slice(1):l[1]}function tEe(r){return typeof r=="boolean"||r instanceof Boolean}var rEe=tEe,nEe=function(){function r(e){this.current=e,this.root=e,this.entering=!0}return r.prototype.walk=function(){var e=this,t=e.entering,n=e.current;return n?(t?n.firstChild?(this.current=n.firstChild,this.entering=!0):this.entering=!1:n===this.root?this.current=null:n.next?(this.current=n.next,this.entering=!0):(this.current=n.parent,this.entering=!1),{vnode:n,entering:t}):null},r}(),Br=function(){function r(e,t,n){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=e,this.props=t,this.children=n,this.props.children=n,t.ref&&(this.ref=t.ref,delete t.ref),t.key&&(this.key=t.key,delete t.key)}return r.prototype.walker=function(){return new nEe(this)},r.removalNodes=[],r}();function iEe(r){return new Br("TEXT_NODE",{nodeValue:r},[])}function Bw(r,e){var t=r;rEe(r)||r==null?t=null:(Pn(r)||On(r))&&(t=iEe(String(r))),t&&e.push(t)}function aEe(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var i=[];return t.forEach(function(a){Array.isArray(a)?a.forEach(function(o){Bw(o,i)}):Bw(a,i)}),new Br(r,e||{},i)}var ge=eEe.bind(aEe);function oEe(r){return r===Object(r)}var sEe=oEe;function lEe(r){var e;return r.type==="TEXT_NODE"?e=document.createTextNode(r.props.nodeValue):(e=document.createElement(r.type),vk(e,{},r.props)),e}function pk(r,e){r.node?e.removeChild(r.node):pk(r.firstChild,e)}function uEe(r,e,t){Object.keys(e).forEach(function(n){if(/^on/.test(n)){if(!t[n]||e[n]!==t[n]){var i=n.slice(2).toLowerCase();r.removeEventListener(i,e[n])}}else n!=="children"&&!t[n]&&!cH(r)&&r.removeAttribute(n)}),vk(r,e,t,function(n){return!Up(e[n],t[n])})}var cEe=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function vk(r,e,t,n){Object.keys(t).forEach(function(i){if(!n||n(i))if(/^on/.test(i)){var a=i.slice(2).toLowerCase();r.addEventListener(a,t[i])}else i==="nodeValue"?r[i]=t[i]:i==="style"&&sEe(t[i])?fEe(r,e[i],t[i]):i!=="children"&&(t[i]===!1?r.removeAttribute(i):r.setAttribute(i,t[i]))})}function fEe(r,e,t){e&&Object.keys(e).forEach(function(n){r.style[n]=""}),Object.keys(t).forEach(function(n){var i=t[n];r.style[n]=On(i)&&!cEe.test(n)?i+"px":i})}function pv(r){if(Br.removalNodes.forEach(function(a){return Hw(a)}),r){for(var e=void 0,t=r.walker();e=t.walk();)if(r=e.vnode,e.entering)Hw(r);else if(yr(r.type)){var n=r.component;if(!r.old&&n.mounted&&n.mounted(),r.old&&n.updated){var i=n.prevProps||{};n.updated(i)}}}}function Fw(r){for(var e=r.parent;!e.node;)e=e.parent;return e.node}function Hw(r){if(!(!r||!r.parent)){if(r.node){var e=Fw(r);r.effect==="A"?e.appendChild(r.node):r.effect==="U"&&uEe(r.node,r.old.props,r.props)}if(r.effect==="D"){for(var t=void 0,n=r.walker();t=n.walk();)if(r=t.vnode,!t.entering)if(yr(r.type)){var i=r.component;i.beforeDestroy&&i.beforeDestroy()}else{var e=Fw(r);pk(r,e)}}r.ref&&(r.component?r.ref(r.component):r.node&&r.ref(r.node))}}function dEe(r,e){var t=e.props,n=e.component;return n?(n.prevProps=n.props,n.props=e.props,n):new r(t)}function mk(r){for(var e=r;r&&!r.skip;){if(yr(r.type)){var t=dEe(r.type,r);t.vnode=r,r.component=t,r.props.children=r.children=[t.render()],qw(r)}else r.node||(r.node=lEe(r)),qw(r);if(r.firstChild)r=r.firstChild;else{for(;r&&r.parent&&!r.next&&(r=r.parent,r!==e););r=r.next}}}function hEe(r,e){return r&&e&&e.type===r.type&&(!e.key||e.key===r.key)}function qw(r){var e=r.children,t=r.old?r.old.firstChild:null,n=null;e.forEach(function(a,o){var l=hEe(t,a);l&&(a.old=t,a.parent=r,a.node=t.node,a.component=t.component,a.effect="U"),a&&!l&&(a.old=null,a.parent=r,a.node=null,a.effect="A"),t&&!l&&(Br.removalNodes.push(t),t.effect="D"),t&&(t=t.next),o===0?r.firstChild=a:a&&(n.next=a),n=a});var i=Ct(e);if(!e.length)for(;t;)Br.removalNodes.push(t),t.effect="D",t=t.next;for(;t&&i;)t&&i.old!==t&&(Br.removalNodes.push(t),t.effect="D",t=t.next)}function pEe(r){r.effect="D",Br.removalNodes=[r],pv(),Br.removalNodes=[]}function vEe(r){var e=r.vnode;e.effect="U",e.old=e,e.next&&(e.next.skip=!0),Br.removalNodes=[],mk(e),pv(e),e.next&&(e.next.skip=!1)}function mEe(r,e){var t=new Br(r.tagName.toLowerCase(),{},[e]);return t.node=r,Br.removalNodes=[],mk(t),pv(t),function(){return pEe(t.firstChild)}}var xt=function(){function r(e){this.props=e,this.state={},this.refs={}}return r.prototype.setState=function(e){var t=I(I({},this.state),e);Up(this.state,t)||(this.state=t,vEe(this))},r}(),gEe=function(r){G(e,r);function e(t){var n=r.call(this,t)||this;return n.state={hide:!1},n}return e.prototype.show=function(){this.setState({hide:!1})},e.prototype.hide=function(){this.setState({hide:!0})},e.prototype.render=function(){var t=this.props,n=t.editorType,i=t.eventEmitter;return ge($w||($w=me([`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `])),J("mode-switch"),this.state.hide?"none":"block",n==="markdown"?" active":"",function(){i.emit("needChangeMode","markdown")},ae.get("Markdown"),n==="wysiwyg"?" active":"",function(){i.emit("needChangeMode","wysiwyg")},ae.get("WYSIWYG"))},e}(xt),$w;function yEe(r,e){var t,n;e=e||0;function i(){n=Array.prototype.slice.call(arguments),window.clearTimeout(t),t=window.setTimeout(function(){r.apply(null,n)},e)}return i}var bEe=yEe,wEe=bEe;function CEe(r,e){var t,n=!0,i=function(h){r.apply(null,h),t=null},a,o,l;e=e||0,a=wEe(i,e);function c(){if(l=Array.prototype.slice.call(arguments),n){i(l),n=!1;return}o=Number(new Date),t=t||o,a(l),o-t>=e&&i(l)}function f(){n=!0,t=null}return c.reset=f,c}var xEe=CEe,gk=function(){if(typeof Map<"u")return Map;function r(e,t){var n=-1;return e.some(function(i,a){return i[0]===t?(n=a,!0):!1}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var n=r(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(t,n){var i=r(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},e.prototype.delete=function(t){var n=this.__entries__,i=r(n,t);~i&&n.splice(i,1)},e.prototype.has=function(t){return!!~r(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,n){n===void 0&&(n=null);for(var i=0,a=this.__entries__;i<a.length;i++){var o=a[i];t.call(n,o[1],o[0])}},e}()}(),Jh=typeof window<"u"&&typeof document<"u"&&window.document===document,Iu=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),TEe=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Iu):function(r){return setTimeout(function(){return r(Date.now())},1e3/60)}}(),kEe=2;function EEe(r,e){var t=!1,n=!1,i=0;function a(){t&&(t=!1,r()),n&&l()}function o(){TEe(a)}function l(){var c=Date.now();if(t){if(c-i<kEe)return;n=!0}else t=!0,n=!1,setTimeout(o,e);i=c}return l}var SEe=20,MEe=["top","right","bottom","left","width","height","size","weight"],OEe=typeof MutationObserver<"u",AEe=function(){function r(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=EEe(this.refresh.bind(this),SEe)}return r.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},r.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},r.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},r.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},r.prototype.connect_=function(){!Jh||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),OEe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},r.prototype.disconnect_=function(){!Jh||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},r.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=t===void 0?"":t,i=MEe.some(function(a){return!!~n.indexOf(a)});i&&this.refresh()},r.getInstance=function(){return this.instance_||(this.instance_=new r),this.instance_},r.instance_=null,r}(),yk=function(r,e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];Object.defineProperty(r,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return r},po=function(r){var e=r&&r.ownerDocument&&r.ownerDocument.defaultView;return e||Iu},bk=Cc(0,0,0,0);function Ru(r){return parseFloat(r)||0}function Uw(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(n,i){var a=r["border-"+i+"-width"];return n+Ru(a)},0)}function _Ee(r){for(var e=["top","right","bottom","left"],t={},n=0,i=e;n<i.length;n++){var a=i[n],o=r["padding-"+a];t[a]=Ru(o)}return t}function LEe(r){var e=r.getBBox();return Cc(0,0,e.width,e.height)}function DEe(r){var e=r.clientWidth,t=r.clientHeight;if(!e&&!t)return bk;var n=po(r).getComputedStyle(r),i=_Ee(n),a=i.left+i.right,o=i.top+i.bottom,l=Ru(n.width),c=Ru(n.height);if(n.boxSizing==="border-box"&&(Math.round(l+a)!==e&&(l-=Uw(n,"left","right")+a),Math.round(c+o)!==t&&(c-=Uw(n,"top","bottom")+o)),!IEe(r)){var f=Math.round(l+a)-e,h=Math.round(c+o)-t;Math.abs(f)!==1&&(l-=f),Math.abs(h)!==1&&(c-=h)}return Cc(i.left,i.top,l,c)}var NEe=function(){return typeof SVGGraphicsElement<"u"?function(r){return r instanceof po(r).SVGGraphicsElement}:function(r){return r instanceof po(r).SVGElement&&typeof r.getBBox=="function"}}();function IEe(r){return r===po(r).document.documentElement}function REe(r){return Jh?NEe(r)?LEe(r):DEe(r):bk}function PEe(r){var e=r.x,t=r.y,n=r.width,i=r.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(a.prototype);return yk(o,{x:e,y:t,width:n,height:i,top:t,right:e+n,bottom:i+t,left:e}),o}function Cc(r,e,t,n){return{x:r,y:e,width:t,height:n}}var BEe=function(){function r(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Cc(0,0,0,0),this.target=e}return r.prototype.isActive=function(){var e=REe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},r.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},r}(),FEe=function(){function r(e,t){var n=PEe(t);yk(this,{target:e,contentRect:n})}return r}(),HEe=function(){function r(e,t,n){if(this.activeObservations_=[],this.observations_=new gk,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return r.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof po(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new BEe(e)),this.controller_.addObserver(this),this.controller_.refresh())}},r.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof po(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;!t.has(e)||(t.delete(e),t.size||this.controller_.removeObserver(this))}},r.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},r.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},r.prototype.broadcastActive=function(){if(!!this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(n){return new FEe(n.target,n.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},r.prototype.clearActive=function(){this.activeObservations_.splice(0)},r.prototype.hasActive=function(){return this.activeObservations_.length>0},r}(),wk=typeof WeakMap<"u"?new WeakMap:new gk,Ck=function(){function r(e){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=AEe.getInstance(),n=new HEe(e,t,this);wk.set(this,n)}return r}();["observe","unobserve","disconnect"].forEach(function(r){Ck.prototype[r]=function(){var e;return(e=wk.get(this))[r].apply(e,arguments)}});var qEe=function(){return typeof Iu.ResizeObserver<"u"?Iu.ResizeObserver:Ck}(),$Ee=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execCommand=function(t){var n=nn(t.target,"li");this.props.execCommand("heading",{level:Number(n.getAttribute("data-level"))})},e.prototype.render=function(){var t=this;return ge(Vw||(Vw=me([`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `],[`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `])),function(n){return t.execCommand(n)},ae.get("Headings"),[1,2,3,4,5,6].map(function(n){return ge(zw||(zw=me([`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `],[`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `])),n,"h"+n,ae.get("Heading"),n)}),ae.get("Paragraph"))},e}(xt),zw,Vw,xk=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.toggleTab=function(t,n){this.props.onClick(t,n)},e.prototype.render=function(){var t=this;return ge(jw||(jw=me([`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `],[`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `])),J("tabs"),this.props.tabs.map(function(n){var i=n.name,a=n.text,o=t.props.activeTab===i;return ge(Ww||(Ww=me([`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `],[`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `])),o?" active":"",function(l){return t.toggleTab(l,i)},ae.get(a),o?"true":"false",o?"0":"-1",ae.get(a))}))},e}(xt),Ww,jw,UEe="ui",zEe=function(r){G(e,r);function e(t){var n=r.call(this,t)||this;return n.initialize=function(i){i===void 0&&(i="file");var a=n.refs.url;a.value="",n.refs.altText.value="",n.refs.file.value="",Nr(a,"wrong"),n.setState({activeTab:i,file:null,fileNameElClassName:""})},n.execCommand=function(){n.state.activeTab==="file"?n.emitAddImageBlob():n.emitAddImage()},n.toggleTab=function(i,a){a!==n.state.activeTab&&n.initialize(a)},n.showFileSelectBox=function(){n.refs.file.click()},n.changeFile=function(i){var a=i.target.files;a!=null&&a.length&&n.setState({file:a[0]})},n.state={activeTab:"file",file:null,fileNameElClassName:""},n.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],n}return e.prototype.emitAddImageBlob=function(){var t=this,n=this.refs.file.files,i=this.refs.altText,a=" wrong";if(n!=null&&n.length){a="";var o=n.item(0),l=function(c,f){return t.props.execCommand("addImage",{imageUrl:c,altText:f||i.value})};this.props.eventEmitter.emit("addImageBlobHook",o,l,UEe)}this.setState({fileNameElClassName:a})},e.prototype.emitAddImage=function(){var t=this.refs.url,n=this.refs.altText,i=t.value,a=n.value||"image";if(Nr(t,"wrong"),!i.length){rn(t,"wrong");return}i&&this.props.execCommand("addImage",{imageUrl:i,altText:a})},e.prototype.preventSelectStart=function(t){t.preventDefault()},e.prototype.updated=function(){this.props.show||this.initialize()},e.prototype.render=function(){var t=this,n=this.state,i=n.activeTab,a=n.file,o=n.fileNameElClassName;return ge(Gw||(Gw=me([`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),ae.get("Insert image"),xk,this.tabs,i,this.toggleTab,i==="url"?"block":"none",ae.get("Image URL"),function(l){return t.refs.url=l},i==="file"?"block":"none",ae.get("Select image file"),J("file-name"),a?" has-file":o,this.showFileSelectBox,this.preventSelectStart,a?a.name:ae.get("No file"),J("file-select-button"),this.showFileSelectBox,ae.get("Choose a file"),this.changeFile,function(l){return t.refs.file=l},ae.get("Description"),function(l){return t.refs.altText=l},J("button-container"),J("close-button"),this.props.hidePopup,ae.get("Cancel"),J("ok-button"),this.execCommand,ae.get("OK"))},e}(xt),Gw,VEe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.execCommand=function(){var n=t.refs.url,i=t.refs.text;if(Nr(n,"wrong"),Nr(i,"wrong"),n.value.length<1){rn(n,"wrong");return}var a=qr(t.props.initialValues.linkUrl);if(a&&i.value.length<1){rn(i,"wrong");return}t.props.execCommand("addLink",{linkUrl:n.value,linkText:i.value})},t}return e.prototype.initialize=function(){var t=this.props.initialValues,n=t.linkUrl,i=t.linkText,a=this.refs.url,o=this.refs.text;Nr(a,"wrong"),Nr(o,"wrong","disabled"),o.removeAttribute("disabled"),n&&(rn(o,"disabled"),o.setAttribute("disabled","disabled")),a.value=n||"",o.value=i||""},e.prototype.mounted=function(){this.initialize()},e.prototype.updated=function(t){!t.show&&this.props.show&&this.initialize()},e.prototype.render=function(){var t=this;return ge(Kw||(Kw=me([`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),ae.get("Insert link"),ae.get("URL"),function(n){return t.refs.url=n},ae.get("Link text"),function(n){return t.refs.text=n},J("button-container"),J("close-button"),this.props.hidePopup,ae.get("Cancel"),J("ok-button"),this.execCommand,ae.get("OK"))},e}(xt),Kw,Jw=20,Xw=20,Yw=5,Zw=14,Qw=5,e0=9,WEe=1,jEe=1,t0=1,GEe=function(r){G(e,r);function e(t){var n=r.call(this,t)||this;return n.extendSelectionRange=function(i){var a=i.pageX,o=i.pageY,l=a-n.offsetRect.left,c=o-n.offsetRect.top,f=n.getSelectionRangeByOffset(l,c);n.setState(I({},f))},n.execCommand=function(){n.props.execCommand("addTable",{rowCount:n.state.rowIdx+1,columnCount:n.state.colIdx+1})},n.state={rowIdx:-1,colIdx:-1},n}return e.prototype.getDescription=function(){return this.state.colIdx===-1?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},e.prototype.getBoundByRange=function(t,n){return{width:(t+1)*Jw,height:(n+1)*Xw}},e.prototype.getRangeByOffset=function(t,n){return{colIdx:Math.floor(t/Jw),rowIdx:Math.floor(n/Xw)}},e.prototype.getTableRange=function(){var t=this.state,n=t.colIdx,i=t.rowIdx,a=Math.max(n,Qw),o=Math.max(i,Yw);return n>=Qw&&a<e0&&(a+=1),i>=Yw&&o<Zw&&(o+=1),{colIdx:a+1,rowIdx:o+1}},e.prototype.getSelectionAreaBound=function(){var t=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),n=t.width,i=t.height;return!n&&!i?{display:"none"}:{width:n-t0,height:i-t0,display:"block"}},e.prototype.getSelectionRangeByOffset=function(t,n){var i=this.getRangeByOffset(t,n);return i.rowIdx=Math.min(Math.max(i.rowIdx,WEe),Zw),i.colIdx=Math.min(Math.max(i.colIdx,jEe),e0),i},e.prototype.updated=function(){if(!this.props.show)this.setState({colIdx:-1,rowIdx:-1});else if(this.state.colIdx===-1&&this.state.rowIdx===-1){var t=this.refs.tableEl.getBoundingClientRect(),n=t.left,i=t.top;this.offsetRect={left:window.pageXOffset+n,top:window.pageYOffset+i}}},e.prototype.createTableArea=function(t){for(var n=t.colIdx,i=t.rowIdx,a=[],o=0;o<i;o+=1){for(var l=[],c=0;c<n;c+=1){var f=""+J("table-cell")+(o>0?"":" header");l.push(ge(r0||(r0=me(['<div class="','"></div>'],['<div class="','"></div>'])),f))}a.push(ge(n0||(n0=me(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),J("table-row"),l))}return ge(i0||(i0=me(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),J("table"),a)},e.prototype.render=function(){var t=this,n=this.getTableRange(),i=this.getSelectionAreaBound();return ge(a0||(a0=me([`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `],[`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `])),ae.get("Insert table"),J("table-selection"),function(a){return t.refs.tableEl=a},this.extendSelectionRange,this.execCommand,this.createTableArea(n),J("table-selection-layer"),i,J("table-description"),this.getDescription())},e}(xt),r0,n0,i0,a0,KEe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},e.prototype.updated=function(t){this.refs.el.replaceChild(this.props.body,t.body)},e.prototype.render=function(){var t=this;return ge(o0||(o0=me(["<div ref=","></div>"],["<div ref=","></div>"])),function(n){return t.refs.el=n})},e}(xt),o0;function Xh(r){return Pn(r)?XEe(r):r}function JEe(){var r=document.createElement("label"),e=document.createElement("input"),t=document.createElement("span");r.className="scroll-sync active",e.type="checkbox",e.checked=!0,t.className="switch";var n=function(i){return e.addEventListener("change",function(a){var o=a.target.checked;o?rn(r,"active"):Nr(r,"active"),i("toggleScrollSync",{active:o})})};return r.appendChild(e),r.appendChild(t),{name:"scrollSync",el:r,onMounted:n}}function XEe(r){var e;switch(r){case"heading":e={name:"heading",className:"heading",tooltip:ae.get("Headings"),state:"heading"};break;case"bold":e={name:"bold",className:"bold",command:"bold",tooltip:ae.get("Bold"),state:"strong"};break;case"italic":e={name:"italic",className:"italic",command:"italic",tooltip:ae.get("Italic"),state:"emph"};break;case"strike":e={name:"strike",className:"strike",command:"strike",tooltip:ae.get("Strike"),state:"strike"};break;case"hr":e={name:"hr",className:"hrline",command:"hr",tooltip:ae.get("Line"),state:"thematicBreak"};break;case"quote":e={name:"quote",className:"quote",command:"blockQuote",tooltip:ae.get("Blockquote"),state:"blockQuote"};break;case"ul":e={name:"ul",className:"bullet-list",command:"bulletList",tooltip:ae.get("Unordered list"),state:"bulletList"};break;case"ol":e={name:"ol",className:"ordered-list",command:"orderedList",tooltip:ae.get("Ordered list"),state:"orderedList"};break;case"task":e={name:"task",className:"task-list",command:"taskList",tooltip:ae.get("Task"),state:"taskList"};break;case"table":e={name:"table",className:"table",tooltip:ae.get("Insert table"),state:"table"};break;case"image":e={name:"image",className:"image",tooltip:ae.get("Insert image")};break;case"link":e={name:"link",className:"link",tooltip:ae.get("Insert link")};break;case"code":e={name:"code",className:"code",command:"code",tooltip:ae.get("Code"),state:"code"};break;case"codeblock":e={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:ae.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":e={name:"indent",className:"indent",command:"indent",tooltip:ae.get("Indent"),state:"indent"};break;case"outdent":e={name:"outdent",className:"outdent",command:"outdent",tooltip:ae.get("Outdent"),state:"outdent"};break;case"scrollSync":e=JEe();break;case"more":e={name:"more",className:"more",tooltip:ae.get("More")};break}return e.name!=="scrollSync"&&(e.className+=" "+J("toolbar-icons")),e}function vv(r,e){var t=e.el,n=e.pos,i=e.popup,a=e.initialValues;switch(r){case"heading":return{render:function(o){return ge(s0||(s0=me(["<"," ..."," />"],["<"," ..."," />"])),$Ee,o)},className:J("popup-add-heading"),fromEl:t,pos:n};case"link":return{render:function(o){return ge(l0||(l0=me(["<"," ..."," />"],["<"," ..."," />"])),VEe,o)},className:J("popup-add-link"),fromEl:t,pos:n,initialValues:a};case"image":return{render:function(o){return ge(u0||(u0=me(["<"," ..."," />"],["<"," ..."," />"])),zEe,o)},className:J("popup-add-image"),fromEl:t,pos:n};case"table":return{render:function(o){return ge(c0||(c0=me(["<"," ..."," />"],["<"," ..."," />"])),GEe,o)},className:J("popup-add-table"),fromEl:t,pos:n};case"customPopupBody":return i?I({render:function(o){return ge(f0||(f0=me(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),KEe,o,i.body)},fromEl:t,pos:n},i):null;default:return null}}function Pu(r){r.hidden=r.length===r.filter(function(e){return e.hidden}).length}function YEe(r,e){var t=function(n){return n.hidden=n.name==="scrollSync"&&e,n};return r.reduce(function(n,i){n.push(i.map(function(o){return t(Xh(o))}));var a=n[(n.length||1)-1];return a&&Pu(a),n},[])}function ZEe(r,e){r.forEach(function(t){t.forEach(function(n){return n.hidden=n.name==="scrollSync"&&e}),Pu(t)})}var s0,l0,u0,c0,f0,QEe=20,eSe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.handleMousedown=function(n){!nn(n.target,"."+J("popup"))&&!nn(n.target,t.props.info.fromEl)&&t.props.hidePopup()},t}return e.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown),this.props.eventEmitter.listen("closePopup",this.props.hidePopup)},e.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},e.prototype.updated=function(t){var n=this.props,i=n.show,a=n.info;if(i&&a.pos&&t.show!==i){var o=I({},a.pos),l=this.refs.el.offsetWidth,c=nn(this.refs.el,"."+J("toolbar")),f=c.offsetWidth;o.left+l>=f&&(o.left=f-l-QEe),Up(this.state.popupPos,o)||this.setState({popupPos:o})}},e.prototype.render=function(){var t=this,n=this.props,i=n.info,a=n.show,o=n.hidePopup,l=n.eventEmitter,c=n.execCommand,f=i||{},h=f.className,p=h===void 0?"":h,v=f.style,g=f.render,y=f.initialValues,x=y===void 0?{}:y,T=I(I({display:a?"block":"none"},v),this.state.popupPos);return ge(d0||(d0=me([`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `],[`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `])),J("popup"),p,T,function(E){return t.refs.el=E},J("popup-body"),g&&g({eventEmitter:l,show:a,hidePopup:o,execCommand:c,initialValues:x}))},e}(xt),d0,h0=6;function mv(r){return function(e){G(t,e);function t(n){var i=e.call(this,n)||this;return i.showTooltip=function(a){var o=i.props.item.tooltip;if(!i.props.disabled&&o){var l=i.getBound(a),c=l.left+h0+"px",f=l.top+h0+"px";on(i.props.tooltipRef.current,{display:"block",left:c,top:f}),i.props.tooltipRef.current.querySelector(".text").textContent=o}},i.hideTooltip=function(){on(i.props.tooltipRef.current,"display","none")},i.state={active:!1,disabled:n.disabled},i.addEvent(),i}return t.prototype.addEvent=function(){var n=this,i=this.props,a=i.item,o=i.eventEmitter;a.state&&o.listen("changeToolbarState",function(l){var c,f=l.toolbarState,h=(c=f[a.state])!==null&&c!==void 0?c:{},p=h.active,v=h.disabled;n.setState({active:!!p,disabled:v!=null?v:n.props.disabled})})},t.prototype.getBound=function(n){var i=Ux(n,nn(n,"."+J("toolbar"))),a=i.offsetLeft,o=i.offsetTop;return{left:a,top:n.offsetHeight+o}},t.prototype.render=function(){return ge(p0||(p0=me([`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `],[`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `])),r,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound,this.state.disabled||this.props.disabled)},t}(xt)}var p0,tSe=80,rSe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.execCommand=function(){var n=t.props,i=n.item,a=n.execCommand,o=n.setPopupInfo,l=n.getBound,c=n.eventEmitter,f=i.command,h=i.name,p=i.popup;if(f)a(f);else{var v=p?"customPopupBody":h,g=c.emit("query","getPopupInitialValues",{popupName:v})[0],y=vv(v,{el:t.refs.el,pos:l(t.refs.el),popup:p,initialValues:g});y&&o(y)}},t}return e.prototype.mounted=function(){this.setItemWidth()},e.prototype.updated=function(t){t.item.name!==this.props.item.name&&this.setItemWidth()},e.prototype.setItemWidth=function(){var t=this.props,n=t.setItemWidth,i=t.item;n&&n(i.name,Yp(this.refs.el)+(i.hidden?tSe:0))},e.prototype.render=function(){var t=this,n=this.props,i=n.hideTooltip,a=n.disabled,o=n.item,l=n.active,c=I({display:o.hidden?"none":null},o.style),f=""+(o.className||"")+(l?" active":"");return ge(v0||(v0=me([`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `],[`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `])),function(h){return t.refs.el=h},c,f,this.execCommand,this.showTooltip,i,!!a,o.text||o.tooltip||"",o.text||"")},e}(xt),nSe=mv(rSe),v0,iSe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.showPopup=function(){var n=vv("customPopupBody",{el:t.refs.el,pos:t.props.getBound(t.refs.el),popup:t.props.item.popup});n&&t.props.setPopupInfo(n)},t}return e.prototype.mounted=function(){var t=this.props,n=t.setItemWidth,i=t.item;this.refs.el.appendChild(i.el),n&&n(i.name,Yp(this.refs.el)),i.onMounted&&i.onMounted(this.props.execCommand)},e.prototype.updated=function(t){var n,i=this.props,a=i.item,o=i.active,l=i.disabled;(t.active!==o||t.disabled!==l)&&((n=a.onUpdated)===null||n===void 0||n.call(a,{active:o,disabled:l}))},e.prototype.render=function(){var t=this,n=this.props,i=n.disabled,a=n.item,o={display:a.hidden?"none":"inline-block"},l=function(c){return i?null:c};return ge(m0||(m0=me([`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `],[`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `])),function(c){return t.refs.el=c},o,J("toolbar-item-wrapper"),l(this.showPopup),l(this.showTooltip),l(this.props.hideTooltip))},e}(xt),aSe=mv(iSe),m0,Tk=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(){var t=this,n=this.props,i=n.group,a=n.hiddenDivider,o=i.hidden?{display:"none"}:null,l=a?{display:"none"}:null;return ge(y0||(y0=me([`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `])),J("toolbar-group"),o,i.map(function(c){var f=c.el?aSe:nSe;return ge(g0||(g0=me(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),f,c.name,t.props,c)}),J("toolbar-divider"),l)},e}(xt),g0,y0,oSe=4,sSe=function(r){G(e,r);function e(t){var n=r.call(this,t)||this;return n.handleClickDocument=function(i){var a=i.target;!nn(a,"."+J("dropdown-toolbar"))&&!nn(a,".more")&&n.setState({showDropdown:!1,dropdownPos:null})},n.showTooltip=function(){n.props.showTooltip(n.refs.el)},n.state={showDropdown:!1,dropdownPos:null},n}return e.prototype.getBound=function(){var t=this.props.getBound(this.refs.el);return t.top+=oSe,I(I({},t),{left:null,right:10})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.render=function(){var t=this,n=this.state,i=n.showDropdown,a=n.dropdownPos,o=this.props,l=o.disabled,c=o.item,f=o.items,h=o.hideTooltip,p=f.filter(function(y){return!y.hidden}),v=p.length?null:{display:"none"},g=i?null:{display:"none"};return ge(w0||(w0=me([`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `])),J("toolbar-group"),v,function(y){return t.refs.el=y},c.className,function(){return t.setState({showDropdown:!0})},this.showTooltip,h,l,J("dropdown-toolbar"),I(I({},g),a),function(y){return t.refs.dropdownEl=y},p.length?p.map(function(y,x){var T;return ge(b0||(b0=me([`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `],[`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `])),Tk,y,x===p.length-1||((T=p[x+1])===null||T===void 0?void 0:T.hidden),t.props)}):null)},e}(xt),lSe=mv(sSe),b0,w0,uSe=50,cSe=function(r){G(e,r);function e(t){var n=r.call(this,t)||this;return n.toggleTab=function(i,a){var o=n.props.eventEmitter;if(n.state.activeTab!==a){var l=a==="write"?"changePreviewTabWrite":"changePreviewTabPreview";o.emit(l),n.setState({activeTab:a})}},n.setItemWidth=function(i,a){n.itemWidthMap[i]=a},n.setPopupInfo=function(i){n.setState({showPopup:!0,popupInfo:i})},n.openPopup=function(i,a){a===void 0&&(a={});var o=n.refs.el.querySelector("."+J("toolbar-group")+" ."+i);if(o){var l=Ux(o,nn(o,"."+J("toolbar"))),c=l.offsetLeft,f=l.offsetTop,h=vv(i,{el:o,pos:{left:c,top:o.offsetHeight+f},initialValues:a});h&&n.setPopupInfo(h)}},n.hidePopup=function(){n.state.showPopup&&n.setState({showPopup:!1})},n.execCommand=function(i,a){var o=n.props.eventEmitter;o.emit("command",i,a),n.hidePopup()},n.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],n.itemWidthMap={},n.initialItems=YEe(t.toolbarItems||[],n.hiddenScrollSync()),n.state={items:n.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},n.tooltipRef={current:null},n.resizeObserver=new qEe(function(){return n.handleResize()}),n.addEvent(),n}return e.prototype.insertToolbarItem=function(t,n){var i=t.groupIndex,a=t.itemIndex,o=this.initialItems[i];n=Xh(n),o?o.splice(a,0,n):this.initialItems.push([n]),this.setState(this.classifyToolbarItems())},e.prototype.removeToolbarItem=function(t){var n=this;ao(this.initialItems,function(i){var a=!1;return ao(i,function(o,l){return o.name===t?(a=!0,i.splice(l,1),n.setState(n.classifyToolbarItems()),!1):!0}),!a})},e.prototype.addEvent=function(){var t=this,n=this.props.eventEmitter;this.handleResize=xEe(function(){t.setState({items:t.initialItems,dropdownItems:[]}),t.setState(t.classifyToolbarItems())},200),n.listen("openPopup",this.openPopup)},e.prototype.appendTooltipToRoot=function(){var t='<div class="'+J("tooltip")+`" style="display:none">
        <div class="arrow"></div>
        <span class="text"></span>
      </div>`;this.tooltipRef.current=$x(t,this.refs.el)},e.prototype.hiddenScrollSync=function(){return this.props.editorType==="wysiwyg"||this.props.previewStyle==="tab"},e.prototype.movePrevItemToDropdownToolbar=function(t,n,i,a){var o=function(c){var f=c.pop();f&&a.push(f)};if(t>1)o(i);else{var l=Ct(n);l&&o(l)}},e.prototype.classifyToolbarItems=function(){var t=this,n=0,i=this.refs.el.clientWidth,a=this.refs.el.querySelector("."+J("toolbar-divider")),o=a?Yp(a):0,l=[],c=[],f=!1;return this.initialItems.forEach(function(h,p){var v=[],g=[];h.forEach(function(y,x){y.hidden||(n+=t.itemWidthMap[y.name],n>i-uSe?(f||(t.movePrevItemToDropdownToolbar(x,l,v,g),f=!0),g.push(y)):v.push(y))}),v.length&&(Pu(v),l.push(v)),g.length&&(Pu(g),c.push(g)),p<t.state.items.length-1&&(n+=o)}),{items:l,dropdownItems:c}},e.prototype.mounted=function(){this.props.previewStyle==="tab"&&this.props.eventEmitter.emit("changePreviewTabWrite",!0),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},e.prototype.updated=function(t){var n=this.props,i=n.editorType,a=n.previewStyle,o=n.eventEmitter,l=a!==t.previewStyle,c=i!==t.editorType;if(l||c){ZEe(this.initialItems,this.hiddenScrollSync());var f=this.classifyToolbarItems();(l||a==="tab"&&i==="markdown")&&(o.emit("changePreviewTabWrite"),f.activeTab="write"),this.setState(f)}},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),sa(this.tooltipRef.current)},e.prototype.render=function(){var t=this,n=this.props,i=n.previewStyle,a=n.eventEmitter,o=n.editorType,l=this.state,c=l.popupInfo,f=l.showPopup,h=l.activeTab,p=l.items,v=l.dropdownItems,g={eventEmitter:a,tooltipRef:this.tooltipRef,disabled:o==="markdown"&&i==="tab"&&h==="preview",execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},y=i==="tab"?{borderTopLeftRadius:0}:null;return ge(x0||(x0=me([`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `],[`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `])),J("toolbar"),J("md-tab-container"),o==="wysiwyg"||i==="vertical"?"none":"block",xk,this.tabs,h,this.toggleTab,J("defaultUI-toolbar"),function(x){return t.refs.el=x},y,p.map(function(x,T){var E;return ge(C0||(C0=me([`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `],[`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `])),Tk,x,T===p.length-1||((E=p[T+1])===null||E===void 0?void 0:E.hidden),t.setItemWidth,g)}),lSe,Xh("more"),v,g,eSe,c,f,a,this.hidePopup,this.execCommand)},e}(xt),C0,x0,fSe=function(r){G(e,r);function e(t){var n=r.call(this,t)||this;return n.handleClickDocument=function(i){nn(i.target,"."+J("context-menu"))||n.setState({pos:null})},n.state={pos:null,menuGroups:[]},n.addEvent(),n}return e.prototype.addEvent=function(){var t=this;this.props.eventEmitter.listen("contextmenu",function(n){var i=n.pos,a=n.menuGroups;t.setState({pos:i,menuGroups:a})})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.getMenuGroupElements=function(){var t=this,n=this.state,i=n.pos,a=n.menuGroups;return i?a.reduce(function(o,l){var c=[];return l.forEach(function(f){var h=f.label,p=f.className,v=p===void 0?!1:p,g=f.disabled,y=f.onClick,x=function(){g||(y(),t.setState({pos:null}))};c.push(ge(T0||(T0=me([`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `],[`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `])),x,g?" disabled":"",v,h))}),o.push(ge(k0||(k0=me([`<ul class="menu-group">
              `,`
            </ul>`],[`<ul class="menu-group">
              `,`
            </ul>`])),c)),o},[]):[]},e.prototype.render=function(){var t=I({display:this.state.pos?"block":"none"},this.state.pos);return ge(E0||(E0=me(['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`],['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`])),J("context-menu"),t,this.getMenuGroupElements())},e}(xt),T0,k0,E0,dSe=function(r){G(e,r);function e(t){var n=r.call(this,t)||this;n.changeMode=function(o){o!==n.state.editorType&&n.setState({editorType:o})},n.changePreviewStyle=function(o){o!==n.state.previewStyle&&n.setState({previewStyle:o})},n.hide=function(){n.setState({hide:!0})},n.show=function(){n.setState({hide:!1})};var i=t.editorType,a=t.previewStyle;return n.state={editorType:i,previewStyle:a,hide:!1},n.addEvent(),n}return e.prototype.mounted=function(){var t=this.props.slots,n=t.wwEditor,i=t.mdEditor,a=t.mdPreview;this.refs.wwContainer.appendChild(n),this.refs.mdContainer.insertAdjacentElement("afterbegin",i),this.refs.mdContainer.appendChild(a)},e.prototype.insertToolbarItem=function(t,n){this.toolbar.insertToolbarItem(t,n)},e.prototype.removeToolbarItem=function(t){this.toolbar.removeToolbarItem(t)},e.prototype.render=function(){var t=this,n=this.props,i=n.eventEmitter,a=n.hideModeSwitch,o=n.toolbarItems,l=n.theme,c=this.state,f=c.hide,h=c.previewStyle,p=c.editorType,v=f?" hidden":"",g=J(p==="markdown"?"md-mode":"ww-mode"),y=J("md")+"-"+h+"-style",x=J([l!=="light",l+" "]);return ge(M0||(M0=me([`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `],[`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `])),x,J("defaultUI"),v,function(T){return t.refs.el=T},cSe,function(T){return t.toolbar=T},i,h,o,p,J("main"),g,function(T){return t.refs.editorSection=T},J("main-container"),J("md-container"),y,function(T){return t.refs.mdContainer=T},J("md-splitter"),J("ww-container"),function(T){return t.refs.wwContainer=T},!a&&ge(S0||(S0=me(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),gEe,i,p),fSe,i)},e.prototype.addEvent=function(){var t=this.props.eventEmitter;t.listen("hide",this.hide),t.listen("show",this.show),t.listen("changeMode",this.changeMode),t.listen("changePreviewStyle",this.changePreviewStyle)},e}(xt),S0,M0,hSe=function(r){G(e,r);function e(t){var n,i=r.call(this,t)||this,a,o=mEe(i.options.el,ge(O0||(O0=me([`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `],[`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `])),dSe,function(l){return a=l},i.eventEmitter,i.getEditorElements(),i.options.hideModeSwitch,i.options.toolbarItems,i.options.previewStyle,i.options.initialEditType,i.options.theme));return i.setMinHeight(i.options.minHeight),i.setHeight(i.options.height),i.defaultUI={insertToolbarItem:a.insertToolbarItem.bind(a),removeToolbarItem:a.removeToolbarItem.bind(a),destroy:o},(n=i.pluginInfo.toolbarItems)===null||n===void 0||n.forEach(function(l){var c=l.groupIndex,f=l.itemIndex,h=l.item;i.defaultUI.insertToolbarItem({groupIndex:c,itemIndex:f},h)}),i.eventEmitter.emit("loadUI",i),i}return e.factory=function(t){return t.viewer?new fk(t):new e(t)},e.prototype.insertToolbarItem=function(t,n){this.defaultUI.insertToolbarItem(t,n)},e.prototype.removeToolbarItem=function(t){this.defaultUI.removeToolbarItem(t)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.defaultUI.destroy()},e}(hk),O0;hk.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});window.Alpine=oC;oC.start();const vo=new hSe({el:document.querySelector("#editor"),height:"200px",initialEditType:"markdown",placeholder:"",theme:"dark"});document.querySelector("#createReplyForm")&&document.querySelector("#createReplyForm").addEventListener("submit",r=>{r.preventDefault(),document.querySelector("#content").value=vo.getMarkdown(),r.target.submit()});document.querySelector("#createTopicForm")&&document.querySelector("#createTopicForm").addEventListener("submit",r=>{r.preventDefault(),document.querySelector("#content").value=vo.getMarkdown(),r.target.submit()});document.querySelector("#editReplyForm")&&(vo.setMarkdown(document.querySelector("#oldContent").value),document.querySelector("#editReplyForm").addEventListener("submit",r=>{r.preventDefault(),document.querySelector("#content").value=vo.getMarkdown(),r.target.submit()}));document.querySelector("#editTopicForm")&&(vo.setMarkdown(document.querySelector("#oldContent").value),document.querySelector("#editTopicForm").addEventListener("submit",r=>{r.preventDefault(),document.querySelector("#content").value=vo.getMarkdown(),r.target.submit()}));
